/*! For license information please see main.f6727e42.js.LICENSE.txt */
!function(){var e={403:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},303:function(e,t,n){"use strict";var r=n(836);t.Z=void 0;var i=r(n(649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"m17.21 9-4.38-6.56c-.19-.28-.51-.42-.83-.42-.32 0-.64.14-.83.43L6.79 9H2c-.55 0-1 .45-1 1 0 .09.01.18.04.27l2.54 9.27c.23.84 1 1.46 1.92 1.46h13c.92 0 1.69-.62 1.93-1.46l2.54-9.27L23 10c0-.55-.45-1-1-1h-4.79zM9 9l3-4.4L15 9H9zm3 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}),"ShoppingBasket");t.Z=o},649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(661)},661:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return u},createChainedFunction:function(){return s},createSvgIcon:function(){return ir},debounce:function(){return ar},deprecatedPropType:function(){return or},isMuiElement:function(){return ur},ownerDocument:function(){return cr},ownerWindow:function(){return lr},requirePropFactory:function(){return fr},setRef:function(){return dr},unstable_ClassNameGenerator:function(){return Dr},unstable_useEnhancedEffect:function(){return vr},unstable_useId:function(){return gr},unsupportedProp:function(){return kr},useControlled:function(){return br},useEventCallback:function(){return wr},useForkRef:function(){return xr},useIsFocusVisible:function(){return Or}});var r=function(e){return e},i=function(){var e=r;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=r}}}();function a(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}function o(e){if("string"!==typeof e)throw new Error(a(7));return e.charAt(0).toUpperCase()+e.slice(1)}var u=o;var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))};function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l=n(791),f=n.t(l,2);function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var p=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r};var v=n(413);function m(e,t){var n=(0,v.Z)({},t);return Object.keys(e).forEach((function(r){if(r.toString().match(/^(components|slots)$/))n[r]=(0,v.Z)((0,v.Z)({},e[r]),n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){var i=e[r]||{},a=t[r];n[r]={},a&&Object.keys(a)?i&&Object.keys(i)?(n[r]=(0,v.Z)({},a),Object.keys(i).forEach((function(e){n[r][e]=m(i[e],a[e])}))):n[r]=a:n[r]=i}else void 0===n[r]&&(n[r]=e[r])})),n}function y(e){var t=e.theme,n=e.name,r=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?m(t.components[n].defaultProps,r):r}function g(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function k(e){if(!g(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=k(e[n])})),t}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?(0,v.Z)({},e):e;return g(e)&&g(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(g(t[i])&&i in e&&g(e[i])?r[i]=b(e[i],t[i],n):n.clone?r[i]=g(t[i])?k(t[i]):t[i]:r[i]=t[i])})),r}var w=n(942),_=["values","unit","step"],x=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return c({},e,(0,w.Z)({},t.key,t.val))}),{})};var S={borderRadius:4},E=n(439),I={xs:0,sm:600,md:900,lg:1200,xl:1536},T={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(I[e],"px)")}};function C(e,t,n){var r=e.theme||{};if(Array.isArray(t)){var i=r.breakpoints||T;return t.reduce((function(e,r,a){return e[i.up(i.keys[a])]=n(t[a]),e}),{})}if("object"===typeof t){var a=r.breakpoints||T;return Object.keys(t).reduce((function(e,r){if(-1!==Object.keys(a.values||I).indexOf(r)){e[a.up(r)]=n(t[r],r)}else{var i=r;e[i]=t[i]}return e}),{})}return n(t)}function A(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function N(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function O(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function D(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:O(e,n)||i,t&&(r=t(r,i,e)),r}var R=function(e){var t=e.prop,n=e.cssProperty,r=void 0===n?e.prop:n,i=e.themeKey,a=e.transform,u=function(e){if(null==e[t])return null;var n=e[t],u=O(e.theme,i)||{};return C(e,n,(function(e){var n=D(u,a,e);return e===n&&"string"===typeof e&&(n=D(u,a,"".concat(t).concat("default"===e?"":o(e)),e)),!1===r?n:(0,w.Z)({},r,n)}))};return u.propTypes={},u.filterProps=[t],u};var P=function(e,t){return t?b(e,t,{clone:!1}):e};var M={m:"margin",p:"padding"},L={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},F={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},j=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!F[e])return[e];e=F[e]}var t=e.split(""),n=(0,E.Z)(t,2),r=n[0],i=n[1],a=M[r],o=L[i]||"";return Array.isArray(o)?o.map((function(e){return a+e})):[a+o]})),U=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],V=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],B=[].concat(U,V);function z(e,t,n,r){var i,a=null!=(i=O(e,t,!1))?i:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function q(e){return z(e,"spacing",8)}function W(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function G(e,t,n,r){if(-1===t.indexOf(n))return null;var i=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=W(t,n),e}),{})}}(j(n),r);return C(e,e[n],i)}function H(e,t){var n=q(e.theme);return Object.keys(e).map((function(r){return G(e,t,r,n)})).reduce(P,{})}function K(e){return H(e,U)}function Y(e){return H(e,V)}function Z(e){return H(e,B)}K.propTypes={},K.filterProps=U,Y.propTypes={},Y.filterProps=V,Z.propTypes={},Z.filterProps=B;var Q=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),i=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?P(t,r[n](e)):t}),{})};return i.propTypes={},i.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),i};function $(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var X=R({prop:"border",themeKey:"borders",transform:$}),J=R({prop:"borderTop",themeKey:"borders",transform:$}),ee=R({prop:"borderRight",themeKey:"borders",transform:$}),te=R({prop:"borderBottom",themeKey:"borders",transform:$}),ne=R({prop:"borderLeft",themeKey:"borders",transform:$}),re=R({prop:"borderColor",themeKey:"palette"}),ie=R({prop:"borderTopColor",themeKey:"palette"}),ae=R({prop:"borderRightColor",themeKey:"palette"}),oe=R({prop:"borderBottomColor",themeKey:"palette"}),ue=R({prop:"borderLeftColor",themeKey:"palette"}),se=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=z(e.theme,"shape.borderRadius",4);return C(e,e.borderRadius,(function(e){return{borderRadius:W(t,e)}}))}return null};se.propTypes={},se.filterProps=["borderRadius"];Q(X,J,ee,te,ne,re,ie,ae,oe,ue,se);var ce=function(e){if(void 0!==e.gap&&null!==e.gap){var t=z(e.theme,"spacing",8);return C(e,e.gap,(function(e){return{gap:W(t,e)}}))}return null};ce.propTypes={},ce.filterProps=["gap"];var le=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=z(e.theme,"spacing",8);return C(e,e.columnGap,(function(e){return{columnGap:W(t,e)}}))}return null};le.propTypes={},le.filterProps=["columnGap"];var fe=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=z(e.theme,"spacing",8);return C(e,e.rowGap,(function(e){return{rowGap:W(t,e)}}))}return null};fe.propTypes={},fe.filterProps=["rowGap"];Q(ce,le,fe,R({prop:"gridColumn"}),R({prop:"gridRow"}),R({prop:"gridAutoFlow"}),R({prop:"gridAutoColumns"}),R({prop:"gridAutoRows"}),R({prop:"gridTemplateColumns"}),R({prop:"gridTemplateRows"}),R({prop:"gridTemplateAreas"}),R({prop:"gridArea"}));function he(e,t){return"grey"===t?t:e}Q(R({prop:"color",themeKey:"palette",transform:he}),R({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:he}),R({prop:"backgroundColor",themeKey:"palette",transform:he}));function de(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var pe=R({prop:"width",transform:de}),ve=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return C(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||I[t]||de(t)}}))}return null};ve.filterProps=["maxWidth"];var me=R({prop:"minWidth",transform:de}),ye=R({prop:"height",transform:de}),ge=R({prop:"maxHeight",transform:de}),ke=R({prop:"minHeight",transform:de}),be=(R({prop:"size",cssProperty:"width",transform:de}),R({prop:"size",cssProperty:"height",transform:de}),Q(pe,ve,me,ye,ge,ke,R({prop:"boxSizing"})),{border:{themeKey:"borders",transform:$},borderTop:{themeKey:"borders",transform:$},borderRight:{themeKey:"borders",transform:$},borderBottom:{themeKey:"borders",transform:$},borderLeft:{themeKey:"borders",transform:$},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:se},color:{themeKey:"palette",transform:he},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:he},backgroundColor:{themeKey:"palette",transform:he},p:{style:Y},pt:{style:Y},pr:{style:Y},pb:{style:Y},pl:{style:Y},px:{style:Y},py:{style:Y},padding:{style:Y},paddingTop:{style:Y},paddingRight:{style:Y},paddingBottom:{style:Y},paddingLeft:{style:Y},paddingX:{style:Y},paddingY:{style:Y},paddingInline:{style:Y},paddingInlineStart:{style:Y},paddingInlineEnd:{style:Y},paddingBlock:{style:Y},paddingBlockStart:{style:Y},paddingBlockEnd:{style:Y},m:{style:K},mt:{style:K},mr:{style:K},mb:{style:K},ml:{style:K},mx:{style:K},my:{style:K},margin:{style:K},marginTop:{style:K},marginRight:{style:K},marginBottom:{style:K},marginLeft:{style:K},marginX:{style:K},marginY:{style:K},marginInline:{style:K},marginInlineStart:{style:K},marginInlineEnd:{style:K},marginBlock:{style:K},marginBlockStart:{style:K},marginBlockEnd:{style:K},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:ce},rowGap:{style:fe},columnGap:{style:le},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:de},maxWidth:{style:ve},minWidth:{transform:de},height:{transform:de},maxHeight:{transform:de},minHeight:{transform:de},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});var we=function(){function e(e,t,n,r){var i,a=(i={},(0,w.Z)(i,e,t),(0,w.Z)(i,"theme",n),i),u=r[e];if(!u)return(0,w.Z)({},e,t);var s=u.cssProperty,c=void 0===s?e:s,l=u.themeKey,f=u.transform,h=u.style;if(null==t)return null;if("typography"===l&&"inherit"===t)return(0,w.Z)({},e,t);var d=O(n,l)||{};if(h)return h(a);return C(a,t,(function(t){var n=D(d,f,t);return t===n&&"string"===typeof t&&(n=D(d,f,"".concat(e).concat("default"===t?"":o(t)),t)),!1===c?n:(0,w.Z)({},c,n)}))}return function t(n){var r,i=n||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;var s=null!=(r=u.unstable_sxConfig)?r:be;function c(n){var r=n;if("function"===typeof n)r=n(u);else if("object"!==typeof n)return n;if(!r)return null;var i=A(u.breakpoints),a=Object.keys(i),o=i;return Object.keys(r).forEach((function(n){var i,a,c=(i=r[n],a=u,"function"===typeof i?i(a):i);if(null!==c&&void 0!==c)if("object"===typeof c)if(s[n])o=P(o,e(n,c,u,s));else{var l=C({theme:u},c,(function(e){return(0,w.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}(l,c)?o=P(o,l):o[n]=t({sx:c,theme:u})}else o=P(o,e(n,c,u,s))})),N(a,o)}return Array.isArray(a)?a.map(c):c(a)}}();we.filterProps=["sx"];var _e=we,xe=["breakpoints","palette","spacing","shape"];var Se=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,a=e.spacing,o=e.shape,u=void 0===o?{}:o,s=h(e,xe),l=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=h(e,_),s=x(n),l=Object.keys(s);function f(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function d(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-o/100).concat(i,")")}function p(e,t){var r=l.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[l[r]]?n[l[r]]:t)-o/100).concat(i,")")}return c({keys:l,values:s,up:f,down:d,between:p,only:function(e){return l.indexOf(e)+1<l.length?p(e,l[l.indexOf(e)+1]):f(e)},not:function(e){var t=l.indexOf(e);return 0===t?f(l[1]):t===l.length-1?d(l[t]):p(e,l[l.indexOf(e)+1]).replace("@media","@media not all and")},unit:i},u)}(n),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=q({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(a),d=b({breakpoints:l,direction:"ltr",components:{},palette:c({mode:"light"},i),spacing:f,shape:c({},S,u)},s),p=arguments.length,v=new Array(p>1?p-1:0),m=1;m<p;m++)v[m-1]=arguments[m];return(d=v.reduce((function(e,t){return b(e,t)}),d)).unstable_sxConfig=c({},be,null==s?void 0:s.unstable_sxConfig),d.unstable_sx=function(e){return _e({sx:e,theme:this})},d};var Ee=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),Ie=Math.abs,Te=String.fromCharCode,Ce=Object.assign;function Ae(e){return e.trim()}function Ne(e,t,n){return e.replace(t,n)}function Oe(e,t){return e.indexOf(t)}function De(e,t){return 0|e.charCodeAt(t)}function Re(e,t,n){return e.slice(t,n)}function Pe(e){return e.length}function Me(e){return e.length}function Le(e,t){return t.push(e),e}var Fe=1,je=1,Ue=0,Ve=0,Be=0,ze="";function qe(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:Fe,column:je,length:o,return:""}}function We(e,t){return Ce(qe("",null,null,"",null,null,0),e,{length:-e.length},t)}function Ge(){return Be=Ve>0?De(ze,--Ve):0,je--,10===Be&&(je=1,Fe--),Be}function He(){return Be=Ve<Ue?De(ze,Ve++):0,je++,10===Be&&(je=1,Fe++),Be}function Ke(){return De(ze,Ve)}function Ye(){return Ve}function Ze(e,t){return Re(ze,e,t)}function Qe(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $e(e){return Fe=je=1,Ue=Pe(ze=e),Ve=0,[]}function Xe(e){return ze="",e}function Je(e){return Ae(Ze(Ve-1,nt(91===e?e+2:40===e?e+1:e)))}function et(e){for(;(Be=Ke())&&Be<33;)He();return Qe(e)>2||Qe(Be)>3?"":" "}function tt(e,t){for(;--t&&He()&&!(Be<48||Be>102||Be>57&&Be<65||Be>70&&Be<97););return Ze(e,Ye()+(t<6&&32==Ke()&&32==He()))}function nt(e){for(;He();)switch(Be){case e:return Ve;case 34:case 39:34!==e&&39!==e&&nt(Be);break;case 40:41===e&&nt(e);break;case 92:He()}return Ve}function rt(e,t){for(;He()&&e+Be!==57&&(e+Be!==84||47!==Ke()););return"/*"+Ze(t,Ve-1)+"*"+Te(47===e?e:He())}function it(e){for(;!Qe(Ke());)He();return Ze(e,Ve)}var at="-ms-",ot="-moz-",ut="-webkit-",st="comm",ct="rule",lt="decl",ft="@keyframes";function ht(e,t){for(var n="",r=Me(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function dt(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case lt:return e.return=e.return||e.value;case st:return"";case ft:return e.return=e.value+"{"+ht(e.children,r)+"}";case ct:e.value=e.props.join(",")}return Pe(n=ht(e.children,r))?e.return=e.value+"{"+n+"}":""}function pt(e){return Xe(vt("",null,null,null,[""],e=$e(e),0,[0],e))}function vt(e,t,n,r,i,a,o,u,s){for(var c=0,l=0,f=o,h=0,d=0,p=0,v=1,m=1,y=1,g=0,k="",b=i,w=a,_=r,x=k;m;)switch(p=g,g=He()){case 40:if(108!=p&&58==De(x,f-1)){-1!=Oe(x+=Ne(Je(g),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:x+=Je(g);break;case 9:case 10:case 13:case 32:x+=et(p);break;case 92:x+=tt(Ye()-1,7);continue;case 47:switch(Ke()){case 42:case 47:Le(yt(rt(He(),Ye()),t,n),s);break;default:x+="/"}break;case 123*v:u[c++]=Pe(x)*y;case 125*v:case 59:case 0:switch(g){case 0:case 125:m=0;case 59+l:-1==y&&(x=Ne(x,/\f/g,"")),d>0&&Pe(x)-f&&Le(d>32?gt(x+";",r,n,f-1):gt(Ne(x," ","")+";",r,n,f-2),s);break;case 59:x+=";";default:if(Le(_=mt(x,t,n,c,l,i,u,k,b=[],w=[],f),a),123===g)if(0===l)vt(x,t,_,_,b,a,f,u,w);else switch(99===h&&110===De(x,3)?100:h){case 100:case 108:case 109:case 115:vt(e,_,_,r&&Le(mt(e,_,_,0,0,i,u,k,i,b=[],f),w),i,w,f,u,r?b:w);break;default:vt(x,_,_,_,[""],w,0,u,w)}}c=l=d=0,v=y=1,k=x="",f=o;break;case 58:f=1+Pe(x),d=p;default:if(v<1)if(123==g)--v;else if(125==g&&0==v++&&125==Ge())continue;switch(x+=Te(g),g*v){case 38:y=l>0?1:(x+="\f",-1);break;case 44:u[c++]=(Pe(x)-1)*y,y=1;break;case 64:45===Ke()&&(x+=Je(He())),h=Ke(),l=f=Pe(k=x+=it(Ye())),g++;break;case 45:45===p&&2==Pe(x)&&(v=0)}}return a}function mt(e,t,n,r,i,a,o,u,s,c,l){for(var f=i-1,h=0===i?a:[""],d=Me(h),p=0,v=0,m=0;p<r;++p)for(var y=0,g=Re(e,f+1,f=Ie(v=o[p])),k=e;y<d;++y)(k=Ae(v>0?h[y]+" "+g:Ne(g,/&\f/g,h[y])))&&(s[m++]=k);return qe(e,t,n,0===i?ct:u,s,c,l)}function yt(e,t,n){return qe(e,t,n,st,Te(Be),Re(e,2,-2),0)}function gt(e,t,n,r){return qe(e,t,n,lt,Re(e,0,r),Re(e,r+1,-1),r)}var kt=function(e,t,n){for(var r=0,i=0;r=i,i=Ke(),38===r&&12===i&&(t[n]=1),!Qe(i);)He();return Ze(e,Ve)},bt=function(e,t){return Xe(function(e,t){var n=-1,r=44;do{switch(Qe(r)){case 0:38===r&&12===Ke()&&(t[n]=1),e[n]+=kt(Ve-1,t,n);break;case 2:e[n]+=Je(r);break;case 4:if(44===r){e[++n]=58===Ke()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Te(r)}}while(r=He());return e}($e(e),t))},wt=new WeakMap,_t=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||wt.get(n))&&!r){wt.set(e,!0);for(var i=[],a=bt(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},xt=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function St(e,t){switch(function(e,t){return 45^De(e,0)?(((t<<2^De(e,0))<<2^De(e,1))<<2^De(e,2))<<2^De(e,3):0}(e,t)){case 5103:return ut+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return ut+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return ut+e+ot+e+at+e+e;case 6828:case 4268:return ut+e+at+e+e;case 6165:return ut+e+at+"flex-"+e+e;case 5187:return ut+e+Ne(e,/(\w+).+(:[^]+)/,ut+"box-$1$2"+at+"flex-$1$2")+e;case 5443:return ut+e+at+"flex-item-"+Ne(e,/flex-|-self/,"")+e;case 4675:return ut+e+at+"flex-line-pack"+Ne(e,/align-content|flex-|-self/,"")+e;case 5548:return ut+e+at+Ne(e,"shrink","negative")+e;case 5292:return ut+e+at+Ne(e,"basis","preferred-size")+e;case 6060:return ut+"box-"+Ne(e,"-grow","")+ut+e+at+Ne(e,"grow","positive")+e;case 4554:return ut+Ne(e,/([^-])(transform)/g,"$1"+ut+"$2")+e;case 6187:return Ne(Ne(Ne(e,/(zoom-|grab)/,ut+"$1"),/(image-set)/,ut+"$1"),e,"")+e;case 5495:case 3959:return Ne(e,/(image-set\([^]*)/,ut+"$1$`$1");case 4968:return Ne(Ne(e,/(.+:)(flex-)?(.*)/,ut+"box-pack:$3"+at+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+ut+e+e;case 4095:case 3583:case 4068:case 2532:return Ne(e,/(.+)-inline(.+)/,ut+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Pe(e)-1-t>6)switch(De(e,t+1)){case 109:if(45!==De(e,t+4))break;case 102:return Ne(e,/(.+:)(.+)-([^]+)/,"$1"+ut+"$2-$3$1"+ot+(108==De(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Oe(e,"stretch")?St(Ne(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==De(e,t+1))break;case 6444:switch(De(e,Pe(e)-3-(~Oe(e,"!important")&&10))){case 107:return Ne(e,":",":"+ut)+e;case 101:return Ne(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+ut+(45===De(e,14)?"inline-":"")+"box$3$1"+ut+"$2$3$1"+at+"$2box$3")+e}break;case 5936:switch(De(e,t+11)){case 114:return ut+e+at+Ne(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return ut+e+at+Ne(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return ut+e+at+Ne(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return ut+e+at+e+e}return e}var Et=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case lt:e.return=St(e.value,e.length);break;case ft:return ht([We(e,{value:Ne(e.value,"@","@"+ut)})],r);case ct:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ht([We(e,{props:[Ne(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return ht([We(e,{props:[Ne(t,/:(plac\w+)/,":"+ut+"input-$1")]}),We(e,{props:[Ne(t,/:(plac\w+)/,":-moz-$1")]}),We(e,{props:[Ne(t,/:(plac\w+)/,at+"input-$1")]})],r)}return""}))}}],It=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||Et;var i,a,o={},u=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)o[t[n]]=!0;u.push(e)}));var s,c,l=[dt,(c=function(e){s.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=Me(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([_t,xt].concat(r,l));a=function(e,t,n,r){s=n,ht(pt(e?e+"{"+t.styles+"}":t.styles),f),r&&(h.inserted[t.name]=!0)};var h={key:t,sheet:new Ee({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:a};return h.sheet.hydrate(u),h};var Tt={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Ct(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var At=/[A-Z]|^ms/g,Nt=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Ot=function(e){return 45===e.charCodeAt(1)},Dt=function(e){return null!=e&&"boolean"!==typeof e},Rt=Ct((function(e){return Ot(e)?e:e.replace(At,"-$&").toLowerCase()})),Pt=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Nt,(function(e,t,n){return Lt={name:t,styles:n,next:Lt},t}))}return 1===Tt[e]||Ot(e)||"number"!==typeof t||0===t?t:t+"px"};function Mt(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Lt={name:n.name,styles:n.styles,next:Lt},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)Lt={name:r.name,styles:r.styles,next:Lt},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Mt(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":Dt(o)&&(r+=Rt(a)+":"+Pt(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=Mt(e,t,o);switch(a){case"animation":case"animationName":r+=Rt(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)Dt(o[s])&&(r+=Rt(a)+":"+Pt(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=Lt,a=n(e);return Lt=i,Mt(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var Lt,Ft=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var jt=!!f.useInsertionEffect&&f.useInsertionEffect,Ut=jt||function(e){return e()},Vt=(jt||l.useLayoutEffect,l.createContext("undefined"!==typeof HTMLElement?It({key:"css"}):null));Vt.Provider;var Bt=function(e){return(0,l.forwardRef)((function(t,n){var r=(0,l.useContext)(Vt);return e(t,r,n)}))};var zt=l.createContext({});var qt=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=l.useContext(zt);return n&&(e=n,0!==Object.keys(e).length)?n:t},Wt=Se();var Gt=function(){return qt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wt)};function Ht(e,t){var n;return c({toolbar:(n={minHeight:56},(0,w.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,w.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}function Kt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Yt(e){if(e.type)return e;if("#"===e.charAt(0))return Yt(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error(a(9,e));var r,i=e.substring(t+1,e.length-1);if("color"===n){if(r=(i=i.split(" ")).shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r))throw new Error(a(10,r))}else i=i.split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)})),colorSpace:r}}function Zt(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Qt(e){var t="hsl"===(e=Yt(e)).type||"hsla"===e.type?Yt(function(e){var t=(e=Yt(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Zt({type:u,values:s})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function $t(e,t){if(e=Yt(e),t=Kt(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Zt(e)}function Xt(e,t){if(e=Yt(e),t=Kt(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return Zt(e)}var Jt={black:"#000",white:"#fff"},en={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},tn={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},nn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},rn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},an={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},on={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},un={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},sn=["mode","contrastThreshold","tonalOffset"],cn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jt.white,default:Jt.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ln={text:{primary:Jt.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jt.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function fn(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Xt(e.main,i):"dark"===t&&(e.dark=$t(e.main,a)))}function hn(e){var t=e.mode,n=void 0===t?"light":t,r=e.contrastThreshold,i=void 0===r?3:r,o=e.tonalOffset,u=void 0===o?.2:o,s=h(e,sn),l=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:an[200],light:an[50],dark:an[400]}:{main:an[700],light:an[400],dark:an[800]}}(n),f=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:tn[200],light:tn[50],dark:tn[400]}:{main:tn[500],light:tn[300],dark:tn[700]}}(n),d=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:nn[500],light:nn[300],dark:nn[700]}:{main:nn[700],light:nn[400],dark:nn[800]}}(n),p=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:on[400],light:on[300],dark:on[700]}:{main:on[700],light:on[500],dark:on[900]}}(n),v=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:un[400],light:un[300],dark:un[700]}:{main:un[800],light:un[500],dark:un[900]}}(n),m=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:rn[400],light:rn[300],dark:rn[700]}:{main:"#ed6c02",light:rn[500],dark:rn[900]}}(n);function y(e){var t=function(e,t){var n=Qt(e),r=Qt(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ln.text.primary)>=i?ln.text.primary:cn.text.primary;return t}var g=function(e){var t=e.color,n=e.name,r=e.mainShade,i=void 0===r?500:r,o=e.lightShade,s=void 0===o?300:o,l=e.darkShade,f=void 0===l?700:l;if(!(t=c({},t)).main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(a(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(a(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return fn(t,"light",s,u),fn(t,"dark",f,u),t.contrastText||(t.contrastText=y(t.main)),t},k={dark:ln,light:cn};return b(c({common:c({},Jt),mode:n,primary:g({color:l,name:"primary"}),secondary:g({color:f,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:g({color:d,name:"error"}),warning:g({color:m,name:"warning"}),info:g({color:p,name:"info"}),success:g({color:v,name:"success"}),grey:en,contrastThreshold:i,getContrastText:y,augmentColor:g,tonalOffset:u},k[n]),s)}var dn=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var pn={textTransform:"uppercase"},vn='"Roboto", "Helvetica", "Arial", sans-serif';function mn(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?vn:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,l=n.fontWeightRegular,f=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,m=void 0===v?700:v,y=n.htmlFontSize,g=void 0===y?16:y,k=n.allVariants,w=n.pxToRem,_=h(n,dn);var x=o/14,S=w||function(e){return"".concat(e/g*x,"rem")},E=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:S(t),lineHeight:n},i===vn?{letterSpacing:"".concat((o=r/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},I={h1:E(s,96,1.167,-1.5),h2:E(s,60,1.2,-.5),h3:E(f,48,1.167,0),h4:E(f,34,1.235,.25),h5:E(f,24,1.334,0),h6:E(p,20,1.6,.15),subtitle1:E(f,16,1.75,.15),subtitle2:E(p,14,1.57,.1),body1:E(f,16,1.5,.15),body2:E(f,14,1.43,.15),button:E(p,14,1.75,.4,pn),caption:E(f,12,1.66,.4),overline:E(f,12,2.66,1,pn),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return b(c({htmlFontSize:g,pxToRem:S,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:f,fontWeightMedium:p,fontWeightBold:m},I),_,{clone:!1})}function yn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var gn=["none",yn(0,2,1,-1,0,1,1,0,0,1,3,0),yn(0,3,1,-2,0,2,2,0,0,1,5,0),yn(0,3,3,-2,0,3,4,0,0,1,8,0),yn(0,2,4,-1,0,4,5,0,0,1,10,0),yn(0,3,5,-1,0,5,8,0,0,1,14,0),yn(0,3,5,-1,0,6,10,0,0,1,18,0),yn(0,4,5,-2,0,7,10,1,0,2,16,1),yn(0,5,5,-3,0,8,10,1,0,3,14,2),yn(0,5,6,-3,0,9,12,1,0,3,16,2),yn(0,6,6,-3,0,10,14,1,0,4,18,3),yn(0,6,7,-4,0,11,15,1,0,4,20,3),yn(0,7,8,-4,0,12,17,2,0,5,22,4),yn(0,7,8,-4,0,13,19,2,0,5,24,4),yn(0,7,9,-4,0,14,21,2,0,5,26,4),yn(0,8,9,-5,0,15,22,2,0,6,28,5),yn(0,8,10,-5,0,16,24,2,0,6,30,5),yn(0,8,11,-5,0,17,26,2,0,6,32,5),yn(0,9,11,-5,0,18,28,2,0,7,34,6),yn(0,9,12,-6,0,19,29,2,0,7,36,6),yn(0,10,13,-6,0,20,31,3,0,8,38,7),yn(0,10,13,-6,0,21,33,3,0,8,40,7),yn(0,10,14,-6,0,22,35,3,0,8,42,7),yn(0,11,14,-7,0,23,36,3,0,9,44,8),yn(0,11,15,-7,0,24,38,3,0,9,46,8)],kn=["duration","easing","delay"],bn={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wn={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _n(e){return"".concat(Math.round(e),"ms")}function xn(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function Sn(e){var t=c({},bn,e.easing),n=c({},wn,e.duration);return c({getAutoHeightDuration:xn,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.duration,a=void 0===i?n.standard:i,o=r.easing,u=void 0===o?t.easeInOut:o,s=r.delay,c=void 0===s?0:s;h(r,kn);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:_n(a)," ").concat(u," ").concat("string"===typeof c?c:_n(c))})).join(",")}},e,{easing:t,duration:n})}var En={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},In=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Tn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,r=e.palette,i=void 0===r?{}:r,o=e.transitions,u=void 0===o?{}:o,s=e.typography,l=void 0===s?{}:s,f=h(e,In);if(e.vars)throw new Error(a(18));var d=hn(i),p=Se(e),v=b(p,{mixins:Ht(p.breakpoints,n),palette:d,shadows:gn.slice(),typography:mn(d,l),transitions:Sn(u),zIndex:c({},En)});v=b(v,f);for(var m=arguments.length,y=new Array(m>1?m-1:0),g=1;g<m;g++)y[g-1]=arguments[g];return(v=y.reduce((function(e,t){return b(e,t)}),v)).unstable_sxConfig=c({},be,null==f?void 0:f.unstable_sxConfig),v.unstable_sx=function(e){return _e({sx:e,theme:this})},v}var Cn=Tn(),An="$$material";function Nn(e){return function(e){var t=e.props,n=e.name,r=e.defaultTheme,i=e.themeId,a=Gt(r);return i&&(a=a[i]||a),y({theme:a,name:n,props:t})}({props:e.props,name:e.name,defaultTheme:Cn,themeId:An})}var On=n(433),Dn=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/;var Rn=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Pn=Ct((function(e){return Dn.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),Mn=function(e){return"theme"!==e},Ln=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Pn:Mn},Fn=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},jn=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Rn(t,n,r),Ut((function(){return function(e,t,n){Rn(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)})),null},Un=function e(t,n){var r,i,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var u=Fn(t,n,a),s=u||Ln(o),f=!s("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{0,d.push(h[0][0]);for(var p=h.length,v=1;v<p;v++)d.push(h[v],h[0][v])}var m=Bt((function(e,t,n){var r=f&&e.as||o,a="",c=[],h=e;if(null==e.theme){for(var p in h={},e)h[p]=e[p];h.theme=l.useContext(zt)}"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,c,e.className):null!=e.className&&(a=e.className+" ");var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Lt=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=Mt(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=Mt(n,t,e[o]),r&&(i+=a[o]);Ft.lastIndex=0;for(var u,s="";null!==(u=Ft.exec(i));)s+="-"+u[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+s;return{name:c,styles:i,next:Lt}}(d.concat(c),t.registered,h);a+=t.key+"-"+v.name,void 0!==i&&(a+=" "+i);var m=f&&void 0===u?Ln(r):s,y={};for(var g in e)f&&"as"===g||m(g)&&(y[g]=e[g]);return y.className=a,y.ref=n,l.createElement(l.Fragment,null,l.createElement(jn,{cache:t,serialized:v,isStringTag:"string"===typeof r}),l.createElement(r,y))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=u,Object.defineProperty(m,"toString",{value:function(){return"."+i}}),m.withComponent=function(t,r){return e(t,c({},n,r,{shouldForwardProp:Fn(m,r,!0)})).apply(void 0,d)},m}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Un[e]=Un(e)}));var Vn=["variant"];function Bn(e){return 0===e.length}function zn(e){var t=e.variant,n=h(e,Vn),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Bn(r)?e[t]:o(e[t]):"".concat(Bn(r)?t:o(t)).concat(o(e[t].toString()))})),r}var qn=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Wn(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var Gn=Se();function Hn(e){var t,n=e.defaultTheme,r=e.theme,i=e.themeId;return t=r,0===Object.keys(t).length?n:r[i]||r}var Kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=void 0===n?Gn:n,i=e.rootShouldForwardProp,a=void 0===i?Wn:i,o=e.slotShouldForwardProp,u=void 0===o?Wn:o,s=function(e){return _e(c({},e,{theme:Hn(c({},e,{defaultTheme:r,themeId:t}))}))};return s.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var i=n.name,o=n.slot,l=n.skipVariantsResolver,f=n.skipSx,d=n.overridesResolver,p=h(n,qn),v=void 0!==l?l:o&&"Root"!==o||!1,m=f||!1;var y=Wn;"Root"===o?y=a:o?y=u:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(y=void 0);var g=function(e,t){return Un(e,t)}(e,c({shouldForwardProp:y,label:undefined},p)),k=function(n){for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];var l=o?o.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(n){return e(c({},n,{theme:Hn(c({},n,{defaultTheme:r,themeId:t}))}))}:e})):[],f=n;i&&d&&l.push((function(e){var n=Hn(c({},e,{defaultTheme:r,themeId:t})),a=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null}(i,n);if(a){var o={};return Object.entries(a).forEach((function(t){var r=(0,E.Z)(t,2),i=r[0],a=r[1];o[i]="function"===typeof a?a(c({},e,{theme:n})):a})),d(e,o)}return null})),i&&!v&&l.push((function(e){var n=Hn(c({},e,{defaultTheme:r,themeId:t}));return function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[zn(n.props)])})),s}(e,function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=zn(e.props);r[t]=e.style})),r}(i,n),n,i)})),m||l.push(s);var h=l.length-o.length;if(Array.isArray(n)&&h>0){var p=new Array(h).fill("");(f=[].concat((0,On.Z)(n),(0,On.Z)(p))).raw=[].concat((0,On.Z)(n.raw),(0,On.Z)(p))}else"function"===typeof n&&n.__emotion_real!==n&&(f=function(e){return n(c({},e,{theme:Hn(c({},e,{defaultTheme:r,themeId:t}))}))});var y=g.apply(void 0,[f].concat((0,On.Z)(l)));return e.muiName&&(y.muiName=e.muiName),y};return g.withConfig&&(k.withConfig=g.withConfig),k}}({themeId:An,defaultTheme:Cn,rootShouldForwardProp:function(e){return Wn(e)&&"classes"!==e}}),Yn=Kn,Zn={active:"active",checked:"checked",completed:"completed",disabled:"disabled",readOnly:"readOnly",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function Qn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r=Zn[t];return r?"".concat(n,"-").concat(r):"".concat(i.generate(e),"-").concat(t)}function $n(e){return Qn("MuiSvgIcon",e)}!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};t.forEach((function(t){r[t]=Qn(e,t,n)}))}("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var Xn=n(184),Jn=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],er=function(e){var t=e.color,n=e.fontSize,r=e.classes;return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){if(r){var i=t(r);""!==i&&e.push(i),n&&n[r]&&e.push(n[r])}return e}),[]).join(" ")})),r}({root:["root","inherit"!==t&&"color".concat(u(t)),"fontSize".concat(u(n))]},$n,r)},tr=Yn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat(u(n.color))],t["fontSize".concat(u(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,h,d,p,v,m,y,g=e.theme,k=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=g.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=g.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=g.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=g.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=g.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875rem"}[k.fontSize],color:null!=(f=null==(h=(g.vars||g).palette)||null==(d=h[k.color])?void 0:d.main)?f:{action:null==(p=(g.vars||g).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(g.vars||g).palette)||null==(y=m.action)?void 0:y.disabled,inherit:void 0}[k.color]}})),nr=l.forwardRef((function(e,t){var n=Nn({props:e,name:"MuiSvgIcon"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"inherit":a,u=n.component,s=void 0===u?"svg":u,l=n.fontSize,f=void 0===l?"medium":l,d=n.htmlColor,v=n.inheritViewBox,m=void 0!==v&&v,y=n.titleAccess,g=n.viewBox,k=void 0===g?"0 0 24 24":g,b=h(n,Jn),w=c({},n,{color:o,component:s,fontSize:f,instanceFontSize:e.fontSize,inheritViewBox:m,viewBox:k}),_={};m||(_.viewBox=k);var x=er(w);return(0,Xn.jsxs)(tr,c({as:s,className:p(x.root,i),focusable:"false",color:d,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:t},_,b,{ownerState:w,children:[r,y?(0,Xn.jsx)("title",{children:y}):null]}))}));nr.muiName="SvgIcon";var rr=nr;function ir(e,t){function n(n,r){return(0,Xn.jsx)(rr,c({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=rr.muiName,l.memo(l.forwardRef(n))}var ar=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];clearTimeout(t),t=setTimeout((function(){e.apply(r,a)}),n)}return r.clear=function(){clearTimeout(t)},r};var or=function(e,t){return function(){return null}};var ur=function(e,t){return l.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)};function sr(e){return e&&e.ownerDocument||document}var cr=sr;var lr=function(e){return sr(e).defaultView||window};var fr=function(e,t){return function(){return null}};function hr(e,t){"function"===typeof e?e(t):e&&(e.current=t)}var dr=hr,pr="undefined"!==typeof window?l.useLayoutEffect:l.useEffect,vr=pr,mr=0;var yr=f["useId".toString()];var gr=function(e){if(void 0!==yr){var t=yr();return null!=e?e:t}return function(e){var t=l.useState(e),n=(0,E.Z)(t,2),r=n[0],i=n[1],a=e||r;return l.useEffect((function(){null==r&&i("mui-".concat(mr+=1))}),[r]),a}(e)};var kr=function(e,t,n,r,i){return null};var br=function(e){var t=e.controlled,n=e.default,r=(e.name,e.state,l.useRef(void 0!==t).current),i=l.useState(n),a=(0,E.Z)(i,2),o=a[0],u=a[1];return[r?t:o,l.useCallback((function(e){r||u(e)}),[])]};var wr=function(e){var t=l.useRef(e);return pr((function(){t.current=e})),l.useCallback((function(){return t.current.apply(void 0,arguments)}),[])};var _r,xr=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return l.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){hr(t,e)}))}}),t)},Sr=!0,Er=!1,Ir={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Tr(e){e.metaKey||e.altKey||e.ctrlKey||(Sr=!0)}function Cr(){Sr=!1}function Ar(){"hidden"===this.visibilityState&&Er&&(Sr=!0)}function Nr(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return Sr||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!Ir[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var Or=function(){var e=l.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Tr,!0),t.addEventListener("mousedown",Cr,!0),t.addEventListener("pointerdown",Cr,!0),t.addEventListener("touchstart",Cr,!0),t.addEventListener("visibilitychange",Ar,!0))}),[]),t=l.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Nr(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Er=!0,window.clearTimeout(_r),_r=window.setTimeout((function(){Er=!1}),100),t.current=!1,!0)},ref:e}},Dr={configure:function(e){i.configure(e)}}},764:function(e,t,n){!function(e,t){"use strict";function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e){return i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return u(e)||s(e,t)||c(e,t)||f()}function u(e){if(Array.isArray(e))return e}function s(e,t){var n=e&&("undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}function c(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){return e(t={exports:{}},t.exports),t.exports}t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t;var d="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";function p(){}function v(){}v.resetWarningCache=p;var m=function(){function e(e,t,n,r,i,a){if(a!==d){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:v,resetWarningCache:p};return n.PropTypes=n,n},y=h((function(e){e.exports=m()})),g=function(e){var n=t.useRef(e);return t.useEffect((function(){n.current=e}),[e]),n.current},k=function(e){return null!==e&&"object"===i(e)},b=function(e){return k(e)&&"function"===typeof e.then},w=function(e){return k(e)&&"function"===typeof e.elements&&"function"===typeof e.createToken&&"function"===typeof e.createPaymentMethod&&"function"===typeof e.confirmCardPayment},_="[object Object]",x=function e(t,n){if(!k(t)||!k(n))return t===n;var r=Array.isArray(t);if(r!==Array.isArray(n))return!1;var i=Object.prototype.toString.call(t)===_;if(i!==(Object.prototype.toString.call(n)===_))return!1;if(!i&&!r)return t===n;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(var u={},s=0;s<a.length;s+=1)u[a[s]]=!0;for(var c=0;c<o.length;c+=1)u[o[c]]=!0;var l=Object.keys(u);if(l.length!==a.length)return!1;var f=t,h=n,d=function(t){return e(f[t],h[t])};return l.every(d)},S=function(e,t,n){return k(e)?Object.keys(e).reduce((function(i,o){var u=!k(t)||!x(e[o],t[o]);return n.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):u?r(r({},i||{}),{},a({},o,e[o])):i}),null):null},E="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",I=function(e){if(null===e||w(e))return e;throw new Error(E)},T=function(e){if(b(e))return{tag:"async",stripePromise:Promise.resolve(e).then(I)};var t=I(e);return null===t?{tag:"empty"}:{tag:"sync",stripe:t}},C=t.createContext(null);C.displayName="ElementsContext";var A=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},N=t.createContext(null);N.displayName="CartElementContext";var O=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},D=function(e){var n=e.stripe,r=e.options,i=e.children,a=t.useMemo((function(){return T(n)}),[n]),u=o(t.useState(null),2),s=u[0],c=u[1],l=o(t.useState(null),2),f=l[0],h=l[1],d=o(t.useState((function(){return{stripe:"sync"===a.tag?a.stripe:null,elements:"sync"===a.tag?a.stripe.elements(r):null}})),2),p=d[0],v=d[1];t.useEffect((function(){var e=!0,t=function(e){v((function(t){return t.stripe?t:{stripe:e,elements:e.elements(r)}}))};return"async"!==a.tag||p.stripe?"sync"!==a.tag||p.stripe||t(a.stripe):a.stripePromise.then((function(n){n&&e&&t(n)})),function(){e=!1}}),[a,p,r]);var m=g(n);t.useEffect((function(){null!==m&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")}),[m,n]);var y=g(r);return t.useEffect((function(){if(p.elements){var e=S(r,y,["clientSecret","fonts"]);e&&p.elements.update(e)}}),[r,y,p.elements]),t.useEffect((function(){var e=p.stripe;e&&e._registerWrapper&&e.registerAppInfo&&(e._registerWrapper({name:"react-stripe-js",version:"2.1.1"}),e.registerAppInfo({name:"react-stripe-js",version:"2.1.1",url:"https://stripe.com/docs/stripe-js/react"}))}),[p.stripe]),t.createElement(C.Provider,{value:p},t.createElement(N.Provider,{value:{cart:s,setCart:c,cartState:f,setCartState:h}},i))};D.propTypes={stripe:y.any,options:y.object};var R=function(e){var n=t.useContext(C);return A(n,e)},P=function(e){var n=t.useContext(N);return O(n,e)},M=function(){return R("calls useElements()").elements},L=function(){return R("calls useStripe()").stripe},F=function(){return P("calls useCartElement()").cart},j=function(){return P("calls useCartElementState()").cartState},U=function(e){return(0,e.children)(R("mounts <ElementsConsumer>"))};U.propTypes={children:y.func.isRequired};var V=function(e,n,r){var i=!!r,a=t.useRef(r);t.useEffect((function(){a.current=r}),[r]),t.useEffect((function(){if(!i||!e)return function(){};var t=function(){a.current&&a.current.apply(a,arguments)};return e.on(n,t),function(){e.off(n,t)}}),[i,n,e,a])},B=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},z=function(e,n){var r="".concat(B(e),"Element"),i=n?function(e){R("mounts <".concat(r,">")),P("mounts <".concat(r,">"));var n=e.id,i=e.className;return t.createElement("div",{id:n,className:i})}:function(n){var i,a=n.id,u=n.className,s=n.options,c=void 0===s?{}:s,l=n.onBlur,f=n.onFocus,h=n.onReady,d=n.onChange,p=n.onEscape,v=n.onClick,m=n.onLoadError,y=n.onLoaderStart,k=n.onNetworksChange,b=n.onCheckout,w=n.onLineItemClick,_=n.onConfirm,x=n.onCancel,E=n.onShippingAddressChange,I=n.onShippingRateChange,T=R("mounts <".concat(r,">")).elements,C=o(t.useState(null),2),A=C[0],N=C[1],O=t.useRef(null),D=t.useRef(null),M=P("mounts <".concat(r,">")),L=M.setCart,F=M.setCartState;V(A,"blur",l),V(A,"focus",f),V(A,"escape",p),V(A,"click",v),V(A,"loaderror",m),V(A,"loaderstart",y),V(A,"networkschange",k),V(A,"lineitemclick",w),V(A,"confirm",_),V(A,"cancel",x),V(A,"shippingaddresschange",E),V(A,"shippingratechange",I),"cart"===e?i=function(e){F(e),h&&h(e)}:h&&(i="expressCheckout"===e?h:function(){h(A)}),V(A,"ready",i),V(A,"change","cart"===e?function(e){F(e),d&&d(e)}:d),V(A,"checkout","cart"===e?function(e){F(e),b&&b(e)}:b),t.useLayoutEffect((function(){if(null===O.current&&T&&null!==D.current){var t=T.create(e,c);"cart"===e&&L&&L(t),O.current=t,N(t),t.mount(D.current)}}),[T,c,L]);var j=g(c);return t.useEffect((function(){if(O.current){var e=S(c,j,["paymentRequest"]);e&&O.current.update(e)}}),[c,j]),t.useLayoutEffect((function(){return function(){if(O.current&&"function"===typeof O.current.destroy)try{O.current.destroy(),O.current=null}catch(e){}}}),[]),t.createElement("div",{id:a,className:u,ref:D})};return i.propTypes={id:y.string,className:y.string,onChange:y.func,onBlur:y.func,onFocus:y.func,onReady:y.func,onEscape:y.func,onClick:y.func,onLoadError:y.func,onLoaderStart:y.func,onNetworksChange:y.func,onCheckout:y.func,onLineItemClick:y.func,onConfirm:y.func,onCancel:y.func,onShippingAddressChange:y.func,onShippingRateChange:y.func,options:y.object},i.displayName=r,i.__elementType=e,i},q="undefined"===typeof window,W=z("auBankAccount",q),G=z("card",q),H=z("cardNumber",q),K=z("cardExpiry",q),Y=z("cardCvc",q),Z=z("fpxBank",q),Q=z("iban",q),$=z("idealBank",q),X=z("p24Bank",q),J=z("epsBank",q),ee=z("payment",q),te=z("expressCheckout",q),ne=z("paymentRequestButton",q),re=z("linkAuthentication",q),ie=z("address",q),ae=z("shippingAddress",q),oe=z("cart",q),ue=z("paymentMethodMessaging",q),se=z("affirmMessage",q),ce=z("afterpayClearpayMessage",q);e.AddressElement=ie,e.AffirmMessageElement=se,e.AfterpayClearpayMessageElement=ce,e.AuBankAccountElement=W,e.CardCvcElement=Y,e.CardElement=G,e.CardExpiryElement=K,e.CardNumberElement=H,e.CartElement=oe,e.Elements=D,e.ElementsConsumer=U,e.EpsBankElement=J,e.ExpressCheckoutElement=te,e.FpxBankElement=Z,e.IbanElement=Q,e.IdealBankElement=$,e.LinkAuthenticationElement=re,e.P24BankElement=X,e.PaymentElement=ee,e.PaymentMethodMessagingElement=ue,e.PaymentRequestButtonElement=ne,e.ShippingAddressElement=ae,e.useCartElement=F,e.useCartElementState=j,e.useElements=M,e.useStripe=L,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(791))},426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function s(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(u(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function d(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function m(e){return null==e._pf&&(e._pf=v()),e._pf}function y(e){if(null==e._isValid){var t=m(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function g(e){var t=p(NaN);return null!=e?d(m(t),e):m(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var k=r.momentProperties=[],b=!1;function w(e,t){var n,r,i,a=k.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=m(t)),c(t._locale)||(e._locale=t._locale),a>0)for(n=0;n<a;n++)c(i=t[r=k[n]])||(e[r]=i);return e}function _(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function x(e){return e instanceof _||null!=e&&null!=e._isAMomentObject}function S(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function E(e,t){var n=!0;return d((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,a,o,s=[],c=arguments.length;for(a=0;a<c;a++){if(i="","object"===typeof arguments[a]){for(o in i+="\n["+a+"] ",arguments[0])u(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];s.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(s).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var I,T={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),T[e]||(S(t),T[e]=!0)}function A(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e){var t,n;for(n in e)u(e,n)&&(A(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function O(e,t){var n,r=d({},e);for(n in t)u(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&o(e[n])&&(r[n]=d({},r[n]));return r}function D(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,I=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function P(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return A(r)?r.call(t,n):r}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function B(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function z(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=B(r[t]);return function(t){var i,a="";for(i=0;i<n;i++)a+=A(r[i])?r[i].call(t,e):r[i];return a}}function q(e,t){return e.isValid()?(t=W(t,e.localeData()),j[t]=j[t]||z(t),j[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function H(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var K="Invalid date";function Y(){return this._invalidDate}var Z="%d",Q=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function J(e,t,n,r){var i=this._relativeTime[n];return A(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return A(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)u(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var ae={};function oe(e,t){ae[e]=t}function ue(e){var t,n=[];for(t in e)u(e,t)&&n.push({unit:t,priority:ae[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function se(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(de(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function de(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&se(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Je(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return A(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=ue(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(A(this[e=re(e)]))return this[e](t);return this}var me,ye=/\d/,ge=/\d\d/,ke=/\d{3}/,be=/\d{4}/,we=/[+-]?\d{6}/,_e=/\d\d?/,xe=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,Ee=/\d{1,3}/,Ie=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Ce=/\d+/,Ae=/[+-]?\d+/,Ne=/Z|[+-]\d\d:?\d\d/gi,Oe=/Z|[+-]\d\d(?::?\d\d)?/gi,De=/[+-]?\d+(\.\d{1,3})?/,Re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Pe(e,t,n){me[e]=A(t)?t:function(e,r){return e&&n?n:t}}function Me(e,t){return u(me,e)?me[e](t._strict,t._locale):new RegExp(Le(e))}function Le(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}me={};var je={};function Ue(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),l(t)&&(i=function(e,n){n[t]=le(e)}),r=e.length,n=0;n<r;n++)je[e[n]]=i}function Ve(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Be(e,t,n){null!=t&&u(je,e)&&je[e](t,n._a,n,e)}var ze,qe=0,We=1,Ge=2,He=3,Ke=4,Ye=5,Ze=6,Qe=7,$e=8;function Xe(e,t){return(e%t+t)%t}function Je(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Xe(t,12);return e+=(t-n)/12,1===n?se(e)?29:28:31-n%7%2}ze=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Pe("M",_e),Pe("MM",_e,ge),Pe("MMM",(function(e,t){return t.monthsShortRegex(e)})),Pe("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[We]=le(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[We]=i:m(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Re,it=Re;function at(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone}function ot(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=ze.call(this._shortMonthsParse,o))?i:null:-1!==(i=ze.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=ze.call(this._shortMonthsParse,o))||-1!==(i=ze.call(this._longMonthsParse,o))?i:null:-1!==(i=ze.call(this._longMonthsParse,o))||-1!==(i=ze.call(this._shortMonthsParse,o))?i:null}function st(e,t,n){var r,i,a;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Je(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return Je(this.year(),this.month())}function ht(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function dt(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),a.sort(e),t=0;t<12;t++)r[t]=Fe(r[t]),i[t]=Fe(i[t]);for(t=0;t<24;t++)a[t]=Fe(a[t]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return se(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Pe("Y",Ae),Pe("YY",_e,ge),Pe("YYYY",Ie,be),Pe("YYYYY",Te,we),Pe("YYYYYY",Te,we),Ue(["YYYYY","YYYYYY"],qe),Ue("YYYY",(function(e,t){t[qe]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Ue("YY",(function(e,t){t[qe]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[qe]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var mt=fe("FullYear",!0);function yt(){return se(this.year())}function gt(e,t,n,r,i,a,o){var u;return e<100&&e>=0?(u=new Date(e+400,t,n,r,i,a,o),isFinite(u.getFullYear())&&u.setFullYear(e)):u=new Date(e,t,n,r,i,a,o),u}function kt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+kt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var a,o,u=1+7*(t-1)+(7+n-r)%7+bt(e,r,i);return u<=0?o=vt(a=e-1)+u:u>vt(e)?(a=e+1,o=u-vt(e)):(a=e,o=u),{year:a,dayOfYear:o}}function _t(e,t,n){var r,i,a=bt(e.year(),t,n),o=Math.floor((e.dayOfYear()-a-1)/7)+1;return o<1?r=o+xt(i=e.year()-1,t,n):o>xt(e.year(),t,n)?(r=o-xt(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function xt(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(vt(e)-r+i)/7}function St(e){return _t(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Pe("w",_e),Pe("ww",_e,ge),Pe("W",_e),Pe("WW",_e,ge),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var Et={dow:0,doy:6};function It(){return this._week.dow}function Tt(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function At(e){var t=_t(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Nt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Ot(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Dt(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Pe("d",_e),Pe("e",_e),Pe("E",_e),Pe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Pe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Pe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:m(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Re,Ft=Re,jt=Re;function Ut(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Dt(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Dt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Bt(e){return!0===e?Dt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function zt(e,t,n){var r,i,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=ze.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ze.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=ze.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=ze.call(this._weekdaysParse,o))||-1!==(i=ze.call(this._shortWeekdaysParse,o))||-1!==(i=ze.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=ze.call(this._shortWeekdaysParse,o))||-1!==(i=ze.call(this._weekdaysParse,o))||-1!==(i=ze.call(this._minWeekdaysParse,o))?i:null:-1!==(i=ze.call(this._minWeekdaysParse,o))||-1!==(i=ze.call(this._weekdaysParse,o))||-1!==(i=ze.call(this._shortWeekdaysParse,o))?i:null}function qt(e,t,n){var r,i,a;if(this._weekdaysParseExact)return zt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Wt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Nt(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ht(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Ot(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Kt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Zt(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,n,r,i,a,o=[],u=[],s=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Fe(this.weekdaysMin(n,"")),i=Fe(this.weekdaysShort(n,"")),a=Fe(this.weekdays(n,"")),o.push(r),u.push(i),s.push(a),c.push(r),c.push(i),c.push(a);o.sort(e),u.sort(e),s.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function $t(){return this.hours()%12||12}function Xt(){return this.hours()||24}function Jt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,$t),V("k",["kk",2],0,Xt),V("hmm",0,0,(function(){return""+$t.apply(this)+M(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+$t.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Jt("a",!0),Jt("A",!1),ne("hour","h"),oe("hour",13),Pe("a",en),Pe("A",en),Pe("H",_e),Pe("h",_e),Pe("k",_e),Pe("HH",_e,ge),Pe("hh",_e,ge),Pe("kk",_e,ge),Pe("hmm",xe),Pe("hmmss",Se),Pe("Hmm",xe),Pe("Hmmss",Se),Ue(["H","HH"],He),Ue(["k","kk"],(function(e,t,n){var r=le(e);t[He]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[He]=le(e),m(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[He]=le(e.substr(0,r)),t[Ke]=le(e.substr(r)),m(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ye]=le(e.substr(i)),m(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[He]=le(e.substr(0,r)),t[Ke]=le(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[He]=le(e.substr(0,r)),t[Ke]=le(e.substr(r,2)),t[Ye]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function an(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,un={calendar:R,longDateFormat:G,invalidDate:K,ordinal:Z,dayOfMonthOrdinalParse:Q,relativeTime:X,months:et,monthsShort:tt,week:Et,weekdays:Rt,weekdaysMin:Mt,weekdaysShort:Pt,meridiemParse:nn},sn={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,a=0;a<e.length;){for(t=(i=fn(e[a]).split("-")).length,n=(n=fn(e[a+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}a++}return on}function dn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===sn[t]&&e&&e.exports&&dn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),vn(n)}catch(r){sn[t]=null}return sn[t]}function vn(e,t){var n;return e&&((n=c(t)?gn(e):mn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function mn(e,t){if(null!==t){var n,r=un;if(t.abbr=e,null!=sn[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=sn[e]._config;else if(null!=t.parentLocale)if(null!=sn[t.parentLocale])r=sn[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return sn[e]=new D(O(r,t)),cn[e]&&cn[e].forEach((function(e){mn(e.name,e.config)})),vn(e),sn[e]}return delete sn[e],null}function yn(e,t){if(null!=t){var n,r,i=un;null!=sn[e]&&null!=sn[e].parentLocale?sn[e].set(O(sn[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=O(i,t),null==r&&(t.abbr=e),(n=new D(t)).parentLocale=sn[e],sn[e]=n),vn(e)}else null!=sn[e]&&(null!=sn[e].parentLocale?(sn[e]=sn[e].parentLocale,e===vn()&&vn(e)):null!=sn[e]&&delete sn[e]);return sn[e]}function gn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!a(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function kn(){return I(sn)}function bn(e){var t,n=e._a;return n&&-2===m(e).overflow&&(t=n[We]<0||n[We]>11?We:n[Ge]<1||n[Ge]>Je(n[qe],n[We])?Ge:n[He]<0||n[He]>24||24===n[He]&&(0!==n[Ke]||0!==n[Ye]||0!==n[Ze])?He:n[Ke]<0||n[Ke]>59?Ke:n[Ye]<0||n[Ye]>59?Ye:n[Ze]<0||n[Ze]>999?Ze:-1,m(e)._overflowDayOfYear&&(t<qe||t>Ge)&&(t=Ge),m(e)._overflowWeeks&&-1===t&&(t=Qe),m(e)._overflowWeekday&&-1===t&&(t=$e),m(e).overflow=t),e}var wn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xn=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],En=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],In=/^\/?Date\((-?\d+)/i,Tn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function An(e){var t,n,r,i,a,o,u=e._i,s=wn.exec(u)||_n.exec(u),c=Sn.length,l=En.length;if(s){for(m(e).iso=!0,t=0,n=c;t<n;t++)if(Sn[t][1].exec(s[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(s[3]){for(t=0,n=l;t<n;t++)if(En[t][1].exec(s[3])){a=(s[2]||" ")+En[t][0];break}if(null==a)return void(e._isValid=!1)}if(!r&&null!=a)return void(e._isValid=!1);if(s[4]){if(!xn.exec(s[4]))return void(e._isValid=!1);o="Z"}e._f=i+(a||"")+(o||""),Bn(e)}else e._isValid=!1}function Nn(e,t,n,r,i,a){var o=[On(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function On(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Dn(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Rn(e,t,n){return!e||Pt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(m(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Pn(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Mn(e){var t,n=Tn.exec(Dn(e._i));if(n){if(t=Nn(n[4],n[3],n[2],n[5],n[6],n[7]),!Rn(n[1],t,e))return;e._a=t,e._tzm=Pn(n[8],n[9],n[10]),e._d=kt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),m(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=In.exec(e._i);null===t?(An(e),!1===e._isValid&&(delete e._isValid,Mn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e,t,n){return null!=e?e:null!=t?t:n}function jn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,a,o=[];if(!e._d){for(r=jn(e),e._w&&null==e._a[Ge]&&null==e._a[We]&&Vn(e),null!=e._dayOfYear&&(a=Fn(e._a[qe],r[qe]),(e._dayOfYear>vt(a)||0===e._dayOfYear)&&(m(e)._overflowDayOfYear=!0),n=kt(a,0,e._dayOfYear),e._a[We]=n.getUTCMonth(),e._a[Ge]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[He]&&0===e._a[Ke]&&0===e._a[Ye]&&0===e._a[Ze]&&(e._nextDay=!0,e._a[He]=0),e._d=(e._useUTC?kt:gt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[He]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(m(e).weekdayMismatch=!0)}}function Vn(e){var t,n,r,i,a,o,u,s,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(a=1,o=4,n=Fn(t.GG,e._a[qe],_t(Zn(),1,4).year),r=Fn(t.W,1),((i=Fn(t.E,1))<1||i>7)&&(s=!0)):(a=e._locale._week.dow,o=e._locale._week.doy,c=_t(Zn(),a,o),n=Fn(t.gg,e._a[qe],c.year),r=Fn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(s=!0):null!=t.e?(i=t.e+a,(t.e<0||t.e>6)&&(s=!0)):i=a),r<1||r>xt(n,a,o)?m(e)._overflowWeeks=!0:null!=s?m(e)._overflowWeekday=!0:(u=wt(n,r,i,a,o),e._a[qe]=u.year,e._dayOfYear=u.dayOfYear)}function Bn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],m(e).empty=!0;var t,n,i,a,o,u,s,c=""+e._i,l=c.length,f=0;for(s=(i=W(e._f,e._locale).match(L)||[]).length,t=0;t<s;t++)a=i[t],(n=(c.match(Me(a,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&m(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),f+=n.length),U[a]?(n?m(e).empty=!1:m(e).unusedTokens.push(a),Be(a,n,e)):e._strict&&!n&&m(e).unusedTokens.push(a);m(e).charsLeftOver=l-f,c.length>0&&m(e).unusedInput.push(c),e._a[He]<=12&&!0===m(e).bigHour&&e._a[He]>0&&(m(e).bigHour=void 0),m(e).parsedDateParts=e._a.slice(0),m(e).meridiem=e._meridiem,e._a[He]=zn(e._locale,e._a[He],e._meridiem),null!==(u=m(e).era)&&(e._a[qe]=e._locale.erasConvertYear(u,e._a[qe])),Un(e),bn(e)}else Mn(e);else An(e)}function zn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function qn(e){var t,n,r,i,a,o,u=!1,s=e._f.length;if(0===s)return m(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<s;i++)a=0,o=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Bn(t),y(t)&&(o=!0),a+=m(t).charsLeftOver,a+=10*m(t).unusedTokens.length,m(t).score=a,u?a<r&&(r=a,n=t):(null==r||a<r||o)&&(r=a,n=t,o&&(u=!0));d(e,n||t)}function Wn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Gn(e){var t=new _(bn(Hn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Hn(e){var t=e._i,n=e._f;return e._locale=e._locale||gn(e._l),null===t||void 0===n&&""===t?g({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),x(t)?new _(bn(t)):(f(t)?e._d=t:a(n)?qn(e):n?Bn(e):Kn(e),y(e)||(e._d=null),e))}function Kn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):a(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?Wn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Yn(e,t,n,r,i){var u={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&s(e)||a(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=i,u._l=n,u._i=e,u._f=t,u._strict=r,Gn(u)}function Zn(e,t,n,r){return Yn(e,t,n,r,!1)}r.createFromInputFallback=E("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Qn=E("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Zn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:g()})),$n=E("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Zn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:g()}));function Xn(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Zn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return Xn("isBefore",[].slice.call(arguments,0))}function er(){return Xn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(u(e,t)&&(-1===ze.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==le(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function ar(){return Cr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,u=t.hour||0,s=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+l+1e3*c+6e4*s+1e3*u*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=gn(),this._bubble()}function ur(e){return e instanceof or}function sr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&o++;return o+a}function lr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}lr("Z",":"),lr("ZZ",""),Pe("Z",Oe),Pe("ZZ",Oe),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=hr(Oe,e)}));var fr=/([\+\-]|\d\d)/gi;function hr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(fr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function dr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(x(e)||f(e)?e.valueOf():Zn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Zn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function vr(e,t,n){var i,a=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=hr(Oe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),a!==e&&(!t||this._changeInProgress?Rr(this,Cr(e-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:pr(this)}function mr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function gr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function kr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=hr(Ne,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Zn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function wr(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function _r(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Hn(t))._a?(e=t._isUTC?p(t._a):Zn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function xr(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Er(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Ir=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Tr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,a=e,o=null;return ur(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(a={},t?a[t]=+e:a.milliseconds=+e):(o=Ir.exec(e))?(n="-"===o[1]?-1:1,a={y:0,d:le(o[Ge])*n,h:le(o[He])*n,m:le(o[Ke])*n,s:le(o[Ye])*n,ms:le(sr(1e3*o[Ze]))*n}):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,a={y:Ar(o[2],n),M:Ar(o[3],n),w:Ar(o[4],n),d:Ar(o[5],n),h:Ar(o[6],n),m:Ar(o[7],n),s:Ar(o[8],n)}):null==a?a={}:"object"===typeof a&&("from"in a||"to"in a)&&(i=Or(Zn(a.from),Zn(a.to)),(a={}).ms=i.milliseconds,a.M=i.months),r=new or(a),ur(e)&&u(e,"_locale")&&(r._locale=e._locale),ur(e)&&u(e,"_isValid")&&(r._isValid=e._isValid),r}function Ar(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Nr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Or(e,t){var n;return e.isValid()&&t.isValid()?(t=dr(t,e),e.isBefore(t)?n=Nr(e,t):((n=Nr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Dr(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Rr(this,Cr(n,r),e),this}}function Rr(e,t,n,i){var a=t._milliseconds,o=sr(t._days),u=sr(t._months);e.isValid()&&(i=null==i||i,u&&ct(e,he(e,"Month")+u*n),o&&de(e,"Date",he(e,"Date")+o*n),a&&e._d.setTime(e._d.valueOf()+a*n),i&&r.updateOffset(e,o||u))}Cr.fn=or.prototype,Cr.invalid=ar;var Pr=Dr(1,"add"),Mr=Dr(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function Fr(e){return x(e)||f(e)||Lr(e)||l(e)||Ur(e)||jr(e)||null===e||void 0===e}function jr(e){var t,n,r=o(e)&&!s(e),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=a.length;for(t=0;t<c;t+=1)n=a[t],i=i||u(e,n);return r&&i}function Ur(e){var t=a(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Lr(e)})).length),t&&n}function Vr(e){var t,n,r=o(e)&&!s(e),i=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)n=a[t],i=i||u(e,n);return r&&i}function Br(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function zr(e,t){1===arguments.length&&(arguments[0]?Fr(arguments[0])?(e=arguments[0],t=void 0):Vr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Zn(),i=dr(n,this).startOf("day"),a=r.calendarFormat(this,i)||"sameElse",o=t&&(A(t[a])?t[a].call(this,n):t[a]);return this.format(o||this.localeData().calendar(a,this,Zn(n)))}function qr(){return new _(this)}function Wr(e,t){var n=x(e)?e:Zn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gr(e,t){var n=x(e)?e:Zn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Hr(e,t,n,r){var i=x(e)?e:Zn(e),a=x(t)?t:Zn(t);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))}function Kr(e,t){var n,r=x(e)?e:Zn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Zr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qr(e,t,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=dr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":a=$r(this,r)/12;break;case"month":a=$r(this,r);break;case"quarter":a=$r(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:ce(a)}function $r(e,t){if(e.date()<t.date())return-$r(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",a="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",a="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=a+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(x(e)&&e.isValid()||Zn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Zn(),e)}function ii(e,t){return this.isValid()&&(x(e)&&e.isValid()||Zn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ai(e){return this.to(Zn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=gn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ui=E("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function si(){return this._locale}var ci=1e3,li=60*ci,fi=60*li,hi=3506328*fi;function di(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hi:new Date(e,t,n).valueOf()}function vi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hi:Date.UTC(e,t,n)}function mi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=di(t+(this._isUTC?0:this.utcOffset()*li),fi);break;case"minute":t=this._d.valueOf(),t-=di(t,li);break;case"second":t=this._d.valueOf(),t-=di(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?vi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=fi-di(t+(this._isUTC?0:this.utcOffset()*li),fi)-1;break;case"minute":t=this._d.valueOf(),t+=li-di(t,li)-1;break;case"second":t=this._d.valueOf(),t+=ci-di(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function gi(){return this._d.valueOf()-6e4*(this._offset||0)}function ki(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function wi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function _i(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function xi(){return this.isValid()?this.toISOString():null}function Si(){return y(this)}function Ei(){return d({},m(this))}function Ii(){return m(this).overflow}function Ti(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,a,o=this._eras||gn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(a=r(o[n].since).startOf("day"),o[n].since=a.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":a=r(o[n].until).startOf("day").valueOf(),o[n].until=a.valueOf()}return o}function Ai(e,t,n){var r,i,a,o,u,s=this.eras();for(e=e.toUpperCase(),r=0,i=s.length;r<i;++r)if(a=s[r].name.toUpperCase(),o=s[r].abbr.toUpperCase(),u=s[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return s[r];break;case"NNNN":if(a===e)return s[r];break;case"NNNNN":if(u===e)return s[r]}else if([a,o,u].indexOf(e)>=0)return s[r]}function Ni(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Di(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ri(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Pi(){var e,t,n,i,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(n=a[e].since<=a[e].until?1:-1,i=this.clone().startOf("day").valueOf(),a[e].since<=i&&i<=a[e].until||a[e].until<=i&&i<=a[e].since)return(this.year()-r(a[e].since).year())*n+a[e].offset;return this.year()}function Mi(e){return u(this,"_erasNameRegex")||zi.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return u(this,"_erasAbbrRegex")||zi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fi(e){return u(this,"_erasNarrowRegex")||zi.call(this),e?this._erasNarrowRegex:this._erasRegex}function ji(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function Vi(e,t){return t.erasNarrowRegex(e)}function Bi(e,t){return t._eraYearOrdinalRegex||Ce}function zi(){var e,t,n=[],r=[],i=[],a=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Fe(o[e].name)),n.push(Fe(o[e].abbr)),i.push(Fe(o[e].narrow)),a.push(Fe(o[e].name)),a.push(Fe(o[e].abbr)),a.push(Fe(o[e].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function qi(e,t){V(0,[e,e.length],0,t)}function Wi(e){return Qi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Gi(e){return Qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Hi(){return xt(this.year(),1,4)}function Ki(){return xt(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return xt(this.year(),e.dow,e.doy)}function Zi(){var e=this.localeData()._week;return xt(this.weekYear(),e.dow,e.doy)}function Qi(e,t,n,r,i){var a;return null==e?_t(this,r,i).year:(t>(a=xt(e,r,i))&&(t=a),$i.call(this,e,t,n,r,i))}function $i(e,t,n,r,i){var a=wt(e,t,n,r,i),o=kt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Xi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Pe("N",ji),Pe("NN",ji),Pe("NNN",ji),Pe("NNNN",Ui),Pe("NNNNN",Vi),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?m(n).era=i:m(n).invalidEra=e})),Pe("y",Ce),Pe("yy",Ce),Pe("yyy",Ce),Pe("yyyy",Ce),Pe("yo",Bi),Ue(["y","yy","yyy","yyyy"],qe),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[qe]=n._locale.eraYearOrdinalParse(e,i):t[qe]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Pe("G",Ae),Pe("g",Ae),Pe("GG",_e,ge),Pe("gg",_e,ge),Pe("GGGG",Ie,be),Pe("gggg",Ie,be),Pe("GGGGG",Te,we),Pe("ggggg",Te,we),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Pe("Q",ye),Ue("Q",(function(e,t){t[We]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Pe("D",_e),Pe("DD",_e,ge),Pe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],Ge),Ue("Do",(function(e,t){t[Ge]=le(e.match(_e)[0])}));var Ji=fe("Date",!0);function ea(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Pe("DDD",Ee),Pe("DDDD",ke),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Pe("m",_e),Pe("mm",_e,ge),Ue(["m","mm"],Ke);var ta=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Pe("s",_e),Pe("ss",_e,ge),Ue(["s","ss"],Ye);var na,ra,ia=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Pe("S",Ee,ye),Pe("SS",Ee,ge),Pe("SSS",Ee,ke),na="SSSS";na.length<=9;na+="S")Pe(na,Ce);function aa(e,t){t[Ze]=le(1e3*("0."+e))}for(na="S";na.length<=9;na+="S")Ue(na,aa);function oa(){return this._isUTC?"UTC":""}function ua(){return this._isUTC?"Coordinated Universal Time":""}ra=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var sa=_.prototype;function ca(e){return Zn(1e3*e)}function la(){return Zn.apply(null,arguments).parseZone()}function fa(e){return e}sa.add=Pr,sa.calendar=zr,sa.clone=qr,sa.diff=Qr,sa.endOf=yi,sa.format=ti,sa.from=ni,sa.fromNow=ri,sa.to=ii,sa.toNow=ai,sa.get=pe,sa.invalidAt=Ii,sa.isAfter=Wr,sa.isBefore=Gr,sa.isBetween=Hr,sa.isSame=Kr,sa.isSameOrAfter=Yr,sa.isSameOrBefore=Zr,sa.isValid=Si,sa.lang=ui,sa.locale=oi,sa.localeData=si,sa.max=$n,sa.min=Qn,sa.parsingFlags=Ei,sa.set=ve,sa.startOf=mi,sa.subtract=Mr,sa.toArray=wi,sa.toObject=_i,sa.toDate=bi,sa.toISOString=Jr,sa.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(sa[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),sa.toJSON=xi,sa.toString=Xr,sa.unix=ki,sa.valueOf=gi,sa.creationData=Ti,sa.eraName=Oi,sa.eraNarrow=Di,sa.eraAbbr=Ri,sa.eraYear=Pi,sa.year=mt,sa.isLeapYear=yt,sa.weekYear=Wi,sa.isoWeekYear=Gi,sa.quarter=sa.quarters=Xi,sa.month=lt,sa.daysInMonth=ft,sa.week=sa.weeks=Ct,sa.isoWeek=sa.isoWeeks=At,sa.weeksInYear=Yi,sa.weeksInWeekYear=Zi,sa.isoWeeksInYear=Hi,sa.isoWeeksInISOWeekYear=Ki,sa.date=Ji,sa.day=sa.days=Wt,sa.weekday=Gt,sa.isoWeekday=Ht,sa.dayOfYear=ea,sa.hour=sa.hours=rn,sa.minute=sa.minutes=ta,sa.second=sa.seconds=ia,sa.millisecond=sa.milliseconds=ra,sa.utcOffset=vr,sa.utc=yr,sa.local=gr,sa.parseZone=kr,sa.hasAlignedHourOffset=br,sa.isDST=wr,sa.isLocal=xr,sa.isUtcOffset=Sr,sa.isUtc=Er,sa.isUTC=Er,sa.zoneAbbr=oa,sa.zoneName=ua,sa.dates=E("dates accessor is deprecated. Use date instead.",Ji),sa.months=E("months accessor is deprecated. Use month instead",lt),sa.years=E("years accessor is deprecated. Use year instead",mt),sa.zone=E("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",mr),sa.isDSTShifted=E("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",_r);var ha=D.prototype;function da(e,t,n,r){var i=gn(),a=p().set(r,t);return i[n](a,e)}function pa(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return da(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=da(e,r,n,"month");return i}function va(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,a=gn(),o=e?a._week.dow:0,u=[];if(null!=n)return da(t,(n+o)%7,r,"day");for(i=0;i<7;i++)u[i]=da(t,(i+o)%7,r,"day");return u}function ma(e,t){return pa(e,t,"months")}function ya(e,t){return pa(e,t,"monthsShort")}function ga(e,t,n){return va(e,t,n,"weekdays")}function ka(e,t,n){return va(e,t,n,"weekdaysShort")}function ba(e,t,n){return va(e,t,n,"weekdaysMin")}ha.calendar=P,ha.longDateFormat=H,ha.invalidDate=Y,ha.ordinal=$,ha.preparse=fa,ha.postformat=fa,ha.relativeTime=J,ha.pastFuture=ee,ha.set=N,ha.eras=Ci,ha.erasParse=Ai,ha.erasConvertYear=Ni,ha.erasAbbrRegex=Li,ha.erasNameRegex=Mi,ha.erasNarrowRegex=Fi,ha.months=at,ha.monthsShort=ot,ha.monthsParse=st,ha.monthsRegex=dt,ha.monthsShortRegex=ht,ha.week=St,ha.firstDayOfYear=Tt,ha.firstDayOfWeek=It,ha.weekdays=Ut,ha.weekdaysMin=Bt,ha.weekdaysShort=Vt,ha.weekdaysParse=qt,ha.weekdaysRegex=Kt,ha.weekdaysShortRegex=Yt,ha.weekdaysMinRegex=Zt,ha.isPM=tn,ha.meridiem=an,vn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=E("moment.lang is deprecated. Use moment.locale instead.",vn),r.langData=E("moment.langData is deprecated. Use moment.localeData instead.",gn);var wa=Math.abs;function _a(){var e=this._data;return this._milliseconds=wa(this._milliseconds),this._days=wa(this._days),this._months=wa(this._months),e.milliseconds=wa(e.milliseconds),e.seconds=wa(e.seconds),e.minutes=wa(e.minutes),e.hours=wa(e.hours),e.months=wa(e.months),e.years=wa(e.years),this}function xa(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Sa(e,t){return xa(this,e,t,1)}function Ea(e,t){return xa(this,e,t,-1)}function Ia(e){return e<0?Math.floor(e):Math.ceil(e)}function Ta(){var e,t,n,r,i,a=this._milliseconds,o=this._days,u=this._months,s=this._data;return a>=0&&o>=0&&u>=0||a<=0&&o<=0&&u<=0||(a+=864e5*Ia(Aa(u)+o),o=0,u=0),s.milliseconds=a%1e3,e=ce(a/1e3),s.seconds=e%60,t=ce(e/60),s.minutes=t%60,n=ce(t/60),s.hours=n%24,o+=ce(n/24),u+=i=ce(Ca(o)),o-=Ia(Aa(i)),r=ce(u/12),u%=12,s.days=o,s.months=u,s.years=r,this}function Ca(e){return 4800*e/146097}function Aa(e){return 146097*e/4800}function Na(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Ca(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Aa(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Oa(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function Da(e){return function(){return this.as(e)}}var Ra=Da("ms"),Pa=Da("s"),Ma=Da("m"),La=Da("h"),Fa=Da("d"),ja=Da("w"),Ua=Da("M"),Va=Da("Q"),Ba=Da("y");function za(){return Cr(this)}function qa(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function Wa(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ga=Wa("milliseconds"),Ha=Wa("seconds"),Ka=Wa("minutes"),Ya=Wa("hours"),Za=Wa("days"),Qa=Wa("months"),$a=Wa("years");function Xa(){return ce(this.days()/7)}var Ja=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Cr(e).abs(),a=Ja(i.as("s")),o=Ja(i.as("m")),u=Ja(i.as("h")),s=Ja(i.as("d")),c=Ja(i.as("M")),l=Ja(i.as("w")),f=Ja(i.as("y")),h=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||u<=1&&["h"]||u<n.h&&["hh",u]||s<=1&&["d"]||s<n.d&&["dd",s];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,to.apply(null,h)}function ro(e){return void 0===e?Ja:"function"===typeof e&&(Ja=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function ao(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(a=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(a.ss=t.s-1)),r=no(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function uo(e){return(e>0)-(e<0)||+e}function so(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,a,o,u,s=oo(this._milliseconds)/1e3,c=oo(this._days),l=oo(this._months),f=this.asSeconds();return f?(e=ce(s/60),t=ce(e/60),s%=60,e%=60,n=ce(l/12),l%=12,r=s?s.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",a=uo(this._months)!==uo(f)?"-":"",o=uo(this._days)!==uo(f)?"-":"",u=uo(this._milliseconds)!==uo(f)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(t||e||s?"T":"")+(t?u+t+"H":"")+(e?u+e+"M":"")+(s?u+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ir,co.abs=_a,co.add=Sa,co.subtract=Ea,co.as=Na,co.asMilliseconds=Ra,co.asSeconds=Pa,co.asMinutes=Ma,co.asHours=La,co.asDays=Fa,co.asWeeks=ja,co.asMonths=Ua,co.asQuarters=Va,co.asYears=Ba,co.valueOf=Oa,co._bubble=Ta,co.clone=za,co.get=qa,co.milliseconds=Ga,co.seconds=Ha,co.minutes=Ka,co.hours=Ya,co.days=Za,co.weeks=Xa,co.months=Qa,co.years=$a,co.humanize=ao,co.toISOString=so,co.toString=so,co.toJSON=so,co.locale=oi,co.localeData=si,co.toIsoString=E("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",so),co.lang=ui,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Pe("x",Ae),Pe("X",De),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.4",i(Zn),r.fn=sa,r.min=Jn,r.max=er,r.now=tr,r.utc=p,r.unix=ca,r.months=ma,r.isDate=f,r.locale=vn,r.invalid=g,r.duration=Cr,r.isMoment=x,r.weekdays=ga,r.parseZone=la,r.localeData=gn,r.isDuration=ur,r.monthsShort=ya,r.weekdaysMin=ba,r.defineLocale=mn,r.updateLocale=yn,r.locales=kn,r.weekdaysShort=ka,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=Br,r.prototype=sa,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},482:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(7)),o=s(n(791)),u=n(432);function s(e){return e&&e.__esModule?e:{default:e}}var c={thousandSeparator:a.default.oneOfType([a.default.string,a.default.oneOf([!0])]),thousandSpacing:a.default.oneOf(["2","2s","3","4"]),decimalSeparator:a.default.string,decimalScale:a.default.number,fixedDecimalScale:a.default.bool,displayType:a.default.oneOf(["input","text"]),prefix:a.default.string,suffix:a.default.string,format:a.default.oneOfType([a.default.string,a.default.func]),removeFormatting:a.default.func,mask:a.default.oneOfType([a.default.string,a.default.arrayOf(a.default.string)]),value:a.default.oneOfType([a.default.number,a.default.string]),isNumericString:a.default.bool,customInput:a.default.func,allowNegative:a.default.bool,onValueChange:a.default.func,onKeyDown:a.default.func,onMouseUp:a.default.func,onChange:a.default.func,onFocus:a.default.func,onBlur:a.default.func,type:a.default.oneOf(["text","tel"]),isAllowed:a.default.func,renderText:a.default.func},l={displayType:"input",decimalSeparator:".",thousandSpacing:"3",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,isNumericString:!1,type:"text",onValueChange:u.noop,onChange:u.noop,onKeyDown:u.noop,onMouseUp:u.noop,onFocus:u.noop,onBlur:u.noop,isAllowed:u.returnTrue},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.validateProps();var r=n.formatValueProp();return n.state={value:r,numAsString:n.removeFormatting(r)},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidUpdate",value:function(e){this.updateValueIfRequired(e)}},{key:"updateValueIfRequired",value:function(e){var t=this.props,n=this.state;if(e!==t){this.validateProps();var r=n.value,i=n.numAsString||"",a=void 0===t.value?this.formatNumString(i):this.formatValueProp();a!==r&&this.setState({value:a,numAsString:this.removeFormatting(a)})}}},{key:"getFloatString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.getSeparators().decimalSeparator,n=this.getNumberRegex(!0),r="-"===e[0];r&&(e=e.replace("-",""));var i=(e=(e.match(n)||[]).join("").replace(t,".")).indexOf(".");return-1!==i&&(e=e.substring(0,i)+"."+e.substring(i+1,e.length).replace(new RegExp((0,u.escapeRegExp)(t),"g"),"")),r&&(e="-"+e),e}},{key:"getNumberRegex",value:function(e,t){var n=this.props,r=n.format,i=n.decimalScale,a=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!a||0===i||t||r?"":"|"+(0,u.escapeRegExp)(a)),e?"g":void 0)}},{key:"getSeparators",value:function(){var e=this.props,t=e.decimalSeparator,n=e.thousandSpacing,r=this.props.thousandSeparator;return!0===r&&(r=","),{decimalSeparator:t,thousandSeparator:r,thousandSpacing:n}}},{key:"getMaskAtIndex",value:function(e){var t=this.props.mask,n=void 0===t?" ":t;return"string"===typeof n?n:n[e]||" "}},{key:"validateProps",value:function(){var e=this.props.mask,t=this.getSeparators(),n=t.decimalSeparator,r=t.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n\n          thousandSeparator: "+r+' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: '+n+" (default value for decimalSeparator is .)\n       ");if(e&&("string"===e?e:e.toString()).match(/\d/g))throw new Error("\n          Mask "+e+" should not contain numeric character;\n        ")}},{key:"splitDecimal",value:function(e){var t=this.props.allowNegative,n="-"===e[0],r=n&&t,i=(e=e.replace("-","")).split(".");return{beforeDecimal:i[0],afterDecimal:i[1]||"",hasNagation:n,addNegation:r}}},{key:"setPatchedCaretPosition",value:function(e,t,n){(0,u.setCaretPosition)(e,t),setTimeout((function(){e.value===n&&(0,u.setCaretPosition)(e,t)}),0)}},{key:"correctCaretPosition",value:function(e,t,n){var r=this.props,i=r.prefix,a=r.suffix,o=r.format;if(!o){var s="-"===e[0];return Math.min(Math.max(t,i.length+(s?1:0)),e.length-a.length)}if("function"===typeof o)return t;if("#"===o[t]&&(0,u.charIsNumber)(e[t]))return t;if("#"===o[t-1]&&(0,u.charIsNumber)(e[t-1]))return t;var c=o.indexOf("#"),l=o.lastIndexOf("#");t=Math.min(Math.max(t,c),l+1);for(var f=o.substring(t,o.length).indexOf("#"),h=t,d=t+(-1===f?0:f);h>c&&("#"!==o[h]||!(0,u.charIsNumber)(e[h]));)h-=1;return!(0,u.charIsNumber)(e[d])||"left"===n&&t!==c||t-h<d-t?h+1:d}},{key:"getCaretPosition",value:function(e,t,n){var r=this.props.format,i=this.state.value,a=this.getNumberRegex(!0),o=(e.match(a)||[]).join(""),u=(t.match(a)||[]).join(""),s=void 0,c=void 0;for(s=0,c=0;c<n;c++){var l=e[c]||"",f=t[s]||"";if((l.match(a)||l===f)&&("0"!==l||!f.match(a)||"0"===f||o.length===u.length)){for(;l!==t[s]&&s<t.length;)s++;s++}}return"string"!==typeof r||i||(s=t.length),s=this.correctCaretPosition(t,s)}},{key:"removePrefixAndSuffix",value:function(e){var t=this.props,n=t.format,r=t.prefix,i=t.suffix;if(!n&&e){var a="-"===e[0];a&&(e=e.substring(1,e.length));var o=(e=r&&0===e.indexOf(r)?e.substring(r.length,e.length):e).lastIndexOf(i);e=i&&-1!==o&&o===e.length-i.length?e.substring(0,o):e,a&&(e="-"+e)}return e}},{key:"removePatternFormatting",value:function(e){for(var t=this.props.format.split("#").filter((function(e){return""!==e})),n=0,r="",i=0,a=t.length;i<=a;i++){var o=t[i]||"",u=i===a?e.length:e.indexOf(o,n);if(-1===u){r=e;break}r+=e.substring(n,u),n=u+o.length}return(r.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(e){var t=this.props,n=t.format,r=t.removeFormatting;return e?(n?e="string"===typeof n?this.removePatternFormatting(e):"function"===typeof r?r(e):(e.match(/\d/g)||[]).join(""):(e=this.removePrefixAndSuffix(e),e=this.getFloatString(e)),e):e}},{key:"formatWithPattern",value:function(e){for(var t=this.props.format,n=0,r=t.split(""),i=0,a=t.length;i<a;i++)"#"===t[i]&&(r[i]=e[n]||this.getMaskAtIndex(n),n+=1);return r.join("")}},{key:"formatThousand",value:function(e,t,n){var r=void 0;switch(n){case u.thousandGroupSpacing.two:r=/(\d)(?=(\d{2})+(?!\d))/g;break;case u.thousandGroupSpacing.twoScaled:r=/(\d)(?=(((\d{2})+)(\d{1})(?!\d)))/g;break;case u.thousandGroupSpacing.four:r=/(\d)(?=(\d{4})+(?!\d))/g;break;default:r=/(\d)(?=(\d{3})+(?!\d))/g}return e.replace(r,"$1"+t)}},{key:"formatAsNumber",value:function(e){var t=this.props,n=t.decimalScale,r=t.fixedDecimalScale,i=t.prefix,a=t.suffix,o=this.getSeparators(),s=o.thousandSeparator,c=o.decimalSeparator,l=o.thousandSpacing,f=-1!==e.indexOf(".")||n&&r,h=this.splitDecimal(e),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;return void 0!==n&&(p=(0,u.limitToScale)(p,n,r)),s&&(d=this.formatThousand(d,s,l)),i&&(d=i+d),a&&(p+=a),v&&(d="-"+d),e=d+(f&&c||"")+p}},{key:"formatNumString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.format,n=e;return""===e?n="":"-"!==e||t?n="string"===typeof t?this.formatWithPattern(n):"function"===typeof t?t(n):this.formatAsNumber(n):(n="-",e=""),n}},{key:"formatValueProp",value:function(){var e=this.props,t=e.format,n=e.decimalScale,r=e.fixedDecimalScale,i=this.props,a=i.value,o=i.isNumericString;return void 0===a?"":("number"===typeof a&&(a=a.toString(),o=!0),o&&!t&&"number"===typeof n&&(a=(0,u.roundToPrecision)(a,n,r)),o?this.formatNumString(a):this.formatInput(a))}},{key:"formatNegation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(e),a=r.test(e);return e=e.replace(/-/g,""),i&&!a&&t&&(e="-"+e),e}},{key:"formatInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.props.format||(e=this.formatNegation(e)),e=this.removeFormatting(e),this.formatNumString(e)}},{key:"isCharacterAFormat",value:function(e,t){var n=this.props,r=n.format,i=n.prefix,a=n.suffix,o=n.decimalScale,u=n.fixedDecimalScale,s=this.getSeparators().decimalSeparator;return"string"===typeof r&&"#"!==r[e]||!(r||!(e<i.length||e>=t.length-a.length||o&&u&&t[e]===s))}},{key:"checkIfFormatGotDeleted",value:function(e,t,n){for(var r=e;r<t;r++)if(this.isCharacterAFormat(r,n))return!0;return!1}},{key:"correctInputValue",value:function(e,t,n){var r=this.props.format,i=this.state.numAsString||"";if(n.length>=t.length||!n.length)return n;var a=e,o=(0,u.splitString)(t,e),s=(0,u.splitString)(n,e),c=o[1].lastIndexOf(s[1]),l=a+(-1!==c?o[1].substring(0,c):"").length;if(this.checkIfFormatGotDeleted(a,l,t)&&(n=t),!r){var f=this.removeFormatting(n),h=this.splitDecimal(f),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;if(f.length<i.length&&""===d&&!parseFloat(p))return v?"-":""}return n}},{key:"onChange",value:function(e){e.persist();var t=e.target,n=t.value,r=this.state,i=this.props,a=i.isAllowed,o=r.value||"",u=Math.max(t.selectionStart,t.selectionEnd);n=this.correctInputValue(u,o,n);var s=this.formatInput(n)||"",c=this.removeFormatting(s),l={formattedValue:s,value:c,floatValue:parseFloat(c)};a(l)||(s=o),t.value=s;var f=this.getCaretPosition(n,s,u);this.setPatchedCaretPosition(t,f,s),s!==o?this.setState({value:s,numAsString:c},(function(){i.onValueChange(l),i.onChange(e)})):i.onChange(e)}},{key:"onBlur",value:function(e){var t=this.props,n=this.state,r=t.format,i=t.onBlur,a=n.numAsString,o=n.value;if(!r){a=(0,u.fixLeadingZero)(a);var s=this.formatNumString(a),c={formattedValue:s,value:a,floatValue:parseFloat(a)};if(s!==o)return e.persist(),void this.setState({value:s,numAsString:a},(function(){t.onValueChange(c),i(e)}))}i(e)}},{key:"onKeyDown",value:function(e){var t=e.target,n=e.key,r=t.selectionEnd,i=t.value,a=t.selectionStart,o=void 0,u=this.props,s=u.decimalScale,c=u.fixedDecimalScale,l=u.prefix,f=u.suffix,h=u.format,d=u.onKeyDown,p=void 0!==s&&c,v=this.getNumberRegex(!1,p),m=new RegExp("-"),y="string"===typeof h;if("ArrowLeft"===n||"Backspace"===n?o=a-1:"ArrowRight"===n?o=a+1:"Delete"===n&&(o=a),void 0!==o&&a===r){var g=o,k=y?h.indexOf("#"):l.length,b=y?h.lastIndexOf("#")+1:i.length-f.length;if("ArrowLeft"===n||"ArrowRight"===n){var w="ArrowLeft"===n?"left":"right";g=this.correctCaretPosition(i,o,w)}else if("Delete"!==n||v.test(i[o])||m.test(i[o])){if("Backspace"===n&&!v.test(i[o])&&!m.test(i[o])){for(;!v.test(i[g-1])&&g>k;)g--;g=this.correctCaretPosition(i,g,"left")}}else for(;!v.test(i[g])&&g<b;)g++;(g!==o||o<k||o>b)&&(e.preventDefault(),this.setPatchedCaretPosition(t,g,i)),e.isUnitTestRun&&this.setPatchedCaretPosition(t,g,i),this.props.onKeyDown(e)}else d(e)}},{key:"onMouseUp",value:function(e){var t=e.target,n=t.selectionStart,r=t.selectionEnd,i=t.value;if(n===r){var a=this.correctCaretPosition(i,n);a!==n&&this.setPatchedCaretPosition(t,a,i)}this.props.onMouseUp(e)}},{key:"onFocus",value:function(e){var t=this;e.persist(),setTimeout((function(){var n=e.target,r=n.selectionStart,i=n.value,a=t.correctCaretPosition(i,r);a!==r&&t.setPatchedCaretPosition(n,a,i),t.props.onFocus(e)}))}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.displayType,i=e.customInput,a=e.renderText,s=this.state.value,l=(0,u.omit)(this.props,c),f=r({},l,{type:t,value:s,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return a?a(s)||null:o.default.createElement("span",l,s);if(i){var h=i;return o.default.createElement(h,f)}return o.default.createElement("input",f)}}]),t}(o.default.Component);f.propTypes=c,f.defaultProps=l,e.exports=f},432:function(e,t){"use strict";function n(e,t,n){for(var r="",i=n?"0":"",a=0;a<=t-1;a++)r+=e[a]||i;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.noop=function(){},t.returnTrue=function(){return!0},t.charIsNumber=function(e){return!!(e||"").match(/\d/)},t.escapeRegExp=function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},t.fixLeadingZero=function(e){if(!e)return e;var t="-"===e[0];t&&(e=e.substring(1,e.length));var n=e.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(t?"-":"")+r+(i?"."+i:"")},t.splitString=function(e,t){return[e.substring(0,t),e.substring(t)]},t.limitToScale=n,t.roundToPrecision=function(e,t,r){var i=e.split("."),a=parseFloat("0."+(i[1]||"0")).toFixed(t).split("."),o=i[0].split("").reverse().reduce((function(e,t,n){return e.length>n?(Number(e[0])+Number(t)).toString()+e.substring(1,e.length):t+e}),a[0]),u=n(a[1]||"",(i[1]||"").length,r);return o+(u?"."+u:"")},t.omit=function(e,t){var n={};return Object.keys(e).forEach((function(r){t[r]||(n[r]=e[r])})),n},t.setCaretPosition=function(e,t){if(e.value=e.value,null!==e){if(e.createTextRange){var n=e.createTextRange();return n.move("character",t),n.select(),!0}return e.selectionStart||0===e.selectionStart?(e.focus(),e.setSelectionRange(t,t),!0):(e.focus(),!1)}};t.thousandGroupSpacing={two:"2",twoScaled:"2s",three:"3",four:"4"}},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,F=Object.assign;function j(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function B(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Ie(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Te(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Oe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==xe||null!==Se)&&(Ae(),Te())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Re=!1;if(l)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Re=!1}function Me(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Le=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Le=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Le=!1,Fe=null,Me.apply(Ve,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,Ze=i.unstable_shouldYield,Qe=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,It=!1,Tt=[],Ct=null,At=null,Nt=null,Ot=new Map,Dt=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){It=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==At&&jt(At)&&(At=null),null!==Nt&&jt(Nt)&&(Nt=null),Ot.forEach(Ut),Dt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function zt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==At&&Bt(At,e),null!==Nt&&Bt(Nt,e),Ot.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var qt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Kt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){if(Wt){var i=Zt(e,t,n,r);if(null===i)Wr(e,t,r,Yt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return At=Lt(At,e,t,n,r,i),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Lt(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dt.set(a,Lt(Dt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=Zt(e,t,n,r))&&Wr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Yt=null;function Zt(e,t,n,r){if(Yt=null,null!==(e=gi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var In=F({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(In),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),On=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=an(On),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var Ln=l&&"TextEvent"in window&&!Mn,Fn=l&&(!Pn||Mn&&8<Mn&&11>=Mn),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ie(r),0<(t=Hr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Kn=null;function Yn(e){jr(e,0)}function Zn(e){if(K(bi(e)))return e}function Qn(e,t){if("change"===e)return t}var $n=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Xn=Jn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Kn=Hn=null)}function nr(e){if("value"===e.propertyName&&Zn(Kn)){var t=[];Gn(t,Kn,e,we(e)),Oe(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn(Kn)}function ar(e,t){if("click"===e)return Zn(t)}function or(e,t){if("input"===e||"change"===e)return Zn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Hr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Ir=Er("animationend"),Tr=Er("animationiteration"),Cr=Er("animationstart"),Ar=Er("transitionend"),Nr=new Map,Or="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Nr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Or.length;Rr++){var Pr=Or[Rr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Ir,"onAnimationEnd"),Dr(Tr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Ar,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Le){if(!Le)throw Error(a(198));var l=Fe;Le=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Br]){e[Br]=!0,o.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Qt(t)){case 1:var i=Gt;break;case 4:i=Ht;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Oe((function(){var r=a,i=we(n),o=[];e:{var u=Nr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=An;break;case Ir:case Tr:case Cr:s=yn;break;case Ar:s=Nn;break;case"scroll":s=hn;break;case"wheel":s=Dn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&l.push(Gr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==c?u:bi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Yr(o,u,s,l,!1),null!==c&&null!==f&&Yr(o,f,c,l,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Qn;else if(Wn(u))if($n)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?bi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else zn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==k?"onCompositionEnd"===k&&zn&&(g=en()):(Xt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(y=Hr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=Bn(n))&&(k.data=g))),(g=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Jt=Xt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=De(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=De(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ii(e,t){xi++,_i[xi]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ai=Si(!1),Ni=Ti;function Oi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ai),Ei(Ci)}function Pi(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ii(Ci,t),Ii(Ai,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ni=Ci.current,Ii(Ci,e),Ii(Ai,Ai.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ai),Ei(Ci),Ii(Ci,e)):Ei(Ai),Ii(Ai,n)}var ji=null,Ui=!1,Vi=!1;function Bi(e){null===ji?ji=[e]:ji.push(e)}function zi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Je,zi),i}finally{kt=t,Vi=!1}}return null}var qi=[],Wi=0,Gi=null,Hi=0,Ki=[],Yi=0,Zi=null,Qi=1,$i="";function Xi(e,t){qi[Wi++]=Hi,qi[Wi++]=Gi,Gi=e,Hi=t}function Ji(e,t,n){Ki[Yi++]=Qi,Ki[Yi++]=$i,Ki[Yi++]=Zi,Zi=e;var r=Qi;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,$i=a+e}else Qi=1<<a|n<<i|r,$i=e}function ea(e){null!==e.return&&(Xi(e,1),Ji(e,1,0))}function ta(e){for(;e===Gi;)Gi=qi[--Wi],qi[Wi]=null,Hi=qi[--Wi],qi[Wi]=null;for(;e===Zi;)Zi=Ki[--Yi],Ki[Yi]=null,$i=Ki[--Yi],Ki[Yi]=null,Qi=Ki[--Yi],Ki[Yi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Dc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:Qi,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Dc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function la(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return la(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(la(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ma(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ya=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ya.current;Ei(ya),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ia=null;function Ta(e){null===Ia?Ia=[e]:Ia.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ta(t)):(n.next=i.next,i.next=n),t.interleaved=n,Aa(e,r)}function Aa(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Na=!1;function Oa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Da(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&As)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Aa(e,n)}return null===(i=r.interleaved)?(t.next=t,Ta(r)):(t.next=i.next,i.next=t),r.interleaved=t,Aa(e,n)}function Ma(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fa(e,t,n,r){var i=e.updateQueue;Na=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Na=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Fs|=o,e.lanes=o,e.memoizedState=f}}function ja(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var Ua=(new r.Component).refs;function Va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ba={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),a=Ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Pa(e,a,i))&&(rc(t,e,i,r),Ma(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Pa(e,i,r))&&(rc(t,e,r,n),Ma(t,e,r))}};function za(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Di(t)?Ni:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Oi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ba,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Wa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ba.enqueueReplaceState(t,t.state,null)}function Ga(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ua,Oa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Di(t)?Ni:Ci.current,i.context=Oi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ba.enqueueReplaceState(i,i.state,null),Fa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ha(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ka(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ya(e){return(0,e._init)(e._payload)}function Za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===D&&Ya(a)===t.type)?((r=i(t,n.props)).ref=Ha(e,t,n),r.return=e,r):((r=Mc(n.type,n.key,n.props,null,e.mode,r)).ref=Ha(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Mc(t.type,t.key,t.props,null,e.mode,n)).ref=Ha(e,null,t),n.return=e,n;case _:return(t=Uc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Lc(t,e.mode,n,null)).return=e,t;Ka(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null;case D:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Ka(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Ka(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),ia&&Xi(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return ia&&Xi(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),ia&&Xi(i,v),c}function m(i,u,s,c){var l=M(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),ia&&Xi(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return ia&&Xi(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Xi(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===x){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ya(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ha(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===x?((a=Lc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Mc(o.type,o.key,o.props,null,r.mode,s)).ref=Ha(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Uc(o,r.mode,s)).return=r,r=a}return u(r);case D:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(M(o))return m(r,a,o,s);Ka(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=jc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Qa=Za(!0),$a=Za(!1),Xa={},Ja=Si(Xa),eo=Si(Xa),to=Si(Xa);function no(e){if(e===Xa)throw Error(a(174));return e}function ro(e,t){switch(Ii(to,t),Ii(eo,e),Ii(Ja,Xa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ja),Ii(Ja,t)}function io(){Ei(Ja),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Ja.current),n=se(t,e.type);t!==n&&(Ii(eo,e),Ii(Ja,n))}function oo(e){eo.current===e&&(Ei(Ja),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function lo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,mo=null,yo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,yo=mo=null,t.updateQueue=null,fo.current=cu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==mo&&null!==mo.next,po=0,yo=mo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function Io(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===yo?vo.memoizedState=yo=e:yo=yo.next=e,yo}function To(){if(null===mo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=mo.next;var t=null===yo?vo.memoizedState:yo.next;if(null!==t)yo=t,mo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(mo=e).memoizedState,baseState:mo.baseState,baseQueue:mo.baseQueue,queue:mo.queue,next:null},null===yo?vo.memoizedState=yo=e:yo=yo.next=e}return yo}function Co(e,t){return"function"===typeof t?t(e):t}function Ao(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=mo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((po&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,vo.lanes|=f,Fs|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Fs|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Oo(){}function Do(e,t){var n=vo,r=To(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Wo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==yo&&1&yo.memoizedState.tag){if(n.flags|=2048,Uo(9,Po.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Ro(n,t,i)}return i}function Ro(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Lo(t)&&Fo(e)}function Mo(e,t,n){return n((function(){Lo(t)&&Fo(e)}))}function Lo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Fo(e){var t=Aa(e,1);null!==t&&rc(t,e,1,-1)}function jo(e){var t=Io();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function Uo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return To().memoizedState}function Bo(e,t,n,r){var i=Io();vo.flags|=e,i.memoizedState=Uo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var a=void 0;if(null!==mo){var o=mo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=Uo(t,n,a,r))}vo.flags|=e,i.memoizedState=Uo(1|t,n,a,r)}function qo(e,t){return Bo(8390656,8,e,t)}function Wo(e,t){return zo(2048,8,e,t)}function Go(e,t){return zo(4,2,e,t)}function Ho(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Yo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Zo(){}function Qo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Fs|=n,e.baseState=!0),t)}function Jo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return To().memoizedState}function tu(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){rc(n,e,r,tc()),au(n,t,r)}}function nu(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ta(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ca(e,t,i,r))&&(rc(n,e,r,i=tc()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return Io().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bo(4,2,e,t)},useMemo:function(e,t){var n=Io();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Io();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Io().memoizedState=e},useState:jo,useDebugValue:Zo,useDeferredValue:function(e){return Io().memoizedState=e},useTransition:function(){var e=jo(!1),t=e[0];return e=Jo.bind(null,e[1]),Io().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=Io();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Ro(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Uo(9,Po.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Io(),t=Ns.identifierPrefix;if(ia){var n=$i;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Qo,useContext:Ea,useEffect:Wo,useImperativeHandle:Yo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:$o,useReducer:Ao,useRef:Vo,useState:function(){return Ao(Co)},useDebugValue:Zo,useDeferredValue:function(e){return Xo(To(),mo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1},cu={readContext:Ea,useCallback:Qo,useContext:Ea,useEffect:Wo,useImperativeHandle:Yo,useInsertionEffect:Go,useLayoutEffect:Ho,useMemo:$o,useReducer:No,useRef:Vo,useState:function(){return No(Co)},useDebugValue:Zo,useDeferredValue:function(e){var t=To();return null===mo?t.memoizedState=e:Xo(t,mo.memoizedState,e)},useTransition:function(){return[No(Co)[0],To().memoizedState]},useMutableSource:Oo,useSyncExternalStore:Do,useId:eu,unstable_isNewReconciler:!1};function lu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gs||(Gs=!0,Hs=r),hu(0,t)},n}function vu(e,t,n){(n=Ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function yu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ra(-1,1)).tag=2,Pa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?$a(t,null,n,r):Qa(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Rc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Gu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Gu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Tu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ii(Ps,Rs),Rs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ii(Ps,Rs),Rs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ii(Ps,Rs),Rs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(Ps,Rs),Rs|=r;return wu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tu(e,t,n,r,i){var a=Di(n)?Ni:Ci.current;return a=Oi(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gu(e,t,i))}function Cu(e,t,n,r,i){if(Di(n)){var a=!0;Li(t)}else a=!1;if(Sa(t,i),null===t.stateNode)Wu(e,t),qa(t,n,r),Ga(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Oi(t,c=Di(n)?Ni:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&Wa(t,o,r,c),Na=!1;var h=t.memoizedState;o.state=h,Fa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||Na?("function"===typeof l&&(Va(t,n,l,r),s=t.memoizedState),(u=Na||za(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Da(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:ma(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Oi(t,s=Di(n)?Ni:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Wa(t,o,r,s),Na=!1,h=t.memoizedState,o.state=h,Fa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||Na?("function"===typeof d&&(Va(t,n,d,r),p=t.memoizedState),(c=Na||za(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Gu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Qa(t,e.child,null,a),t.child=Qa(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Nu(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ro(e,t.containerInfo)}function Ou(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Du,Ru,Pu,Mu,Lu={dehydrated:null,treeContext:null,retryLane:0};function Fu(e){return{baseLanes:e,cachePool:null,transitions:null}}function ju(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(uo,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Fc(s,i,0,null),e=Lc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Fu(n),t.memoizedState=Lu,e):Uu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,Vu(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(o=Lc(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Qa(t,e.child,null,u),t.child.memoizedState=Fu(u),t.memoizedState=Lu,o);if(0===(1&t.mode))return Vu(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,Vu(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Aa(e,i),rc(r,e,i,-1))}return mc(),Vu(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Yi++]=Qi,Ki[Yi++]=$i,Ki[Yi++]=Zi,Qi=e.id,$i=e.overflow,Zi=t),t=Uu(t,r.children),t.flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Pc(r,u):(u=Lc(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Fu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Lu,i}return e=(u=e.child).sibling,i=Pc(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Uu(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Vu(e,t,n,r){return null!==r&&pa(r),Qa(t,e.child,null,n),(e=Uu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bu(e,n,t);else if(19===e.tag)Bu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fs|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Di(t.type)&&Ri(),Ku(t),null;case 3:return r=t.stateNode,io(),Ei(Ai),Ei(Ci),lo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(uc(aa),aa=null))),Ru(e,t),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Pu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Ja.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":H(r),J(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Du(e,t,!1,!1),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=Z(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":H(e),J(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Mu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Ja.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(uc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Ms&&(Ms=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),Ru(e,t),null===e&&zr(t.stateNode.containerInfo),Ku(t),null;case 10:return _a(t.type._context),Ku(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Hu(o,!1);else{if(0!==Ms||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Hu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>qs&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*$e()-o.renderingStartTime>qs&&1073741824!==n&&(t.flags|=128,r=!0,Hu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=uo.current,Ii(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rs)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Zu(e,t){switch(ta(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ai),Ei(Ci),lo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}Du=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ru=function(){},Pu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Ja.current);var a,o=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},Mu=function(e,t,n,r){n!==r&&(t.flags|=4)};var Qu=!1,$u=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function es(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function ts(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var ns=!1;function rs(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&ts(t,n,a)}i=i.next}while(i!==r)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function as(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function os(e){var t=e.alternate;null!==t&&(e.alternate=null,os(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function ss(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||us(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(cs(e,t,n),e=e.sibling;null!==e;)cs(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var fs=null,hs=!1;function ds(e,t,n){for(n=n.child;null!==n;)ps(e,t,n),n=n.sibling}function ps(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:$u||es(n,t);case 6:var r=fs,i=hs;fs=null,ds(e,t,n),hs=i,null!==(fs=r)&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):fs.removeChild(n.stateNode));break;case 18:null!==fs&&(hs?(e=fs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(fs,n.stateNode));break;case 4:r=fs,i=hs,fs=n.stateNode.containerInfo,hs=!0,ds(e,t,n),fs=r,hs=i;break;case 0:case 11:case 14:case 15:if(!$u&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&ts(n,t,o),i=i.next}while(i!==r)}ds(e,t,n);break;case 1:if(!$u&&(es(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ec(n,t,u)}ds(e,t,n);break;case 21:ds(e,t,n);break;case 22:1&n.mode?($u=(r=$u)||null!==n.memoizedState,ds(e,t,n),$u=r):ds(e,t,n);break;default:ds(e,t,n)}}function vs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ms(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:fs=s.stateNode,hs=!1;break e;case 3:case 4:fs=s.stateNode.containerInfo,hs=!0;break e}s=s.return}if(null===fs)throw Error(a(160));ps(o,u,i),fs=null,hs=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Ec(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),gs(e),4&r){try{rs(3,e,e.return),is(3,e)}catch(m){Ec(e,e.return,m)}try{rs(5,e,e.return)}catch(m){Ec(e,e.return,m)}}break;case 1:ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return);break;case 5:if(ms(t,e),gs(e),512&r&&null!==n&&es(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(m){Ec(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&$(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(m){Ec(e,e.return,m)}}break;case 6:if(ms(t,e),gs(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(m){Ec(e,e.return,m)}}break;case 3:if(ms(t,e),gs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(m){Ec(e,e.return,m)}break;case 4:default:ms(t,e),gs(e);break;case 13:ms(t,e),gs(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=$e())),4&r&&vs(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?($u=(l=$u)||f,ms(t,e),$u=l):ms(t,e),gs(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:rs(4,d,d.return);break;case 1:es(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){Ec(r,n,m)}}break;case 5:es(d,d.return);break;case 22:if(null!==d.memoizedState){_s(h);continue}}null!==p?(p.return=d,Ju=p):_s(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,l?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(m){Ec(e,e.return,m)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=l?"":h.memoizedProps}catch(m){Ec(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ms(t,e),gs(e),4&r&&vs(e);case 21:}}function gs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(us(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,ss(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cs(e,ss(e),o);break;default:throw Error(a(161))}}catch(u){Ec(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function ks(e,t,n){Ju=e,bs(e,t,n)}function bs(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||$u;u=Qu;var c=$u;if(Qu=o,($u=s)&&!c)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?xs(i):null!==s?(s.return=o,Ju=s):xs(i);for(;null!==a;)Ju=a,bs(a,t,n),a=a.sibling;Ju=i,Qu=u,$u=c}ws(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):ws(e)}}function ws(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$u||is(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$u)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ma(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ja(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ja(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}$u||512&t.flags&&as(t)}catch(d){Ec(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function xs(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{is(4,t)}catch(s){Ec(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Ec(t,i,s)}}var a=t.return;try{as(t)}catch(s){Ec(t,a,s)}break;case 5:var o=t.return;try{as(t)}catch(s){Ec(t,o,s)}}}catch(s){Ec(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var Ss,Es=Math.ceil,Is=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Cs=b.ReactCurrentBatchConfig,As=0,Ns=null,Os=null,Ds=0,Rs=0,Ps=Si(0),Ms=0,Ls=null,Fs=0,js=0,Us=0,Vs=null,Bs=null,zs=0,qs=1/0,Ws=null,Gs=!1,Hs=null,Ks=null,Ys=!1,Zs=null,Qs=0,$s=0,Xs=null,Js=-1,ec=0;function tc(){return 0!==(6&As)?$e():-1!==Js?Js:Js=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&As)&&0!==Ds?Ds&-Ds:null!==va.transition?(0===ec&&(ec=vt()),ec):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rc(e,t,n,r){if(50<$s)throw $s=0,Xs=null,Error(a(185));yt(e,n,r),0!==(2&As)&&e===Ns||(e===Ns&&(0===(2&As)&&(js|=n),4===Ms&&sc(e,Ds)),ic(e,r),1===n&&0===As&&0===(1&t.mode)&&(qs=$e()+500,Ui&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Ds:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(cc.bind(null,e)):Bi(cc.bind(null,e)),oi((function(){0===(6&As)&&zi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Js=-1,ec=0,0!==(6&As))throw Error(a(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Ds:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=As;As|=2;var o=vc();for(Ns===e&&Ds===t||(Ws=null,qs=$e()+500,dc(e,t));;)try{kc();break}catch(s){pc(e,s)}wa(),Is.current=o,As=i,null!==Os?t=0:(Ns=null,Ds=0,t=Ms)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ls,dc(e,0),sc(e,r),ic(e,$e()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ls,dc(e,0),sc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:_c(e,Bs,Ws);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zs+500-$e())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_c.bind(null,e,Bs,Ws),t);break}_c(e,Bs,Ws);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Es(r/1960))-r)){e.timeoutHandle=ri(_c.bind(null,e,Bs,Ws),r);break}_c(e,Bs,Ws);break;default:throw Error(a(329))}}}return ic(e,$e()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=Vs;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bs,Bs=n,null!==t&&uc(t)),e}function uc(e){null===Bs?Bs=e:Bs.push.apply(Bs,e)}function sc(e,t){for(t&=~Us,t&=~js,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&As))throw Error(a(327));xc();var t=ht(e,0);if(0===(1&t))return ic(e,$e()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ls,dc(e,0),sc(e,t),ic(e,$e()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_c(e,Bs,Ws),ic(e,$e()),null}function lc(e,t){var n=As;As|=1;try{return e(t)}finally{0===(As=n)&&(qs=$e()+500,Ui&&zi())}}function fc(e){null!==Zs&&0===Zs.tag&&0===(6&As)&&xc();var t=As;As|=1;var n=Cs.transition,r=kt;try{if(Cs.transition=null,kt=1,e)return e()}finally{kt=r,Cs.transition=n,0===(6&(As=t))&&zi()}}function hc(){Rs=Ps.current,Ei(Ps)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:io(),Ei(Ai),Ei(Ci),lo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:_a(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Ns=e,Os=e=Pc(e.current,null),Ds=Rs=t,Ms=0,Ls=null,Us=js=Fs=0,Bs=Vs=null,null!==Ia){for(t=0;t<Ia.length;t++)if(null!==(r=(n=Ia[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ia=null}return e}function pc(e,t){for(;;){var n=Os;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,yo=mo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Ms=1,Ls=t,Os=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Ds,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=yu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&mu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){mu(o,l,t),mc();break e}c=Error(a(426))}else if(ia&&1&s.mode){var y=yu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),gu(y,u,s,0,t),pa(lu(c,s));break e}}o=c=lu(c,s),4!==Ms&&(Ms=2),null===Vs?Vs=[o]:Vs.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,La(o,pu(0,c,t));break e;case 1:s=c;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,La(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(b){t=b,Os===n&&null!==n&&(Os=n=n.return);continue}break}}function vc(){var e=Is.current;return Is.current=ou,null===e?ou:e}function mc(){0!==Ms&&3!==Ms&&2!==Ms||(Ms=4),null===Ns||0===(268435455&Fs)&&0===(268435455&js)||sc(Ns,Ds)}function yc(e,t){var n=As;As|=2;var r=vc();for(Ns===e&&Ds===t||(Ws=null,dc(e,t));;)try{gc();break}catch(i){pc(e,i)}if(wa(),As=n,Is.current=r,null!==Os)throw Error(a(261));return Ns=null,Ds=0,Ms}function gc(){for(;null!==Os;)bc(Os)}function kc(){for(;null!==Os&&!Ze();)bc(Os)}function bc(e){var t=Ss(e.alternate,e,Rs);e.memoizedProps=e.pendingProps,null===t?wc(e):Os=t,Ts.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yu(n,t,Rs)))return void(Os=n)}else{if(null!==(n=Zu(n,t)))return n.flags&=32767,void(Os=n);if(null===e)return Ms=6,void(Os=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Os=t);Os=t=e}while(null!==t);0===Ms&&(Ms=5)}function _c(e,t,n){var r=kt,i=Cs.transition;try{Cs.transition=null,kt=1,function(e,t,n,r){do{xc()}while(null!==Zs);if(0!==(6&As))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(Os=Ns=null,Ds=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ys||(Ys=!0,Nc(tt,(function(){return xc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cs.transition,Cs.transition=null;var u=kt;kt=1;var s=As;As|=4,Ts.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:ma(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ns,ns=!1}(e,n),ys(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,ks(n,e,i),Qe(),As=s,kt=u,Cs.transition=o}else e.current=n;if(Ys&&(Ys=!1,Zs=e,Qs=i),o=e.pendingLanes,0===o&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Gs)throw Gs=!1,e=Hs,Hs=null,e;0!==(1&Qs)&&0!==e.tag&&xc(),o=e.pendingLanes,0!==(1&o)?e===Xs?$s++:($s=0,Xs=e):$s=0,zi()}(e,t,n,r)}finally{Cs.transition=i,kt=r}return null}function xc(){if(null!==Zs){var e=bt(Qs),t=Cs.transition,n=kt;try{if(Cs.transition=null,kt=16>e?16:e,null===Zs)var r=!1;else{if(e=Zs,Zs=null,Qs=0,0!==(6&As))throw Error(a(331));var i=As;for(As|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Ju=l;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:rs(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(os(f),f===l){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:rs(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:is(9,s)}}catch(_){Ec(s,s.return,_)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(As=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Cs.transition=t}}return!1}function Sc(e,t,n){e=Pa(e,t=pu(0,t=lu(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function Ec(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Pa(t,e=vu(t,e=lu(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ds&n)===n&&(4===Ms||3===Ms&&(130023424&Ds)===Ds&&500>$e()-zs?dc(e,0):Us|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=tc();null!==(e=Aa(e,t))&&(yt(e,t,n),ic(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function Nc(e,t){return Ke(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dc(e,t,n,r){return new Oc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Dc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Rc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Lc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Dc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=Dc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=Dc(19,n,t,i)).elementType=N,e.lanes=o,e;case R:return Fc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case C:u=11;break e;case O:u=14;break e;case D:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Dc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Lc(e,t,n,r){return(e=Dc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Dc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Dc(6,e,null,t)).lanes=n,e}function Uc(e,t,n){return(t=Dc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,u,s){return e=new Vc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Dc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Oa(a),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Di(n))return Mi(e,n,t)}return t}function qc(e,t,n,r,i,a,o,u,s){return(e=Bc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=Ra(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Pa(n,a,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,a=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Pa(i,t,o))&&(rc(e,i,o,a),Ma(e,i,o)),o}function Gc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Nu(t),da();break;case 5:ao(t);break;case 1:Di(t.type)&&Li(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(ya,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?ju(e,t,n):(Ii(uo,1&uo.current),null!==(e=Gu(e,t,n))?e.sibling:null);Ii(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Gu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wu(e,t),e=t.pendingProps;var i=Oi(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(o=!0,Li(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Oa(t),i.updater=Ba,t.stateNode=i,i._reactInternals=t,Ga(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===O)return 14}return 2}(r),e=ma(r,e),i){case 0:t=Tu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ma(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Tu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 3:e:{if(Nu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,Da(e,t),Fa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=lu(Error(a(423)),t));break e}if(r!==i){t=Ou(e,t,r,n,i=lu(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=$a(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Gu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Iu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&ca(t),null;case 13:return ju(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qa(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ma(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(ya,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ai.current){t=Gu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ra(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ma(r=t.type,t.pendingProps),xu(e,t,r,i=ma(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ma(r,i),Wu(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,Sa(t,n),qa(t,r,i),Ga(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function el(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Gc(o);u.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Gc(o);a.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),fc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Gc(s);u.call(e)}}var s=Bc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),fc((function(){Wc(t,s,n,r)})),s}(n,t,e,i,r);return Gc(o)}Qc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Wc(e,t,null,null)},Qc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;fc((function(){Wc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),ic(t,$e()),0===(6&As)&&(qs=$e()+500,zi()))}break;case 13:fc((function(){var t=Aa(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},_t=function(e){if(13===e.tag){var t=Aa(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},xt=function(e){if(13===e.tag){var t=nc(e),n=Aa(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=lc,Ae=fc;var tl={usingClientEntryPoint:!1,Events:[ki,bi,wi,Ie,Te,lc]},nl={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),at=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return fc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(fc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=lc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var b=k.prototype=new g;b.constructor=k,v(b,y.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(I(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function O(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)_.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:O}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,b(e),!v)if(null!==r(c))v=!0,R(_);else{var t=r(l);null!==t&&P(w,t.startTime-e)}}function _(e,n){v=!1,m&&(m=!1,g(I),I=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&P(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,I=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof k)x=function(){k(N)};else if("undefined"!==typeof MessageChannel){var O=new MessageChannel,D=O.port2;O.port1.onmessage=N,x=function(){D.postMessage(null)}}else x=function(){y(N,0)};function R(e){E=e,S||(S=!0,x())}function P(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(I),I=-1):m=!0,P(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,R(_))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},413:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(878);var i=n(181),a=n(267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,u=[],s=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=a.call(n)).done)&&(u.push(r.value),u.length!==t);s=!0);}catch(l){c=!0,i=l}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return u}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},2:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return gt},SDK_VERSION:function(){return On},_DEFAULT_ENTRY_NAME:function(){return gn},_addComponent:function(){return _n},_addOrOverwriteComponent:function(){return xn},_apps:function(){return bn},_clearComponents:function(){return Tn},_components:function(){return wn},_getProvider:function(){return En},_registerComponent:function(){return Sn},_removeServiceInstance:function(){return In},deleteApp:function(){return Mn},getApp:function(){return Rn},getApps:function(){return Pn},initializeApp:function(){return Dn},onLog:function(){return jn},registerVersion:function(){return Fn},setLogLevel:function(){return Un}});var t=n(791),r=n.t(t,2),i=n(250);var a=n(439),o=n(403),u=n(303),s=n(433);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=n(142);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,l.Z)(r.key),r)}}function h(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function p(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function v(e){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},v(e)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}var y=n(2);function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){var t=m();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===(0,y.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return g(e)}(this,n)}}function b(e,t,n){return b=m()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&d(i,n.prototype),i},b.apply(null,arguments)}function w(e){var t="function"===typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,v(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)},w(e)}var _,x=n(878),S=n(199),E=n(181),I=n(267);function T(e){return(0,x.Z)(e)||(0,S.Z)(e)||(0,E.Z)(e)||(0,I.Z)()}function C(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,E.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(_||(_={}));var N,O="popstate";function D(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function R(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function P(e,t){return{usr:e.state,key:e.key,idx:t}}function M(e,t,n,r){return void 0===n&&(n=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?F(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function L(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function F(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function j(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,u=i.v5Compat,s=void 0!==u&&u,c=o.history,l=_.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=_.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:L(e);return D(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(A({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(O,p),f=e,function(){o.removeEventListener(O,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=_.Push;var r=M(m.location,e,t);n&&n(r,e);var i=P(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(a)}s&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=_.Replace;var r=M(m.location,e,t);n&&n(r,e);var i=P(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),s&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(N||(N={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function U(e,t,n){void 0===n&&(n="/");var r=J(("string"===typeof t?F(t):t).pathname||"/",n);if(null==r)return null;var i=V(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Q(i[o],X(r));return a}function V(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(D(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var u=re([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(D(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+u+'".'),V(e.children,t,s,u)),(null!=e.path||e.index)&&t.push({path:u,score:Z(u,e.index),routesMeta:s})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=C(B(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(u){a.e(u)}finally{a.f()}}else i(e,t)})),t}function B(e){var t=e.split("/");if(0===t.length)return[];var n=T(t),r=n[0],i=n.slice(1),a=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===i.length)return a?[o,""]:[o];var u=B(i.join("/")),c=[];return c.push.apply(c,(0,s.Z)(u.map((function(e){return""===e?o:[o,e].join("/")})))),a&&c.push.apply(c,(0,s.Z)(u)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var z=/^:\w+$/,q=3,W=2,G=1,H=10,K=-2,Y=function(e){return"*"===e};function Z(e,t){var n=e.split("/"),r=n.length;return n.some(Y)&&(r+=K),t&&(r+=W),n.filter((function(e){return!Y(e)})).reduce((function(e,t){return e+(z.test(t)?q:""===t?G:H)}),r)}function Q(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=$({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:re([i,l.pathname]),pathnameBase:ie(re([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=re([i,l.pathnameBase]))}return a}function $(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);R("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=(0,a.Z)(n,2),i=r[0],o=r[1],u=t.match(i);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return R(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function X(e){try{return decodeURI(e)}catch(t){return R(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function J(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function te(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ne(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=F(e):(D(!(i=A({},e)).pathname||!i.pathname.includes("?"),ee("?","pathname","search",i)),D(!i.pathname||!i.pathname.includes("#"),ee("#","pathname","hash",i)),D(!i.search||!i.search.includes("#"),ee("#","search","hash",i)));var a,o=""===e||""===i.pathname,u=o?"/":i.pathname;if(r||null==u)a=n;else{var s=t.length-1;if(u.startsWith("..")){for(var c=u.split("/");".."===c[0];)c.shift(),s-=1;i.pathname=c.join("/")}a=s>=0?t[s]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?F(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:ae(a),hash:oe(u)}}(i,a),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var re=function(e){return e.join("/").replace(/\/\/+/g,"/")},ie=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},ae=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},oe=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},ue=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(w(Error));function se(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var ce=["post","put","patch","delete"],le=(new Set(ce),["get"].concat(ce));new Set(le),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function fe(){return fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fe.apply(this,arguments)}var he=r.startTransition,de=t.createContext(null);var pe=t.createContext(null);var ve=t.createContext(null);var me=t.createContext(null);var ye=t.createContext(null);var ge=t.createContext({outlet:null,matches:[],isDataRoute:!1});var ke=t.createContext(null);function be(){return null!=t.useContext(ye)}function we(){return be()||D(!1),t.useContext(ye).location}function _e(e){t.useContext(me).static||t.useLayoutEffect(e)}function xe(){return t.useContext(ge).isDataRoute?function(){var e=Re(Te.UseNavigateStable).router,n=Me(Ce.UseNavigateStable),r=t.useRef(!1);_e((function(){r.current=!0}));var i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,fe({fromRouteId:n},i)))}),[e,n]);return i}():function(){be()||D(!1);var e=t.useContext(de),n=t.useContext(me),r=n.basename,i=n.navigator,a=t.useContext(ge).matches,o=we().pathname,u=JSON.stringify(te(a).map((function(e){return e.pathnameBase}))),s=t.useRef(!1);_e((function(){s.current=!0}));var c=t.useCallback((function(t,n){if(void 0===n&&(n={}),s.current)if("number"!==typeof t){var a=ne(t,JSON.parse(u),o,"path"===n.relative);null==e&&"/"!==r&&(a.pathname="/"===a.pathname?r:re([r,a.pathname])),(n.replace?i.replace:i.push)(a,n.state,n)}else i.go(t)}),[r,i,u,o,e]);return c}()}function Se(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ge).matches,a=we().pathname,o=JSON.stringify(te(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return ne(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function Ee(e,n,r){be()||D(!1);var i,a=t.useContext(me).navigator,o=t.useContext(ge).matches,u=o[o.length-1],s=u?u.params:{},c=(u&&u.pathname,u?u.pathnameBase:"/"),l=(u&&u.route,we());if(n){var f,h="string"===typeof n?F(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||D(!1),i=h}else i=l;var d=i.pathname||"/",p=U(e,{pathname:"/"===c?d:d.slice(c.length)||"/"});var v=De(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:re([c,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:re([c,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,r);return n&&v?t.createElement(ye.Provider,{value:{location:fe({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:_.Pop}},v):v}function Ie(){var e=function(){var e,n=t.useContext(ke),r=Pe(Ce.UseRouteError),i=Me(Ce.UseRouteError);if(n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=se(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,null)}var Te,Ce,Ae=t.createElement(Ie,null),Ne=function(e){p(r,e);var n=k(r);function r(e){var t;return c(this,r),(t=n.call(this,e)).state={location:e.location,revalidation:e.revalidation,error:e.error},t}return h(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(ge.Provider,{value:this.props.routeContext},t.createElement(ke.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}}]),r}(t.Component);function Oe(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(de);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(ge.Provider,{value:n},i)}function De(e,n,r){var i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){var a;if(null==(a=r)||!a.errors)return null;e=r.matches}var o=e,u=null==(i=r)?void 0:i.errors;if(null!=u){var s=o.findIndex((function(e){return e.route.id&&(null==u?void 0:u[e.route.id])}));s>=0||D(!1),o=o.slice(0,Math.min(o.length,s+1))}return o.reduceRight((function(e,i,a){var s=i.route.id?null==u?void 0:u[i.route.id]:null,c=null;r&&(c=i.route.errorElement||Ae);var l=n.concat(o.slice(0,a+1)),f=function(){var n;return n=s?c:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(Oe,{match:i,routeContext:{outlet:e,matches:l,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?t.createElement(Ne,{location:r.location,revalidation:r.revalidation,component:c,error:s,children:f(),routeContext:{outlet:null,matches:l,isDataRoute:!0}}):f()}),null)}function Re(e){var n=t.useContext(de);return n||D(!1),n}function Pe(e){var n=t.useContext(pe);return n||D(!1),n}function Me(e){var n=function(e){var n=t.useContext(ge);return n||D(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||D(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"}(Te||(Te={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"}(Ce||(Ce={}));var Le;function Fe(e){D(!1)}function je(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?_.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;be()&&D(!1);var h=r.replace(/^\/*/,"/"),d=t.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=F(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,S=p.key,E=void 0===S?"default":S,I=t.useMemo((function(){var e=J(m,h);return null==e?null:{location:{pathname:e,search:g,hash:b,state:x,key:E},navigationType:s}}),[h,m,g,b,x,E,s]);return null==I?null:t.createElement(me.Provider,{value:d},t.createElement(ye.Provider,{children:a,value:I}))}function Ue(e){var t=e.children,n=e.location;return Ee(Be(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Le||(Le={}));var Ve=new Promise((function(){}));t.Component;function Be(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e)){var a=[].concat((0,s.Z)(n),[i]);if(e.type!==t.Fragment){e.type!==Fe&&D(!1),e.props.index&&e.props.children&&D(!1);var o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Be(e.props.children,a)),r.push(o)}else r.push.apply(r,Be(e.props.children,a))}})),r}function ze(){return ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ze.apply(this,arguments)}function qe(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var We=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ge(e){var n,r=e.basename,i=e.children,o=e.future,u=e.window,s=t.useRef();null==s.current&&(s.current=(void 0===(n={window:u,v5Compat:!0})&&(n={}),j((function(e,t){var n=e.location;return M("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:L(t)}),null,n)));var c=s.current,l=t.useState({action:c.action,location:c.location}),f=(0,a.Z)(l,2),h=f[0],d=f[1],p=(o||{}).v7_startTransition,v=t.useCallback((function(e){p&&he?he((function(){return d(e)})):d(e)}),[d,p]);return t.useLayoutEffect((function(){return c.listen(v)}),[c,v]),t.createElement(je,{basename:r,children:i,location:h.location,navigationType:h.action,navigator:c})}var He="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ke=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ye=t.forwardRef((function(e,n){var r,i=e.onClick,a=e.relative,o=e.reloadDocument,u=e.replace,s=e.state,c=e.target,l=e.to,f=e.preventScrollReset,h=qe(e,We),d=t.useContext(me).basename,p=!1;if("string"===typeof l&&Ke.test(l)&&(r=l,He))try{var v=new URL(window.location.href),m=l.startsWith("//")?new URL(v.protocol+l):new URL(l),y=J(m.pathname,d);m.origin===v.origin&&null!=y?l=y+m.search+m.hash:p=!0}catch(b){}var g=function(e,n){var r=(void 0===n?{}:n).relative;be()||D(!1);var i=t.useContext(me),a=i.basename,o=i.navigator,u=Se(e,{relative:r}),s=u.hash,c=u.pathname,l=u.search,f=c;return"/"!==a&&(f="/"===c?a:re([a,c])),o.createHref({pathname:f,search:l,hash:s})}(l,{relative:a}),k=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,c=xe(),l=we(),f=Se(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:L(l)===L(f);c(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[l,c,f,a,o,i,e,u,s])}(l,{replace:u,state:s,target:c,preventScrollReset:f,relative:a});return t.createElement("a",ze({},h,{href:r||g,onClick:p||o?i:function(e){i&&i(e),e.defaultPrevented||k(e)},ref:n,target:c}))}));var Ze,Qe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(Ze||(Ze={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Qe||(Qe={}));var $e=n(184),Xe=(0,t.createContext)(),Je=function(e){var n=e.reducer,r=e.initialState,i=e.children;return(0,$e.jsx)(Xe.Provider,{value:(0,t.useReducer)(n,r),children:i})},et=function(){return(0,t.useContext)(Xe)},tt=n(942),nt=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},rt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(nt(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw new it;var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},it=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return h(n)}(w(Error)),at=function(e){return function(e){var t=nt(e);return rt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ot=function(e){try{return rt.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ut(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ut(e[n],t[n]));return e}var st=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ct=function(){try{return st()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&ot(e[1]);return t&&JSON.parse(t)}}()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},lt=function(){var e;return null===(e=ct())||void 0===e?void 0:e.config},ft=function(){function e(){var t=this;c(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return h(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function ht(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function dt(){var e,t=null===(e=ct())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function pt(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function vt(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function mt(){var e=ht();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function yt(){try{return"object"===typeof indexedDB}catch(e){return!1}}var gt=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(g(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(g(a),kt.prototype.create),a}return h(n)}(w(Error)),kt=function(){function e(t,n,r){c(this,e),this.service=t,this.serviceName=n,this.errors=r}return h(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(bt,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new gt(n,a,t)}}]),e}();var bt=/\{\$([^}]+)}/g;function wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function _t(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function xt(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(St(u)&&St(s)){if(!xt(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function St(e){return null!==e&&"object"===typeof e}function Et(e){for(var t=[],n=function(){var e=(0,a.Z)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function It(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,a.Z)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}})),t}function Tt(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ct(e,t){var n=new At(e,t);return n.subscribe.bind(n)}var At=function(){function e(t,n){var r=this;c(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return h(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=C(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Nt),void 0===r.error&&(r.error=Nt),void 0===r.complete&&(r.complete=Nt);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Nt(){}function Ot(e){return e&&e._delegate?e._delegate:e}function Dt(){Dt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(A){s=function(e,t,n){return e[t]=n}}function c(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new I(i||[]);return r(o,"_invoke",{value:_(e,n,u)}),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(T([])));g&&g!==t&&n.call(g,a)&&(v=g);var k=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=l(e[r],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"==(0,y.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,f;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(k,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Rt(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Pt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Rt(a,r,i,o,u,"next",e)}function u(e){Rt(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Mt=function(){function e(t,n,r){c(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return h(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Lt="[DEFAULT]",Ft=function(){function e(t,n){c(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return h(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new ft;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Lt})}catch(c){}var t,n=C(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,a.Z)(t.value,2),i=r[0],o=r[1],u=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:u});o.resolve(s)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,s.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,s.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,o=this.getOrInitializeService({instanceIdentifier:r,options:n}),u=C(this.instancesDeferred.entries());try{for(u.s();!(i=u.n()).done;){var s=(0,a.Z)(i.value,2),c=s[0],l=s[1];r===this.normalizeInstanceIdentifier(c)&&l.resolve(o)}}catch(f){u.e(f)}finally{u.f()}return o}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(vE){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Lt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(vE){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt;return this.component?this.component.multipleInstances?e:Lt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var jt,Ut,Vt=function(){function e(t){c(this,e),this.name=t,this.providers=new Map}return h(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ft(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Bt=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ut||(Ut={}));var zt={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},qt=Ut.INFO,Wt=(jt={},(0,tt.Z)(jt,Ut.DEBUG,"log"),(0,tt.Z)(jt,Ut.VERBOSE,"log"),(0,tt.Z)(jt,Ut.INFO,"info"),(0,tt.Z)(jt,Ut.WARN,"warn"),(0,tt.Z)(jt,Ut.ERROR,"error"),jt),Gt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Wt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Ht=function(){function e(t){c(this,e),this.name=t,this._logLevel=qt,this._logHandler=Gt,this._userLogHandler=null,Bt.push(this)}return h(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ut))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?zt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.DEBUG].concat(t)),this._logHandler.apply(this,[this,Ut.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Ut.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.INFO].concat(t)),this._logHandler.apply(this,[this,Ut.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.WARN].concat(t)),this._logHandler.apply(this,[this,Ut.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ut.ERROR].concat(t)),this._logHandler.apply(this,[this,Ut.ERROR].concat(t))}}]),e}();var Kt,Yt,Zt=n(413),Qt=function(e,t){return t.some((function(t){return e instanceof t}))};var $t=new WeakMap,Xt=new WeakMap,Jt=new WeakMap,en=new WeakMap,tn=new WeakMap;var nn={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Xt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Jt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return on(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function rn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yt||(Yt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(un(this),n),on($t.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return on(e.apply(un(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[un(this),t].concat(r));return Jt.set(a,t.sort?t.sort():[t]),on(a)}}function an(e){return"function"===typeof e?rn(e):(e instanceof IDBTransaction&&function(e){if(!Xt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Xt.set(e,t)}}(e),Qt(e,Kt||(Kt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,nn):e)}function on(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(on(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&$t.set(t,e)})).catch((function(){})),tn.set(t,e),t}(e);if(en.has(e))return en.get(e);var t=an(e);return t!==e&&(en.set(e,t),tn.set(t,e)),t}var un=function(e){return tn.get(e)};var sn,cn,ln=["get","getKey","getAll","getAllKeys","count"],fn=["put","add","delete","clear"],hn=new Map;function dn(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(hn.get(t))return hn.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=fn.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ln.includes(n))){var a=function(){var e=Pt(Dt().mark((function e(t){var a,o,u,s,c,l,f=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return hn.set(t,a),a}}}nn=function(e){return(0,Zt.Z)((0,Zt.Z)({},e),{},{get:function(t,n,r){return dn(t,n)||e.get(t,n,r)},has:function(t,n){return!!dn(t,n)||e.has(t,n)}})}(nn);var pn=function(){function e(t){c(this,e),this.container=t}return h(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var vn="@firebase/app",mn="0.9.12",yn=new Ht("@firebase/app"),gn="[DEFAULT]",kn=(sn={},(0,tt.Z)(sn,vn,"fire-core"),(0,tt.Z)(sn,"@firebase/app-compat","fire-core-compat"),(0,tt.Z)(sn,"@firebase/analytics","fire-analytics"),(0,tt.Z)(sn,"@firebase/analytics-compat","fire-analytics-compat"),(0,tt.Z)(sn,"@firebase/app-check","fire-app-check"),(0,tt.Z)(sn,"@firebase/app-check-compat","fire-app-check-compat"),(0,tt.Z)(sn,"@firebase/auth","fire-auth"),(0,tt.Z)(sn,"@firebase/auth-compat","fire-auth-compat"),(0,tt.Z)(sn,"@firebase/database","fire-rtdb"),(0,tt.Z)(sn,"@firebase/database-compat","fire-rtdb-compat"),(0,tt.Z)(sn,"@firebase/functions","fire-fn"),(0,tt.Z)(sn,"@firebase/functions-compat","fire-fn-compat"),(0,tt.Z)(sn,"@firebase/installations","fire-iid"),(0,tt.Z)(sn,"@firebase/installations-compat","fire-iid-compat"),(0,tt.Z)(sn,"@firebase/messaging","fire-fcm"),(0,tt.Z)(sn,"@firebase/messaging-compat","fire-fcm-compat"),(0,tt.Z)(sn,"@firebase/performance","fire-perf"),(0,tt.Z)(sn,"@firebase/performance-compat","fire-perf-compat"),(0,tt.Z)(sn,"@firebase/remote-config","fire-rc"),(0,tt.Z)(sn,"@firebase/remote-config-compat","fire-rc-compat"),(0,tt.Z)(sn,"@firebase/storage","fire-gcs"),(0,tt.Z)(sn,"@firebase/storage-compat","fire-gcs-compat"),(0,tt.Z)(sn,"@firebase/firestore","fire-fst"),(0,tt.Z)(sn,"@firebase/firestore-compat","fire-fst-compat"),(0,tt.Z)(sn,"fire-js","fire-js"),(0,tt.Z)(sn,"firebase","fire-js-all"),sn),bn=new Map,wn=new Map;function _n(e,t){try{e.container.addComponent(t)}catch(n){yn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function xn(e,t){e.container.addOrOverwriteComponent(t)}function Sn(e){var t=e.name;if(wn.has(t))return yn.debug("There were multiple attempts to register component ".concat(t,".")),!1;wn.set(t,e);var n,r=C(bn.values());try{for(r.s();!(n=r.n()).done;){_n(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function En(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function In(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gn;En(e,t).clearInstance(n)}function Tn(){wn.clear()}var Cn=(cn={},(0,tt.Z)(cn,"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),(0,tt.Z)(cn,"bad-app-name","Illegal App name: '{$appName}"),(0,tt.Z)(cn,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,tt.Z)(cn,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,tt.Z)(cn,"no-options","Need to provide options, when not being deployed to hosting via source."),(0,tt.Z)(cn,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,tt.Z)(cn,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,tt.Z)(cn,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),(0,tt.Z)(cn,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),(0,tt.Z)(cn,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),(0,tt.Z)(cn,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),cn),An=new kt("app","Firebase",Cn),Nn=function(){function e(t,n,r){var i=this;c(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Mt("app",(function(){return i}),"PUBLIC"))}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}]),e}(),On="9.22.2";function Dn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:gn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=lt()),!n)throw An.create("no-options");var a=bn.get(i);if(a){if(xt(n,a.options)&&xt(r,a.config))return a;throw An.create("duplicate-app",{appName:i})}var o,u=new Vt(i),s=C(wn.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Nn(n,r,u);return bn.set(i,l),l}function Rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn,t=bn.get(e);if(!t&&e===gn&&lt())return Dn();if(!t)throw An.create("no-app",{appName:e});return t}function Pn(){return Array.from(bn.values())}function Mn(e){return Ln.apply(this,arguments)}function Ln(){return(Ln=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!bn.has(n)){e.next=6;break}return bn.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fn(e,t,n){var r,i=null!==(r=kn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void yn.warn(u.join(" "))}Sn(new Mt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function jn(e,t){if(null!==e&&"function"!==typeof e)throw An.create("invalid-log-argument");!function(e,t){var n,r=C(Bt);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=zt[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Ut[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Un(e){var t;t=e,Bt.forEach((function(e){e.setLogLevel(t)}))}var Vn="firebase-heartbeat-database",Bn=1,zn="firebase-heartbeat-store",qn=null;function Wn(){return qn||(qn=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=on(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(on(u.result),e.oldVersion,e.newVersion,on(u.transaction),e)})),r&&u.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),s}(Vn,Bn,{upgrade:function(e,t){if(0===t)e.createObjectStore(zn)}}).catch((function(e){throw An.create("idb-open",{originalErrorMessage:e.message})}))),qn}function Gn(e){return Hn.apply(this,arguments)}function Hn(){return Hn=Pt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wn();case 3:return n=e.sent,e.next=6,n.transaction(zn).objectStore(zn).get(Zn(t));case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),e.t0 instanceof gt?yn.warn(e.t0.message):(i=An.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),yn.warn(i.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Hn.apply(this,arguments)}function Kn(e,t){return Yn.apply(this,arguments)}function Yn(){return Yn=Pt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Wn();case 3:return r=e.sent,i=r.transaction(zn,"readwrite"),a=i.objectStore(zn),e.next=8,a.put(n,Zn(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof gt?yn.warn(e.t0.message):(o=An.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),yn.warn(o.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),Yn.apply(this,arguments)}function Zn(e){return"".concat(e.name,"!").concat(e.options.appId)}var Qn=function(){function e(t){var n=this;c(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new tr(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return h(e,[{key:"triggerHeartbeat",value:function(){var e=Pt(Dt().mark((function e(){var t,n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=$n(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Pt(Dt().mark((function e(){var t,n,r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=$n(),n=Xn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=at(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $n(){return(new Date).toISOString().substring(0,10)}function Xn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=C(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),nr(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),nr(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Jn,er,tr=function(){function e(t){c(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return h(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(yt()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Gn(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Kn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Kn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,s.Z)(r.heartbeats),(0,s.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function nr(e){return at(JSON.stringify({version:2,heartbeats:e})).length}Jn="",Sn(new Mt("platform-logger",(function(e){return new pn(e)}),"PRIVATE")),Sn(new Mt("heartbeat",(function(e){return new Qn(e)}),"PRIVATE")),Fn(vn,mn,Jn),Fn(vn,mn,"esm2017"),Fn("fire-js","");var rr=function(){function e(t,n){var r=this;c(this,e),this._delegate=t,this.firebase=n,_n(t,new Mt("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return h(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Mn(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gn;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){_n(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){xn(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),ir=(er={},(0,tt.Z)(er,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,tt.Z)(er,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),er),ar=new kt("app-compat","Firebase",ir);var or=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Dn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(wt(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Fn,setLogLevel:Un,onLog:jn,apps:null,SDK_VERSION:On,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Sn(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw ar.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&ut(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!wt(n,e=e||gn))throw ar.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(rr);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ut(n,e)},createSubscribe:Ct,ErrorFactory:kt,deepExtend:ut}),n}(),ur=new Ht("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){ur.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var sr=self.firebase.SDK_VERSION;sr&&sr.indexOf("LITE")>=0&&ur.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var cr=or;!function(e){Fn("@firebase/app-compat","0.2.12",e)}();function lr(){return lr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=v(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},lr.apply(this,arguments)}cr.registerVersion("firebase","9.22.2","app-compat");function fr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var hr,dr={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},pr="EMAIL_SIGNIN",vr="PASSWORD_RESET",mr="RECOVER_EMAIL",yr="REVERT_SECOND_FACTOR_ADDITION",gr="VERIFY_AND_CHANGE_EMAIL",kr="VERIFY_EMAIL";function br(){return(0,tt.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var wr=function(){var e;return e={},(0,tt.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,tt.Z)(e,"argument-error",""),(0,tt.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,tt.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,tt.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,tt.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,tt.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,tt.Z)(e,"cors-unsupported","This browser is not supported."),(0,tt.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,tt.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,tt.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,tt.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,tt.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,tt.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,tt.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,tt.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,tt.Z)(e,"expired-action-code","The action code has expired."),(0,tt.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,tt.Z)(e,"internal-error","An internal AuthError has occurred."),(0,tt.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,tt.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,tt.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,tt.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,tt.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,tt.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,tt.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,tt.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,tt.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,tt.Z)(e,"invalid-email","The email address is badly formatted."),(0,tt.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,tt.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,tt.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,tt.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,tt.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,tt.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,tt.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,tt.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,tt.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,tt.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,tt.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,tt.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,tt.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,tt.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,tt.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,tt.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,tt.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,tt.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,tt.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,tt.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,tt.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,tt.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,tt.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,tt.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,tt.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,tt.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,tt.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,tt.Z)(e,"missing-password","A non-empty password must be provided"),(0,tt.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,tt.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,tt.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,tt.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,tt.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,tt.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,tt.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,tt.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,tt.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,tt.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,tt.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,tt.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,tt.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,tt.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,tt.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,tt.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,tt.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,tt.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,tt.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,tt.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,tt.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,tt.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,tt.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,tt.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,tt.Z)(e,"timeout","The operation has timed out."),(0,tt.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,tt.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,tt.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,tt.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,tt.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,tt.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,tt.Z)(e,"unverified-email","The operation requires a verified email."),(0,tt.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,tt.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,tt.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,tt.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,tt.Z)(e,"user-signed-out",""),(0,tt.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,tt.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,tt.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),(0,tt.Z)(e,"missing-recaptcha-token","The reCAPTCHA token is missing when sending request to the backend."),(0,tt.Z)(e,"invalid-recaptcha-token","The reCAPTCHA token is invalid when sending request to the backend."),(0,tt.Z)(e,"invalid-recaptcha-action","The reCAPTCHA action is invalid when sending request to the backend."),(0,tt.Z)(e,"recaptcha-not-enabled","reCAPTCHA Enterprise integration is not enabled for this project."),(0,tt.Z)(e,"missing-client-type","The reCAPTCHA client type is missing when sending request to the backend."),(0,tt.Z)(e,"missing-recaptcha-version","The reCAPTCHA version is missing when sending request to the backend."),(0,tt.Z)(e,"invalid-req-type","Invalid request parameters."),(0,tt.Z)(e,"invalid-recaptcha-version","The reCAPTCHA version is invalid when sending request to the backend."),e},_r=br,xr=new kt("auth","Firebase",br()),Sr=new Ht("@firebase/auth");function Er(e){if(Sr.logLevel<=Ut.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Sr.warn.apply(Sr,["Auth (".concat(On,"): ").concat(e)].concat(n))}}function Ir(e){if(Sr.logLevel<=Ut.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Sr.error.apply(Sr,["Auth (".concat(On,"): ").concat(e)].concat(n))}}function Tr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Or.apply(void 0,[e].concat(n))}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Or.apply(void 0,[e].concat(n))}function Ar(e,t,n){var r=Object.assign(Object.assign({},_r()),(0,tt.Z)({},t,n));return new kt("auth","Firebase",r).create(t,{appName:e.name})}function Nr(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Tr(e,"argument-error"),Ar(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Or(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,s.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,s.Z)(o)))}return xr.create.apply(xr,[e].concat(n))}function Dr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Or.apply(void 0,[t].concat(r))}}function Rr(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Ir(t),new Error(t)}function Pr(e,t){e||Rr(t)}function Mr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Lr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var jr=function(){function e(t,n){c(this,e),this.shortDelay=t,this.longDelay=n,Pr(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())||vt()}return h(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Lr()||pt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Ur(e,t){Pr(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Vr=function(){function e(){c(this,e)}return h(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Br=(hr={},(0,tt.Z)(hr,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,tt.Z)(hr,"MISSING_CUSTOM_TOKEN","internal-error"),(0,tt.Z)(hr,"INVALID_IDENTIFIER","invalid-email"),(0,tt.Z)(hr,"MISSING_CONTINUE_URI","internal-error"),(0,tt.Z)(hr,"INVALID_PASSWORD","wrong-password"),(0,tt.Z)(hr,"MISSING_PASSWORD","missing-password"),(0,tt.Z)(hr,"EMAIL_EXISTS","email-already-in-use"),(0,tt.Z)(hr,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,tt.Z)(hr,"INVALID_IDP_RESPONSE","invalid-credential"),(0,tt.Z)(hr,"INVALID_PENDING_TOKEN","invalid-credential"),(0,tt.Z)(hr,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,tt.Z)(hr,"MISSING_REQ_TYPE","internal-error"),(0,tt.Z)(hr,"EMAIL_NOT_FOUND","user-not-found"),(0,tt.Z)(hr,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,tt.Z)(hr,"EXPIRED_OOB_CODE","expired-action-code"),(0,tt.Z)(hr,"INVALID_OOB_CODE","invalid-action-code"),(0,tt.Z)(hr,"MISSING_OOB_CODE","internal-error"),(0,tt.Z)(hr,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,tt.Z)(hr,"INVALID_ID_TOKEN","invalid-user-token"),(0,tt.Z)(hr,"TOKEN_EXPIRED","user-token-expired"),(0,tt.Z)(hr,"USER_NOT_FOUND","user-token-expired"),(0,tt.Z)(hr,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,tt.Z)(hr,"INVALID_CODE","invalid-verification-code"),(0,tt.Z)(hr,"INVALID_SESSION_INFO","invalid-verification-id"),(0,tt.Z)(hr,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,tt.Z)(hr,"MISSING_SESSION_INFO","missing-verification-id"),(0,tt.Z)(hr,"SESSION_EXPIRED","code-expired"),(0,tt.Z)(hr,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,tt.Z)(hr,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,tt.Z)(hr,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,tt.Z)(hr,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,tt.Z)(hr,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,tt.Z)(hr,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,tt.Z)(hr,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,tt.Z)(hr,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,tt.Z)(hr,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,tt.Z)(hr,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,tt.Z)(hr,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),(0,tt.Z)(hr,"RECAPTCHA_NOT_ENABLED","recaptcha-not-enabled"),(0,tt.Z)(hr,"MISSING_RECAPTCHA_TOKEN","missing-recaptcha-token"),(0,tt.Z)(hr,"INVALID_RECAPTCHA_TOKEN","invalid-recaptcha-token"),(0,tt.Z)(hr,"INVALID_RECAPTCHA_ACTION","invalid-recaptcha-action"),(0,tt.Z)(hr,"MISSING_CLIENT_TYPE","missing-client-type"),(0,tt.Z)(hr,"MISSING_RECAPTCHA_VERSION","missing-recaptcha-version"),(0,tt.Z)(hr,"INVALID_RECAPTCHA_VERSION","invalid-recaptcha-version"),(0,tt.Z)(hr,"INVALID_REQ_TYPE","invalid-req-type"),hr),zr=new jr(3e4,6e4);function qr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Wr(e,t,n,r){return Gr.apply(this,arguments)}function Gr(){return Gr=Pt(Dt().mark((function e(t,n,r,i){var a,o=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Hr(t,a,Pt(Dt().mark((function e(){var a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Et(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Vr.fetch()(Qr(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Gr.apply(this,arguments)}function Hr(e,t,n){return Kr.apply(this,arguments)}function Kr(){return Kr=Pt(Dt().mark((function e(t,n,r){var i,o,u,s,c,l,f,h,d,p;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Br),n),e.prev=2,o=new $r(t),e.next=6,Promise.race([r(),o.promise]);case 6:return u=e.sent,o.clearNetworkTimeout(),e.next=10,u.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Xr(t,"account-exists-with-different-credential",s);case 13:if(!u.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(c=u.ok?s.errorMessage:s.error.message,l=c.split(" : "),f=(0,a.Z)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Xr(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Xr(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Xr(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw Ar(t,p,d);case 34:Tr(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof gt)){e.next=41;break}throw e.t0;case 41:Tr(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Kr.apply(this,arguments)}function Yr(e,t,n,r){return Zr.apply(this,arguments)}function Zr(){return Zr=Pt(Dt().mark((function e(t,n,r,i){var a,o,u=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Wr(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Tr(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}function Qr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ur(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var $r=function(){function e(t){var n=this;c(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Cr(n.auth,"network-request-failed"))}),zr.get())}))}return h(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Xr(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Cr(e,t,r);return i.customData._tokenResponse=n,i}function Jr(e,t){return ei.apply(this,arguments)}function ei(){return ei=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ei.apply(this,arguments)}function ti(e,t){return ni.apply(this,arguments)}function ni(){return ni=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}function ri(e,t){return ii.apply(this,arguments)}function ii(){return ii=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),ii.apply(this,arguments)}function ai(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function oi(){return oi=Pt(Dt().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ot(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Dr((a=si(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:ai(ui(a.auth_time)),issuedAtTime:ai(ui(a.iat)),expirationTime:ai(ui(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),oi.apply(this,arguments)}function ui(e){return 1e3*Number(e)}function si(e){var t=e.split("."),n=(0,a.Z)(t,3),r=n[0],i=n[1],o=n[2];if(void 0===r||void 0===i||void 0===o)return Ir("JWT malformed, contained fewer than 3 sections"),null;try{var u=ot(i);return u?JSON.parse(u):(Ir("Failed to decode base64 JWT payload"),null)}catch(s){return Ir("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function ci(e,t){return li.apply(this,arguments)}function li(){return li=Pt(Dt().mark((function e(t,n){var r=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof gt&&fi(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),li.apply(this,arguments)}function fi(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var hi=function(){function e(t){c(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return h(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Pt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),di=function(){function e(t,n){c(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return h(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ai(this.lastLoginAt),this.creationTime=ai(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function pi(e){return vi.apply(this,arguments)}function vi(){return vi=Pt(Dt().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ci(t,ri(r,{idToken:i}));case 6:Dr(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=fr(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=yi(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new di(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}function mi(){return(mi=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ot(t),e.next=3,pi(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yi(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,s.Z)(n),(0,s.Z)(t))}function gi(e,t){return ki.apply(this,arguments)}function ki(){return ki=Pt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hr(t,{},Pt(Dt().mark((function e(){var r,i,a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Et({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Qr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Vr.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}var bi=function(){function e(){c(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return h(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Dr(e.idToken,"internal-error"),Dr("undefined"!==typeof e.idToken,"internal-error"),Dr("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=si(e);return Dr(t,"internal-error"),Dr("undefined"!==typeof t.exp,"internal-error"),Dr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Pt(Dt().mark((function e(t){var n,r=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Dr(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Pt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gi(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Rr("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Dr("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Dr("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Dr("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function wi(e,t){Dr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var _i=function(){function e(t){c(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=fr(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,s.Z)(a.providerData):[],this.metadata=new di(a.createdAt||void 0,a.lastLoginAt||void 0)}return h(e,[{key:"getIdToken",value:function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ci(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Dr(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return oi.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return mi.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Dr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Dr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Pt(Dt().mark((function e(t){var n,r,i=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,pi(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ci(this,Jr(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;Dr(k&&x,t,"internal-error");var S=bi.fromJSON(this.name,x);Dr("string"===typeof k,t,"internal-error"),wi(f,t.name),wi(h,t.name),Dr("boolean"===typeof b,t,"internal-error"),Dr("boolean"===typeof w,t,"internal-error"),wi(d,t.name),wi(p,t.name),wi(v,t.name),wi(m,t.name),wi(y,t.name),wi(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(E._redirectEventId=m),E}},{key:"_fromIdTokenResponse",value:function(){var t=Pt(Dt().mark((function t(n,r){var i,a,o,u=arguments;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new bi).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,pi(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),xi=new Map;function Si(e){Pr(e instanceof Function,"Expected a class definition");var t=xi.get(e);return t?(Pr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,xi.set(e,t),t)}var Ei=function(){function e(){c(this,e),this.type="NONE",this.storage={}}return h(e,[{key:"_isAvailable",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ei.type="NONE";var Ii=Ei;function Ti(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Ci=function(){function e(t,n,r){c(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Ti(this.userKey,a.apiKey,o),this.fullPersistenceKey=Ti("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return h(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?_i._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Pt(Dt().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Si(Ii),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Si(Ii),u=Ti(i,n.config.apiKey,n.name),s=null,c=C(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=_i._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Ai(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ri(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ni(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Mi(t))return"Blackberry";if(Li(t))return"Webos";if(Oi(t))return"Safari";if((t.includes("chrome/")||Di(t))&&!t.includes("edge/"))return"Chrome";if(Pi(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/firefox\//i.test(e)}function Oi(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/crios\//i.test(e)}function Ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/iemobile/i.test(e)}function Pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/android/i.test(e)}function Mi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/blackberry/i.test(e)}function Li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/webos/i.test(e)}function Fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ji(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return Fi(e)||Pi(e)||Li(e)||Mi(e)||/windows phone/i.test(e)||Ri(e)}function Ui(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ai(ht());break;case"Worker":t="".concat(Ai(ht()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(On,"/").concat(r)}function Vi(e){return Bi.apply(this,arguments)}function Bi(){return Bi=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wr(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),Bi.apply(this,arguments)}function zi(e,t){return qi.apply(this,arguments)}function qi(){return qi=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"GET","/v2/recaptchaConfig",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),qi.apply(this,arguments)}function Wi(e){return void 0!==e&&void 0!==e.getResponse}function Gi(e){return void 0!==e&&void 0!==e.enterprise}var Hi=h((function e(t){if(c(this,e),this.siteKey="",this.emailPasswordEnabled=!1,void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some((function(e){return"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState}))}));function Ki(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Cr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Yi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Zi=function(){function e(t){c(this,e),this.type="recaptcha-enterprise",this.auth=ea(t)}return h(e,[{key:"verify",value:function(){var e=Pt(Dt().mark((function e(){var t,n,r,i,a,o=this,u=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e,n,r){var i=window.grecaptcha;Gi(i)?i.enterprise.ready((function(){i.enterprise.execute(e,{action:t}).then((function(e){n(e)})).catch((function(){n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))},i=function(){return i=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=5;break}if(null!=t.tenantId||null==t._agentRecaptchaConfig){e.next=3;break}return e.abrupt("return",t._agentRecaptchaConfig.siteKey);case 3:if(null==t.tenantId||void 0===t._tenantRecaptchaConfigs[t.tenantId]){e.next=5;break}return e.abrupt("return",t._tenantRecaptchaConfigs[t.tenantId].siteKey);case 5:return e.abrupt("return",new Promise(function(){var e=Pt(Dt().mark((function e(n,r){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:zi(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((function(e){if(void 0!==e.recaptchaKey){var i=new Hi(e);return null==t.tenantId?t._agentRecaptchaConfig=i:t._tenantRecaptchaConfigs[t.tenantId]=i,n(i.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))})).catch((function(e){r(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e){return i.apply(this,arguments)},t=u.length>0&&void 0!==u[0]?u[0]:"verify",n=u.length>1&&void 0!==u[1]&&u[1],e.abrupt("return",new Promise((function(e,t){r(o.auth).then((function(r){if(!n&&Gi(window.grecaptcha))a(r,e,t);else{if("undefined"===typeof window)return void t(new Error("RecaptchaVerifier is only supported in browser"));Ki("https://www.google.com/recaptcha/enterprise.js?render="+r).then((function(){a(r,e,t)})).catch((function(e){t(e)}))}})).catch((function(e){t(e)}))})));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qi(e,t,n){return $i.apply(this,arguments)}function $i(){return $i=Pt(Dt().mark((function e(t,n,r){var i,a,o,u,s=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=s.length>3&&void 0!==s[3]&&s[3],a=new Zi(t),e.prev=2,e.next=5,a.verify(r);case 5:o=e.sent,e.next=13;break;case 8:return e.prev=8,e.t0=e.catch(2),e.next=12,a.verify(r,!0);case 12:o=e.sent;case 13:return u=Object.assign({},n),i?Object.assign(u,{captchaResp:o}):Object.assign(u,{captchaResponse:o}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),e.abrupt("return",u);case 18:case"end":return e.stop()}}),e,null,[[2,8]])}))),$i.apply(this,arguments)}var Xi=function(){function e(t){c(this,e),this.auth=t,this.queue=[]}return h(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Pt(Dt().mark((function e(t){var n,r,i,a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=C(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=C(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ji=function(){function e(t,n,r,i){c(this,e),this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ta(this),this.idTokenSubscription=new ta(this),this.beforeStateQueue=new Xi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}return h(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Si(t)),this._initializationPromise=this.queue(Pt(Dt().mark((function r(){var i,a;return Dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Ci.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Pt(Dt().mark((function e(t){var n,r,i,a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Dr(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pi(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ot(t):null)&&Dr(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Pt(Dt().mark((function e(t){var n,r=this,i=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Dr(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Pt(Dt().mark((function n(){return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Si(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"initializeRecaptchaConfig",value:function(){var e=Pt(Dt().mark((function e(){var t,n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zi(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"});case 2:t=e.sent,n=new Hi(t),null==this.tenantId?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Zi(this).verify();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getRecaptchaConfig",value:function(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new kt("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Pt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Dr(n=t&&Si(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Ci.create(this,[Si(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Pt(Dt().mark((function e(t){var n=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Dr(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Dr(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ui(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Pt(Dt().mark((function e(){var t,n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,tt.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.next=8,this._getAppCheckToken();case 8:return(i=e.sent)&&(n["X-Firebase-AppCheck"]=i),e.abrupt("return",n);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=Pt(Dt().mark((function e(){var t,n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();case 2:return(null===(n=e.sent)||void 0===n?void 0:n.error)&&Er("Error while retrieving App Check token: ".concat(n.error)),e.abrupt("return",null===n||void 0===n?void 0:n.token);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function ea(e){return Ot(e)}var ta=function(){function e(t){var n=this;c(this,e),this.auth=t,this.observer=null,this.addObserver=Ct((function(e){return n.observer=e}))}return h(e,[{key:"next",get:function(){return Dr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function na(e,t,n){var r=ea(e);Dr(r._canInitEmulator,r,"emulator-config-failed"),Dr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=ra(t),u=function(e){var t=ra(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var o=i[1];return{host:o,port:ia(r.substr(o.length+1))}}var u=r.split(":"),s=(0,a.Z)(u,2);return{host:s[0],port:ia(s[1])}}(t),s=u.host,c=u.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(o,"//").concat(s).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ra(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ia(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var aa=function(){function e(t,n){c(this,e),this.providerId=t,this.signInMethod=n}return h(e,[{key:"toJSON",value:function(){return Rr("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Rr("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Rr("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Rr("not implemented")}}]),e}();function oa(e,t){return ua.apply(this,arguments)}function ua(){return ua=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:resetPassword",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),ua.apply(this,arguments)}function sa(e,t){return ca.apply(this,arguments)}function ca(){return ca=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function la(e,t){return fa.apply(this,arguments)}function fa(){return fa=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:update",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}function ha(e,t){return da.apply(this,arguments)}function da(){return da=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(t,"POST","/v1/accounts:signInWithPassword",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function pa(e,t){return va.apply(this,arguments)}function va(){return va=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:sendOobCode",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),va.apply(this,arguments)}function ma(e,t){return ya.apply(this,arguments)}function ya(){return ya=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pa(t,n));case 1:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}function ga(e,t){return ka.apply(this,arguments)}function ka(){return ka=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pa(t,n));case 1:case"end":return e.stop()}}),e)}))),ka.apply(this,arguments)}function ba(e,t){return wa.apply(this,arguments)}function wa(){return wa=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pa(t,n));case 1:case"end":return e.stop()}}),e)}))),wa.apply(this,arguments)}function _a(e,t){return xa.apply(this,arguments)}function xa(){return xa=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pa(t,n));case 1:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function Sa(e,t){return Ea.apply(this,arguments)}function Ea(){return Ea=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Ia(e,t){return Ta.apply(this,arguments)}function Ta(){return Ta=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(t,"POST","/v1/accounts:signInWithEmailLink",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}var Ca=function(e){p(n,e);var t=k(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return c(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return h(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Pt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?12:13;break;case 3:if(r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},!(null===(n=t._getRecaptchaConfig())||void 0===n?void 0:n.emailPasswordEnabled)){e.next=11;break}return e.next=7,Qi(t,r,"signInWithPassword");case 7:return i=e.sent,e.abrupt("return",ha(t,i));case 11:return e.abrupt("return",ha(t,r).catch(function(){var e=Pt(Dt().mark((function e(n){var i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Qi(t,r,"signInWithPassword");case 4:return i=e.sent,e.abrupt("return",ha(t,i));case 8:return e.abrupt("return",Promise.reject(n));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 12:return e.abrupt("return",Sa(t,{email:this._email,oobCode:this._password}));case 13:Tr(t,"internal-error");case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",sa(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ia(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Tr(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(aa);function Aa(e,t){return Na.apply(this,arguments)}function Na(){return Na=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(t,"POST","/v1/accounts:signInWithIdp",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}var Oa=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return h(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Aa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Aa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Aa(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Et(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Tr("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=fr(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(aa);function Da(e,t){return Ra.apply(this,arguments)}function Ra(){return Ra=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:sendVerificationCode",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ra.apply(this,arguments)}function Pa(){return Pa=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(t,"POST","/v1/accounts:signInWithPhoneNumber",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Ma(){return Ma=Pt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yr(t,"POST","/v1/accounts:signInWithPhoneNumber",qr(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Xr(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ma.apply(this,arguments)}var La=(0,tt.Z)({},"USER_NOT_FOUND","user-not-found");function Fa(){return Fa=Pt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Yr(t,"POST","/v1/accounts:signInWithPhoneNumber",qr(t,r),La));case 2:case"end":return e.stop()}}),e)}))),Fa.apply(this,arguments)}var ja=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this,"phone","phone")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Pa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ma.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Fa.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(aa);var Ua=function(){function e(t){var n,r,i,a,o,u;c(this,e);var s=It(Tt(t)),l=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Dr(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return h(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=It(Tt(e)).link,n=t?It(Tt(t)).deep_link_id:null,r=It(Tt(e)).deep_link_id;return(r?It(Tt(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(vE){return null}}}]),e}();var Va=function(){function e(){c(this,e),this.providerId=e.PROVIDER_ID}return h(e,null,[{key:"credential",value:function(e,t){return Ca._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Ua.parseLink(t);return Dr(n,"argument-error"),Ca._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Va.PROVIDER_ID="password",Va.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Va.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ba=function(){function e(t){c(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return h(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),za=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).scopes=[],e}return h(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,s.Z)(this.scopes)}}]),n}(Ba),qa=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Dr(e.idToken||e.accessToken,"argument-error"),Oa._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Dr("providerId"in t&&"signInMethod"in t,"argument-error"),Oa._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(za),Wa=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.call(this,"facebook.com")}return h(n,null,[{key:"credential",value:function(e){return Oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(vE){return null}}}]),n}(za);Wa.FACEBOOK_SIGN_IN_METHOD="facebook.com",Wa.PROVIDER_ID="facebook.com";var Ga=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return h(n,null,[{key:"credential",value:function(e,t){return Oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(vE){return null}}}]),n}(za);Ga.GOOGLE_SIGN_IN_METHOD="google.com",Ga.PROVIDER_ID="google.com";var Ha=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.call(this,"github.com")}return h(n,null,[{key:"credential",value:function(e){return Oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(vE){return null}}}]),n}(za);Ha.GITHUB_SIGN_IN_METHOD="github.com",Ha.PROVIDER_ID="github.com";var Ka=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return h(n,[{key:"_getIdTokenResponse",value:function(e){return Aa(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Aa(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Aa(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(aa),Ya=function(e){p(n,e);var t=k(n);function n(e){return c(this,n),Dr(e.startsWith("saml."),"argument-error"),t.call(this,e)}return h(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ka.fromJSON(e);return Dr(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ka._create(r,n)}catch(i){return null}}}]),n}(Ba),Za=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.call(this,"twitter.com")}return h(n,null,[{key:"credential",value:function(e,t){return Oa._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(vE){return null}}}]),n}(za);function Qa(e,t){return $a.apply(this,arguments)}function $a(){return $a=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(t,"POST","/v1/accounts:signUp",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),$a.apply(this,arguments)}Za.TWITTER_SIGN_IN_METHOD="twitter.com",Za.PROVIDER_ID="twitter.com";var Xa=function(){function e(t){c(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return h(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Pt(Dt().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,_i._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ja(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Pt(Dt().mark((function t(n,r,i){var a;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ja(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ja(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function eo(){return eo=Pt(Dt().mark((function e(t){var n,r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ea(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Xa({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Qa(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Xa._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),eo.apply(this,arguments)}var to=function(e){p(n,e);var t=k(n);function n(e,r,i,a){var o,u;return c(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(g(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return h(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(gt);function no(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw to._fromErrorAndOperation(e,n,t,r);throw n}))}function ro(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function io(e,t){return ao.apply(this,arguments)}function ao(){return ao=Pt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,so(!0,r,n);case 3:return e.t0=ti,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=ro(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ao.apply(this,arguments)}function oo(e,t){return uo.apply(this,arguments)}function uo(){return uo=Pt(Dt().mark((function e(t,n){var r,i,a=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ci,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Xa._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),uo.apply(this,arguments)}function so(e,t,n){return co.apply(this,arguments)}function co(){return(co=Pt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pi(n);case 2:i=ro(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Dr(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lo(e,t){return fo.apply(this,arguments)}function fo(){return fo=Pt(Dt().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ci(t,no(i,a,n,t),r);case 6:return Dr((o=e.sent).idToken,i,"internal-error"),Dr(u=si(o.idToken),i,"internal-error"),s=u.sub,Dr(t.uid===s,i,"user-mismatch"),e.abrupt("return",Xa._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Tr(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),fo.apply(this,arguments)}function ho(e,t){return po.apply(this,arguments)}function po(){return po=Pt(Dt().mark((function e(t,n){var r,i,a,o,u=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,no(t,i,n);case 4:return a=e.sent,e.next=7,Xa._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),po.apply(this,arguments)}function vo(e,t){return mo.apply(this,arguments)}function mo(){return mo=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ho(ea(t),n));case 1:case"end":return e.stop()}}),e)}))),mo.apply(this,arguments)}function yo(e,t){return go.apply(this,arguments)}function go(){return(go=Pt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,so(!1,r,n.providerId);case 3:return e.abrupt("return",oo(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ko(e,t){return bo.apply(this,arguments)}function bo(){return(bo=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lo(Ot(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wo(e,t){return _o.apply(this,arguments)}function _o(){return _o=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Yr(t,"POST","/v1/accounts:signInWithCustomToken",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),_o.apply(this,arguments)}function xo(){return xo=Pt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ea(t),e.next=3,wo(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Xa._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),xo.apply(this,arguments)}var So=function(){function e(t,n){c(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return h(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Eo._fromServerResponse(e,t):"totpInfo"in t?Io._fromServerResponse(e,t):Tr(e,"internal-error")}}]),e}(),Eo=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return h(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(So),Io=function(e){p(n,e);var t=k(n);function n(e){return c(this,n),t.call(this,"totp",e)}return h(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(So);function To(e,t,n){var r;Dr((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Dr("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Dr(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Dr(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Co(){return Co=Pt(Dt().mark((function e(t,n,r){var i,a,o,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ea(t),o={requestType:"PASSWORD_RESET",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=11;break}return e.next=5,Qi(a,o,"getOobCode",!0);case 5:return u=e.sent,r&&To(a,u,r),e.next=9,ga(a,u);case 9:e.next=14;break;case 11:return r&&To(a,o,r),e.next=14,ga(a,o).catch(function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow."),e.next=4,Qi(a,o,"getOobCode",!0);case 4:return n=e.sent,r&&To(a,n,r),e.next=8,ga(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:case"end":return e.stop()}}),e)}))),Co.apply(this,arguments)}function Ao(){return Ao=Pt(Dt().mark((function e(t,n,r){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oa(Ot(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function No(){return No=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,la(Ot(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Oo(e,t){return Do.apply(this,arguments)}function Do(){return Do=Pt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,oa(r,{oobCode:n});case 3:i=e.sent,Dr(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Dr(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Dr(i.mfaInfo,r,"internal-error");case 13:Dr(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=So._fromServerResponse(ea(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Do.apply(this,arguments)}function Ro(){return Ro=Pt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oo(Ot(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Ro.apply(this,arguments)}function Po(e,t,n){return Mo.apply(this,arguments)}function Mo(){return Mo=Pt(Dt().mark((function e(t,n,r){var i,a,o,u,s,c,l;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ea(t),o={returnSecureToken:!0,email:n,password:r,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=9;break}return e.next=5,Qi(a,o,"signUpPassword");case 5:s=e.sent,u=Qa(a,s),e.next=10;break;case 9:u=Qa(a,o).catch(function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=8;break}return console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow."),e.next=4,Qi(a,o,"signUpPassword");case 4:return n=e.sent,e.abrupt("return",Qa(a,n));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return e.next=12,u.catch((function(e){return Promise.reject(e)}));case 12:return c=e.sent,e.next=15,Xa._fromIdTokenResponse(a,"signIn",c);case 15:return l=e.sent,e.next=18,a._updateCurrentUser(l.user);case 18:return e.abrupt("return",l);case 19:case"end":return e.stop()}}),e)}))),Mo.apply(this,arguments)}function Lo(){return Lo=Pt(Dt().mark((function e(t,n,r){var i,a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=function(e,t){Dr(t.handleCodeInApp,a,"argument-error"),t&&To(a,e,t)},a=ea(t),o={requestType:"EMAIL_SIGNIN",email:n,clientType:"CLIENT_TYPE_WEB"},!(null===(i=a._getRecaptchaConfig())||void 0===i?void 0:i.emailPasswordEnabled)){e.next=12;break}return e.next=6,Qi(a,o,"getOobCode",!0);case 6:return s=e.sent,u(s,r),e.next=10,ba(a,s);case 10:e.next=15;break;case 12:return u(o,r),e.next=15,ba(a,o).catch(function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code!=="auth/".concat("missing-recaptcha-token")){e.next=10;break}return console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow."),e.next=4,Qi(a,o,"getOobCode",!0);case 4:return n=e.sent,u(n,r),e.next=8,ba(a,n);case 8:e.next=11;break;case 10:return e.abrupt("return",Promise.reject(t));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)}))),Lo.apply(this,arguments)}function Fo(){return Fo=Pt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),Dr((a=Va.credentialWithLink(n,r||Mr()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",vo(i,a));case 4:case"end":return e.stop()}}),e)}))),Fo.apply(this,arguments)}function jo(e,t){return Uo.apply(this,arguments)}function Uo(){return Uo=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:createAuthUri",qr(t,n)));case 1:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function Vo(){return Vo=Pt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Lr()?Mr():"http://localhost",i={identifier:n,continueUri:r},e.next=4,jo(Ot(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),Vo.apply(this,arguments)}function Bo(){return(Bo=Pt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ot(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&To(r.auth,a,n),e.next=8,ma(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zo(){return(zo=Pt(Dt().mark((function e(t,n,r){var i,a,o,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&To(i.auth,o,r),e.next=8,_a(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qo(e,t){return Wo.apply(this,arguments)}function Wo(){return Wo=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Wr(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Wo.apply(this,arguments)}function Go(){return(Go=Pt(Dt().mark((function e(t,n){var r,i,a,o,u,s,c;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ot(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ci(a,qo(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ho(e,t,n){return Ko.apply(this,arguments)}function Ko(){return Ko=Pt(Dt().mark((function e(t,n,r){var i,a,o,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ci(t,sa(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Ko.apply(this,arguments)}var Yo=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Zo=function(e){p(n,e);var t=k(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this,e,r,i)).username=a,o}return h(n)}(Yo),Qo=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"facebook.com",r)}return h(n)}(Yo),$o=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return h(n)}(Zo),Xo=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"google.com",r)}return h(n)}(Yo),Jo=function(e){p(n,e);var t=k(n);function n(e,r,i){return c(this,n),t.call(this,e,"twitter.com",r,i)}return h(n)}(Zo);function eu(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=si(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Yo(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Qo(a,i);case"github.com":return new $o(a,i);case"google.com":return new Xo(a,i);case"twitter.com":return new Jo(a,i,e.screenName||null);case"custom":case"anonymous":return new Yo(a,null);default:return new Yo(a,r,i)}}(n)}var tu=function(){function e(t,n,r){c(this,e),this.type=t,this.credential=n,this.auth=r}return h(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,tt.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t,n){return new e("enroll",t,n)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),nu=function(){function e(t,n,r){c(this,e),this.session=t,this.hints=n,this.signInResolver=r}return h(e,[{key:"resolveSignIn",value:function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=ea(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return So._fromServerResponse(r,e)}));Dr(i.mfaPendingCredential,r,"internal-error");var o=tu._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Pt(Dt().mark((function e(t){var a,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Xa._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Dr(n.user,r,"internal-error"),e.abrupt("return",Xa._forOperation(n.user,n.operationType,u));case 17:Tr(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function ru(e,t){return Wr(e,"POST","/v2/accounts/mfaEnrollment:start",qr(e,t))}function iu(e,t){return Wr(e,"POST","/v2/accounts/mfaEnrollment:start",qr(e,t))}function au(e,t){return Wr(e,"POST","/v2/accounts/mfaEnrollment:finalize",qr(e,t))}function ou(e,t){return Wr(e,"POST","/v2/accounts/mfaEnrollment:withdraw",qr(e,t))}var uu=function(){function e(t){var n=this;c(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return So._fromServerResponse(t.auth,e)})))}))}return h(e,[{key:"getSession",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=tu,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.t2=this.user.auth,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1,e.t2));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Pt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ci(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Pt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.prev=4,e.next=7,ci(this.user,ou(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 7:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=11,this.user._updateTokensIfNecessary(i);case 11:return e.next=13,this.user.reload();case 13:e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),su=new WeakMap;var cu="__sak",lu=function(){function e(t,n){c(this,e),this.storageRetriever=t,this.type=n}return h(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(cu,"1"),this.storage.removeItem(cu),Promise.resolve(!0)):Promise.resolve(!1)}catch(vE){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var fu=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=ht();return Oi(e)||Fi(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ji(),e._shouldAllowMigration=!0,e}return h(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);mt()&&10===document.documentMode&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Pt(Dt().mark((function e(t,r){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr(v(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pt(Dt().mark((function e(t){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr(v(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr(v(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(lu);fu.type="LOCAL";var hu=fu,du=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return h(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(lu);du.type="SESSION";var pu=du;function vu(e){return Promise.all(e.map(function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var mu=function(){function e(t){c(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return h(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Pt(Dt().mark((function e(t){var n,r,i,a,o,u,s,c;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,vu(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function yu(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}mu.receivers=[];var gu=function(){function e(t){c(this,e),this.target=t,this.handlers=new Set}return h(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Pt(Dt().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=yu("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function ku(){return window}function bu(e){ku().location.href=e}function wu(){return"undefined"!==typeof ku().WorkerGlobalScope&&"function"===typeof ku().importScripts}function _u(){return xu.apply(this,arguments)}function xu(){return(xu=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Su(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Eu="firebaseLocalStorageDb",Iu="firebaseLocalStorage",Tu="fbase_key",Cu=function(){function e(t){c(this,e),this.request=t}return h(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Au(e,t){return e.transaction([Iu],t?"readwrite":"readonly").objectStore(Iu)}function Nu(){var e=indexedDB.deleteDatabase(Eu);return new Cu(e).toPromise()}function Ou(){var e=indexedDB.open(Eu,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Iu,{keyPath:Tu})}catch(r){n(r)}})),e.addEventListener("success",Pt(Dt().mark((function n(){var r;return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Iu)){n.next=12;break}return r.close(),n.next=5,Nu();case 5:return n.t0=t,n.next=8,Ou();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Du(e,t,n){return Ru.apply(this,arguments)}function Ru(){return Ru=Pt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Au(t,!0).put((i={},(0,tt.Z)(i,Tu,n),(0,tt.Z)(i,"value",r),i)),e.abrupt("return",new Cu(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Ru.apply(this,arguments)}function Pu(e,t){return Mu.apply(this,arguments)}function Mu(){return Mu=Pt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Au(t,!1).get(n),e.next=3,new Cu(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Mu.apply(this,arguments)}function Lu(e,t){var n=Au(e,!0).delete(t);return new Cu(n).toPromise()}var Fu=function(){function e(){c(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return h(e,[{key:"_openDb",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ou();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wu()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Pt(Dt().mark((function e(){var t=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=mu._getInstance(wu()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Pt(Dt().mark((function e(n,r){var i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Pt(Dt().mark((function e(){var t,n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_u();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new gu(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Su()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ou();case 5:return t=e.sent,e.next=8,Du(t,cu,"1");case 8:return e.next=10,Lu(t,cu);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Pt(Dt().mark((function e(t,n){var r=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Du(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Pu(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Pt(Dt().mark((function e(t){var n=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Lu(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Pt(Dt().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Au(e,!1).getAll();return new Cu(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=C(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Pt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Fu.type="LOCAL";var ju=Fu;function Uu(e,t){return Wr(e,"POST","/v2/accounts/mfaSignIn:start",qr(e,t))}function Vu(e,t){return Wr(e,"POST","/v2/accounts/mfaSignIn:finalize",qr(e,t))}var Bu=1e12,zu=function(){function e(t){c(this,e),this.auth=t,this.counter=Bu,this._widgets=new Map}return h(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new qu(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Bu;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Bu;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Bu,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),qu=function(){function e(t,n,r){var i=this;c(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Dr(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return h(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Wu=Yi("rcb"),Gu=new jr(3e4,6e4),Hu=function(){function e(){var t;c(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=ku().grecaptcha)||void 0===t?void 0:t.render)}return h(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Dr(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Wi(ku().grecaptcha)?Promise.resolve(ku().grecaptcha):new Promise((function(r,i){var a=ku().setTimeout((function(){i(Cr(e,"network-request-failed"))}),Gu.get());ku()[Wu]=function(){ku().clearTimeout(a),delete ku()[Wu];var o=ku().grecaptcha;if(o&&Wi(o)){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Cr(e,"internal-error"))},Ki("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Et({onload:Wu,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Cr(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=ku().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();var Ku=function(){function e(){c(this,e)}return h(e,[{key:"load",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new zu(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Yu="recaptcha",Zu={theme:"light",type:"image"},Qu=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Zu),r=arguments.length>2?arguments[2]:void 0;c(this,e),this.parameters=n,this.type=Yu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ea(r),this.isInvisible="invisible"===this.parameters.size,Dr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Dr(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ku:new Hu,this.validateStartingState()}return h(e,[{key:"verify",value:function(){var e=Pt(Dt().mark((function e(){var t,n,r,i=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Dr(!this.parameters.sitekey,this.auth,"argument-error"),Dr(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Dr("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=ku()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Dr(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Pt(Dt().mark((function e(){var t,n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dr(Lr()&&!wu(),this.auth,"internal-error"),e.next=3,$u();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Vi(this.auth);case 8:Dr(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Dr(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function $u(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Xu=function(){function e(t,n){c(this,e),this.verificationId=t,this.onConfirmation=n}return h(e,[{key:"confirm",value:function(e){var t=ja._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ju(){return Ju=Pt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ea(t),e.next=3,rs(i,n,Ot(r));case 3:return a=e.sent,e.abrupt("return",new Xu(a,(function(e){return vo(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}function es(e,t,n){return ts.apply(this,arguments)}function ts(){return(ts=Pt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),e.next=3,so(!1,i,"phone");case 3:return e.next=5,rs(i.auth,n,Ot(r));case 5:return a=e.sent,e.abrupt("return",new Xu(a,(function(e){return yo(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ns(){return(ns=Pt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ot(t),e.next=3,rs(i.auth,n,Ot(r));case 3:return a=e.sent,e.abrupt("return",new Xu(a,(function(e){return ko(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rs(e,t,n){return is.apply(this,arguments)}function is(){return is=Pt(Dt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Dr("string"===typeof a,t,"argument-error"),Dr(r.type===Yu,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Dr("enroll"===u.type,t,"internal-error"),e.next=13,ru(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Dr("signin"===u.type,t,"internal-error"),Dr(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Uu(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Da(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),is.apply(this,arguments)}function as(){return(as=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oo(Ot(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var os=function(){function e(t){c(this,e),this.providerId=e.PROVIDER_ID,this.auth=ea(t)}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return rs(this.auth,e,Ot(t))}}],[{key:"credential",value:function(e,t){return ja._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ja._fromTokenResponse(n,r):null}}]),e}();function us(e,t){return t?Si(t):(Dr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}os.PROVIDER_ID="phone",os.PHONE_SIGN_IN_METHOD="phone";var ss=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this,"custom","custom")).params=e,r}return h(n,[{key:"_getIdTokenResponse",value:function(e){return Aa(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Aa(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Aa(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(aa);function cs(e){return ho(e.auth,new ss(e),e.bypassAuthState)}function ls(e){var t=e.auth,n=e.user;return Dr(n,t,"internal-error"),lo(n,new ss(e),e.bypassAuthState)}function fs(e){return hs.apply(this,arguments)}function hs(){return hs=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Dr(r=t.user,n,"internal-error"),e.abrupt("return",oo(r,new ss(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}var ds=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];c(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return h(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Pt(Dt().mark((function t(n,r){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Pt(Dt().mark((function e(t){var n,r,i,a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return cs;case"linkViaPopup":case"linkViaRedirect":return fs;case"reauthViaPopup":case"reauthViaRedirect":return ls;default:Tr(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Pr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ps=new jr(2e3,1e4);function vs(e,t,n){return ms.apply(this,arguments)}function ms(){return ms=Pt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ea(t),Nr(t,n,Ba),a=us(i,r),o=new bs(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}function ys(){return(ys=Pt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nr((i=Ot(t)).auth,n,Ba),a=us(i.auth,r),o=new bs(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gs(e,t,n){return ks.apply(this,arguments)}function ks(){return(ks=Pt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nr((i=Ot(t)).auth,n,Ba),a=us(i.auth,r),o=new bs(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var bs=function(e){p(n,e);var t=k(n);function n(e,r,i,a,o){var u;return c(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=g(u),u}return h(n,[{key:"executeNotNull",value:function(){var e=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Dr(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Pt(Dt().mark((function e(){var t,n=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pr(1===this.filter.length,"Popup operations only handle one event"),t=yu(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Cr(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Cr(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Cr(e.auth,"popup-closed-by-user"))}),8e3):e.pollId=window.setTimeout(t,ps.get())}()}}]),n}(ds);bs.currentPopupAction=null;var ws="pendingRedirect",_s=new Map,xs=function(e){p(n,e);var t=k(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return c(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return h(n,[{key:"execute",value:function(){var e=Pt(Dt().mark((function e(){var t,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=_s.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ss(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,lr(v(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:_s.set(this.auth._key(),t);case 21:return this.bypassAuthState||_s.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Pt(Dt().mark((function e(t){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",lr(v(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",lr(v(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ds);function Ss(e,t){return Es.apply(this,arguments)}function Es(){return Es=Pt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ns(n),i=As(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Es.apply(this,arguments)}function Is(e,t){return Ts.apply(this,arguments)}function Ts(){return Ts=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",As(t)._set(Ns(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Ts.apply(this,arguments)}function Cs(e,t){_s.set(e._key(),t)}function As(e){return Si(e._redirectPersistence)}function Ns(e){return Ti(ws,e.config.apiKey,e.name)}function Os(e,t,n){return function(e,t,n){return Ds.apply(this,arguments)}(e,t,n)}function Ds(){return Ds=Pt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ea(t),Nr(t,n,Ba),e.next=4,i._initializationPromise;case 4:return a=us(i,r),e.next=7,Is(a,i);case 7:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 8:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}function Rs(e,t,n){return function(e,t,n){return Ps.apply(this,arguments)}(e,t,n)}function Ps(){return(Ps=Pt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nr((i=Ot(t)).auth,n,Ba),e.next=4,i.auth._initializationPromise;case 4:return a=us(i.auth,r),e.next=7,Is(a,i.auth);case 7:return e.next=9,Bs(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ms(e,t,n){return function(e,t,n){return Ls.apply(this,arguments)}(e,t,n)}function Ls(){return(Ls=Pt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nr((i=Ot(t)).auth,n,Ba),e.next=4,i.auth._initializationPromise;case 4:return a=us(i.auth,r),e.next=7,so(!1,i,n.providerId);case 7:return e.next=9,Is(a,i.auth);case 9:return e.next=11,Bs(i);case 11:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fs(e,t){return js.apply(this,arguments)}function js(){return js=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(t)._initializationPromise;case 2:return e.abrupt("return",Us(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),js.apply(this,arguments)}function Us(e,t){return Vs.apply(this,arguments)}function Vs(){return Vs=Pt(Dt().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=ea(t),a=us(i,n),o=new xs(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Vs.apply(this,arguments)}function Bs(e){return zs.apply(this,arguments)}function zs(){return(zs=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yu("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qs=function(){function e(t){c(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return h(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Gs(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Cr(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ws(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ws(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ws(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Gs(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Hs(e){return Ks.apply(this,arguments)}function Ks(){return Ks=Pt(Dt().mark((function e(t){var n,r=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Wr(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}var Ys=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zs=/^https?/;function Qs(){return Qs=Pt(Dt().mark((function e(t){var n,r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Hs(t);case 4:n=e.sent,r=n.authorizedDomains,i=C(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!$s(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Tr(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Qs.apply(this,arguments)}function $s(e){var t=Mr(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Zs.test(r))return!1;if(Ys.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Xs=new jr(3e4,6e4);function Js(){var e=ku().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,s.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var ec=null;function tc(e){return ec=ec||function(e){return new Promise((function(t,n){var r,i,a;function o(){Js(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Js(),n(Cr(e,"network-request-failed"))},timeout:Xs.get()})}if(null===(i=null===(r=ku().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=ku().gapi)||void 0===a?void 0:a.load)){var u=Yi("iframefcb");return ku()[u]=function(){gapi.load?o():n(Cr(e,"network-request-failed"))},Ki("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw ec=null,e}))}(e),ec}var nc=new jr(5e3,15e3),rc="__/auth/iframe",ic="emulator/auth/iframe",ac={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uc(e){var t=e.config;Dr(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Ur(t,ic):"https://".concat(e.config.authDomain,"/").concat(rc),r={apiKey:t.apiKey,appName:e.name,v:On},i=oc.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Et(r).slice(1))}function sc(e){return cc.apply(this,arguments)}function cc(){return cc=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tc(t);case 2:return n=e.sent,Dr(r=ku().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:uc(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ac,dontclear:!0},(function(e){return new Promise(function(){var n=Pt(Dt().mark((function n(r,i){var a,o,u;return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){ku().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Cr(t,"network-request-failed"),o=ku().setTimeout((function(){i(a)}),nc.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}var lc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fc=function(){function e(t){c(this,e),this.window=t,this.associatedEvent=null}return h(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function hc(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,o=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",c=Object.assign(Object.assign({},lc),{width:r.toString(),height:i.toString(),top:o,left:u}),l=ht().toLowerCase();n&&(s=Di(l)?"_blank":n),Ni(l)&&(t=t||"http://localhost",c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=(0,a.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Fi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new fc(null);var h=window.open(t||"",s,f);Dr(h,e,"popup-blocked");try{h.focus()}catch(d){}return new fc(h)}var dc="__/auth/handler",pc="emulator/auth/handler",vc=encodeURIComponent("fac");function mc(e,t,n,r,i,a){return yc.apply(this,arguments)}function yc(){return yc=Pt(Dt().mark((function e(t,n,r,i,o,u){var s,c,l,f,h,d,p,v,m,y,g,k,b;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Dr(t.config.authDomain,t,"auth-domain-config-required"),Dr(t.config.apiKey,t,"invalid-api-key"),s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:i,v:On,eventId:o},n instanceof Ba)for(n.setDefaultLanguage(t.languageCode),s.providerId=n.providerId||"",_t(n.getCustomParameters())||(s.customParameters=JSON.stringify(n.getCustomParameters())),c=0,l=Object.entries(u||{});c<l.length;c++)f=(0,a.Z)(l[c],2),h=f[0],d=f[1],s[h]=d;for(n instanceof za&&(p=n.getScopes().filter((function(e){return""!==e}))).length>0&&(s.scopes=p.join(",")),t.tenantId&&(s.tid=t.tenantId),v=s,m=0,y=Object.keys(v);m<y.length;m++)g=y[m],void 0===v[g]&&delete v[g];return e.next=10,t._getAppCheckToken();case 10:return k=e.sent,b=k?"#".concat(vc,"=").concat(encodeURIComponent(k)):"",e.abrupt("return","".concat(gc(t),"?").concat(Et(v).slice(1)).concat(b));case 13:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function gc(e){var t=e.config;return t.emulator?Ur(t,pc):"https://".concat(t.authDomain,"/").concat(dc)}var kc="webStorageSupport",bc=function(){function e(){c(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pu,this._completeRedirectFn=Us,this._overrideRedirectResult=Cs}return h(e,[{key:"_openPopup",value:function(){var e=Pt(Dt().mark((function e(t,n,r,i){var a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Pr(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),e.next=3,mc(t,n,r,Mr(),i);case 3:return o=e.sent,e.abrupt("return",hc(t,o,yu()));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Pt(Dt().mark((function e(t,n,r,i){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return e.next=4,mc(t,n,r,Mr(),i);case 4:return bu(e.sent),e.abrupt("return",new Promise((function(){})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Pr(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sc(t);case 2:return n=e.sent,r=new qs(t),n.register("authEvent",(function(e){return Dr(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(kc,{type:kc},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[kc];void 0!==i&&t(!!i),Tr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Qs.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ji()||Oi()||Fi()}}]),e}(),wc=bc,_c=function(){function e(t){c(this,e),this.factorId=t}return h(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Rr("unexpected MultiFactorSessionType")}}}]),e}(),xc=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this,"phone")).credential=e,r}return h(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Wr(e,"POST","/v2/accounts/mfaEnrollment:finalize",qr(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Wr(e,"POST","/v2/accounts/mfaSignIn:finalize",qr(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(_c),Sc=function(){function e(){c(this,e)}return h(e,null,[{key:"assertion",value:function(e){return xc._fromCredential(e)}}]),e}();Sc.FACTOR_ID="phone";var Ec=function(){function e(){c(this,e)}return h(e,null,[{key:"assertionForEnrollment",value:function(e,t){return Ic._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return Ic._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dr("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,iu(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",Tc._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();Ec.FACTOR_ID="totp";var Ic=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return h(n,[{key:"_finalizeEnroll",value:function(){var e=Pt(Dt().mark((function e(t,n,r){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dr("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",au(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Pt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dr(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",Vu(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(_c),Tc=function(){function e(t,n,r,i,a,o,u){c(this,e),this.sessionInfo=o,this.auth=u,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return h(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(Cc(e)||Cc(t))&&(r=!0),r&&(Cc(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),Cc(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function Cc(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var Ac="@firebase/auth",Nc="0.23.2",Oc=function(){function e(t){c(this,e),this.auth=t,this.internalListeners=new Map}return h(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Dr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var Dc;!function(e){var t;null===(t=ct())||void 0===t||t["_".concat(e)]}("authIdTokenMaxAge");function Rc(){return window}Dc="Browser",Sn(new Mt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),o=r.options,u=o.apiKey,s=o.authDomain;Dr(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});var c={apiKey:u,authDomain:s,clientPlatform:Dc,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ui(Dc)},l=new Ji(r,i,a,c);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Si);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Sn(new Mt("auth-internal",(function(e){return function(e){return new Oc(e)}(ea(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(Ac,Nc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Dc)),Fn(Ac,Nc,"esm2017");var Pc=2e3;function Mc(e,t,n){return Lc.apply(this,arguments)}function Lc(){return Lc=Pt(Dt().mark((function e(t,n,r){var i,a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Rc(),o=a.BuildInfo,Pr(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,zc(n.sessionId);case 4:return u=e.sent,s={},Fi()?s.ibi=o.packageName:Pi()?s.apn=o.packageName:Tr(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",mc(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Lc.apply(this,arguments)}function Fc(){return Fc=Pt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Rc(),r=n.BuildInfo,i={},Fi()?i.iosBundleId=r.packageName:Pi()?i.androidPackageName=r.packageName:Tr(t,"operation-not-supported-in-this-environment"),e.next=5,Hs(t,i);case 5:case"end":return e.stop()}}),e)}))),Fc.apply(this,arguments)}function jc(e){var t=Rc().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Uc(e,t,n){return Vc.apply(this,arguments)}function Vc(){return Vc=Pt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rc(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Cr(t,"redirect-cancelled-by-user"))}),Pc))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Pi()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Vc.apply(this,arguments)}function Bc(e){var t,n,r,i,a,o,u,s,c,l,f=Rc();Dr("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Dr("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Dr("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Dr("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Dr("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function zc(e){return qc.apply(this,arguments)}function qc(){return(qc=Pt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wc(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wc(e){if(Pr(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Gc=20,Hc=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return h(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),lr(v(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(qs);function Kc(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Xc(),postBody:null,tenantId:e.tenantId,error:Cr(e,"no-auth-event")}}function Yc(e,t){return Jc()._set(el(e),t)}function Zc(e){return Qc.apply(this,arguments)}function Qc(){return Qc=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jc()._get(el(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Jc()._remove(el(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Qc.apply(this,arguments)}function $c(e,t){var n,r,i=function(e){var t=tl(e),n=t.link?decodeURIComponent(t.link):void 0,r=tl(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return tl(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=tl(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Cr(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Xc(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<Gc;n++){var r=Math.floor(62*Math.random());e.push(t.charAt(r))}return e.join("")}function Jc(){return Si(hu)}function el(e){return Ti("authEvent",e.config.apiKey,e.name)}function tl(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t=T(e.split("?"));t[0];return It(t.slice(1).join("?"))}var nl=function(){function e(){c(this,e),this._redirectPersistence=pu,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Us,this._overrideRedirectResult=Cs}return h(e,[{key:"_initialize",value:function(){var e=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Hc(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Tr(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Pt(Dt().mark((function e(t,n,r,i){var a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Bc(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),_s.clear(),e.next=10,this._originValidation(t);case 10:return o=Kc(t,r,i),e.next=13,Yc(t,o);case 13:return e.next=15,Mc(t,o,n);case 15:return u=e.sent,e.next=18,jc(u);case 18:return s=e.sent,e.abrupt("return",Uc(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Fc.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Rc(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Pt(Dt().mark((function n(){return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Zc(e);case 2:t.onEvent(il());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Pt(Dt().mark((function n(r){var i,a;return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Zc(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=$c(i,r.url)),t.onEvent(a||il());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Rc().handleOpenURL=function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),rl=nl;function il(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Cr("no-auth-event")}}var al=1e3;function ol(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function ul(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return!("file:"!==ol()&&"ionic:"!==ol()&&"capacitor:"!==ol()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function sl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return mt()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht();return/Edge\/\d+/.test(e)}(e)}function cl(){try{var e=self.localStorage,t=yu();if(e)return e.setItem(t,"1"),e.removeItem(t),!sl()||yt()}catch(n){return ll()&&yt()}return!1}function ll(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function fl(){return("http:"===ol()||"https:"===ol()||pt()||ul())&&!(vt()||dt())&&cl()&&!ll()}function hl(){return ul()&&"undefined"!==typeof document}function dl(){return pl.apply(this,arguments)}function pl(){return(pl=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(hl()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),al);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var vl={LOCAL:"local",NONE:"none",SESSION:"session"},ml=Dr,yl="persistence";function gl(e,t){ml(Object.values(vl).includes(t),e,"invalid-persistence-type"),vt()?ml(t!==vl.SESSION,e,"unsupported-persistence-type"):dt()?ml(t===vl.NONE,e,"unsupported-persistence-type"):ll()?ml(t===vl.NONE||t===vl.LOCAL&&yt(),e,"unsupported-persistence-type"):ml(t===vl.NONE||cl(),e,"unsupported-persistence-type")}function kl(e){return bl.apply(this,arguments)}function bl(){return bl=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=wl(),r=Ti(yl,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function wl(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var _l=Dr,xl=function(){function e(){c(this,e),this.browserResolver=Si(wc),this.cordovaResolver=Si(rl),this.underlyingResolver=null,this._redirectPersistence=pu,this._completeRedirectFn=Us,this._overrideRedirectResult=Cs}return h(e,[{key:"_initialize",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Pt(Dt().mark((function e(t,n,r,i){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Pt(Dt().mark((function e(t,n,r,i){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return hl()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return _l(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,dl();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Sl(e){return e.unwrap()}function El(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code))t.resolver=new Nl(e,function(e,t){var n,r=Ot(e),i=t;return Dr(t.customData.operationType,r,"argument-error"),Dr(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),nu._fromError(r,i)}(e,t));else if(r){var i=Il(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function Il(e){var t=(e instanceof gt?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof gt)&&"temporaryProof"in t&&"phoneNumber"in t)return os.credentialFromResult(e);var n,r=t.providerId;if(!r||r===dr.PASSWORD)return null;switch(r){case dr.GOOGLE:n=Ga;break;case dr.FACEBOOK:n=Wa;break;case dr.GITHUB:n=Ha;break;case dr.TWITTER:n=Za;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Ka._create(r,u):Oa._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new qa(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof gt?n.credentialFromError(e):n.credentialFromResult(e)}function Tl(e,t){return t.catch((function(t){throw t instanceof gt&&El(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,Il(t)),additionalUserInfo:eu(e),user:Ol.getOrCreate(r)}}))}function Cl(e,t){return Al.apply(this,arguments)}function Al(){return Al=Pt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return Tl(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}var Nl=function(){function e(t,n){c(this,e),this.resolver=n,this.auth=t.wrapped()}return h(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return Tl(Sl(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Ol=function(){function e(t){c(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ot(e);return su.has(t)||su.set(t,uu._fromUser(t)),su.get(t)}(t)}return h(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tl(this.auth,yo(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cl(this.auth,es(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tl(this.auth,gs(this._delegate,t,xl)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kl(ea(this.auth));case 2:return e.abrupt("return",Ms(this._delegate,t,xl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tl(this.auth,ko(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return Cl(this.auth,function(e,t,n){return ns.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return Tl(this.auth,function(e,t,n){return ys.apply(this,arguments)}(this._delegate,e,xl))}},{key:"reauthenticateWithRedirect",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kl(ea(this.auth));case 2:return e.abrupt("return",Rs(this._delegate,t,xl));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Bo.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,io(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return Ho(Ot(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return Ho(Ot(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return as.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Go.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return zo.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Ol.USER_MAP=new WeakMap;var Dl=Dr,Rl=function(){function e(t,n){if(c(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Dl(r,"invalid-api-key",{appName:t.name}),Dl(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?xl:void 0;this._delegate=n.initialize({options:{persistence:Ml(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(wr),this.linkUnderlyingAuth()}return h(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Ol.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){na(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return No.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Oo(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Ao.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Tl(this._delegate,Po(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return Vo.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Ua.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl(fl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Fs(this._delegate,xl);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",Tl(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){ea(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Pl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Pl(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Lo.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Co.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gl(this._delegate,t),e.t0=t,e.next=e.t0===vl.SESSION?4:e.t0===vl.LOCAL?6:e.t0===vl.NONE?11:13;break;case 4:return n=pu,e.abrupt("break",14);case 6:return e.next=8,Si(ju)._isAvailable();case 8:return r=e.sent,n=r?ju:hu,e.abrupt("break",14);case 11:return n=Ii,e.abrupt("break",14);case 13:return e.abrupt("return",Tr("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return Tl(this._delegate,function(e){return eo.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return Tl(this._delegate,vo(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return Tl(this._delegate,function(e,t){return xo.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return Tl(this._delegate,function(e,t,n){return vo(Ot(e),Va.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return Tl(this._delegate,function(e,t,n){return Fo.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return Cl(this._delegate,function(e,t,n){return Ju.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl(fl(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",Tl(this._delegate,vs(this._delegate,t,xl)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dl(fl(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,kl(this._delegate);case 3:return e.abrupt("return",Os(this._delegate,t,xl));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ro.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Pl(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Ol.getOrCreate(e))},error:t,complete:n}}function Ml(e,t){var n=function(e,t){var n=wl();if(!n)return[];var r=Ti(yl,e,t);switch(n.getItem(r)){case vl.NONE:return[Ii];case vl.LOCAL:return[ju,pu];case vl.SESSION:return[pu];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(ju)||n.push(ju),"undefined"!==typeof window)for(var r=0,i=[hu,pu];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Ii)||n.push(Ii),n}Rl.Persistence=vl;var Ll=function(){function e(){c(this,e),this.providerId="phone",this._delegate=new os(Sl(cr.auth()))}return h(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return os.credential(e,t)}}]),e}();Ll.PHONE_SIGN_IN_METHOD=os.PHONE_SIGN_IN_METHOD,Ll.PROVIDER_ID=os.PROVIDER_ID;var Fl=Dr,jl=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:cr.app();c(this,e),Fl(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Qu(t,n,i.auth()),this.type=this._delegate.type}return h(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Mt("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Rl(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:pr,PASSWORD_RESET:vr,RECOVER_EMAIL:mr,REVERT_SECOND_FACTOR_ADDITION:yr,VERIFY_AND_CHANGE_EMAIL:gr,VERIFY_EMAIL:kr}},EmailAuthProvider:Va,FacebookAuthProvider:Wa,GithubAuthProvider:Ha,GoogleAuthProvider:Ga,OAuthProvider:qa,SAMLAuthProvider:Ya,PhoneAuthProvider:Ll,PhoneMultiFactorGenerator:Sc,RecaptchaVerifier:jl,TwitterAuthProvider:Za,Auth:Rl,AuthCredential:aa,Error:gt}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.4.2")}(cr);var Ul,Vl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Bl={},zl=zl||{},ql=Vl||self;function Wl(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Gl(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Hl="closure_uid_"+(1e9*Math.random()>>>0),Kl=0;function Yl(e,t,n){return e.call.apply(e.bind,arguments)}function Zl(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ql(e,t,n){return(Ql=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Yl:Zl).apply(null,arguments)}function $l(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Xl(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Jl(){this.s=this.s,this.o=this.o}Jl.prototype.s=!1,Jl.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Hl)&&e[Hl]||(e[Hl]=++Kl))},Jl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var ef=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function tf(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function nf(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Wl(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function rf(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}rf.prototype.h=function(){this.defaultPrevented=!0};var af=function(){if(!ql.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ql.addEventListener("test",(function(){}),t),ql.removeEventListener("test",(function(){}),t)}catch(n){}return e}();function of(e){return/^[\s\xa0]*$/.test(e)}function uf(){var e=ql.navigator;return e&&(e=e.userAgent)?e:""}function sf(e){return-1!=uf().indexOf(e)}function cf(e){return cf[" "](e),e}cf[" "]=function(){};var lf,ff,hf=sf("Opera"),df=sf("Trident")||sf("MSIE"),pf=sf("Edge"),vf=pf||df,mf=sf("Gecko")&&!(-1!=uf().toLowerCase().indexOf("webkit")&&!sf("Edge"))&&!(sf("Trident")||sf("MSIE"))&&!sf("Edge"),yf=-1!=uf().toLowerCase().indexOf("webkit")&&!sf("Edge");function gf(){var e=ql.document;return e?e.documentMode:void 0}e:{var kf="",bf=function(){var e=uf();return mf?/rv:([^\);]+)(\)|;)/.exec(e):pf?/Edge\/([\d\.]+)/.exec(e):df?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):yf?/WebKit\/(\S+)/.exec(e):hf?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(bf&&(kf=bf?bf[1]:""),df){var wf=gf();if(null!=wf&&wf>parseFloat(kf)){lf=String(wf);break e}}lf=kf}if(ql.document&&df){var _f=gf();ff=_f||(parseInt(lf,10)||void 0)}else ff=void 0;var xf=ff;function Sf(e,t){if(rf.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(mf){e:{try{cf(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ef[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Sf.$.h.call(this)}}Xl(Sf,rf);var Ef={2:"touch",3:"pen",4:"mouse"};Sf.prototype.h=function(){Sf.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var If="closure_listenable_"+(1e6*Math.random()|0),Tf=0;function Cf(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Tf,this.fa=this.ia=!1}function Af(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Nf(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Of(e){var t={};for(var n in e)t[n]=e[n];return t}var Df="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rf(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Df.length;a++)n=Df[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Pf(e){this.src=e,this.g={},this.h=0}function Mf(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=ef(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Af(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Lf(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}Pf.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Lf(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Cf(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var Ff="closure_lm_"+(1e6*Math.random()|0),jf={};function Uf(e,t,n,r,i){if(r&&r.once)return Bf(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Uf(e,t[a],n,r,i);return null}return n=Yf(n),e&&e[If]?e.O(t,n,Gl(r)?!!r.capture:!!r,i):Vf(e,t,n,!1,r,i)}function Vf(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Gl(i)?!!i.capture:!!i,u=Hf(e);if(u||(e[Ff]=u=new Pf(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Gf;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)af||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Wf(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Bf(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Bf(e,t[a],n,r,i);return null}return n=Yf(n),e&&e[If]?e.P(t,n,Gl(r)?!!r.capture:!!r,i):Vf(e,t,n,!0,r,i)}function zf(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)zf(e,t[a],n,r,i);else r=Gl(r)?!!r.capture:!!r,n=Yf(n),e&&e[If]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Lf(a=e.g[t],n,r,i))&&(Af(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Hf(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Lf(t,n,r,i)),(n=-1<e?t[e]:null)&&qf(n))}function qf(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[If])Mf(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Wf(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Hf(t))?(Mf(n,e),0==n.h&&(n.src=null,t[Ff]=null)):Af(e)}}}function Wf(e){return e in jf?jf[e]:jf[e]="on"+e}function Gf(e,t){if(e.fa)e=!0;else{t=new Sf(t,this);var n=e.listener,r=e.la||e.src;e.ia&&qf(e),e=n.call(r,t)}return e}function Hf(e){return(e=e[Ff])instanceof Pf?e:null}var Kf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yf(e){return"function"===typeof e?e:(e[Kf]||(e[Kf]=function(t){return e.handleEvent(t)}),e[Kf])}function Zf(){Jl.call(this),this.i=new Pf(this),this.S=this,this.J=null}function Qf(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new rf(t,e);else if(t instanceof rf)t.target=t.target||e;else{var i=t;Rf(t=new rf(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=$f(o,r,!0,t)&&i}if(i=$f(o=t.g=e,r,!0,t)&&i,i=$f(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=$f(o=t.g=n[a],r,!1,t)&&i}function $f(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var u=o.listener,s=o.la||o.src;o.ia&&Mf(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Xl(Zf,Jl),Zf.prototype[If]=!0,Zf.prototype.removeEventListener=function(e,t,n,r){zf(this,e,t,n,r)},Zf.prototype.N=function(){if(Zf.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Af(n[r]);delete t.g[e],t.h--}}this.J=null},Zf.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Zf.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xf=ql.JSON.stringify,Jf=function(){function e(t,n){c(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return h(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}();function eh(){var e=sh,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var th=function(){function e(){c(this,e),this.h=this.g=null}return h(e,[{key:"add",value:function(e,t){var n=nh.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),nh=new Jf((function(){return new rh}),(function(e){return e.reset()})),rh=function(){function e(){c(this,e),this.next=this.g=this.h=null}return h(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ih(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ah(e){ql.setTimeout((function(){throw e}),0)}var oh,uh=!1,sh=new th,ch=function(){var e=ql.Promise.resolve(void 0);oh=function(){e.then(lh)}},lh=function(){for(var e;e=eh();){try{e.h.call(e.g)}catch(n){ah(n)}var t=nh;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}uh=!1};function fh(e,t){Zf.call(this),this.h=e||1,this.g=t||ql,this.j=Ql(this.qb,this),this.l=Date.now()}function hh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function dh(e,t,n){if("function"===typeof e)n&&(e=Ql(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ql(e.handleEvent,e)}return 2147483647<Number(t)?-1:ql.setTimeout(e,t||0)}function ph(e){e.g=dh((function(){e.g=null,e.i&&(e.i=!1,ph(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Xl(fh,Zf),(Ul=fh.prototype).ga=!1,Ul.T=null,Ul.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qf(this,"tick"),this.ga&&(hh(this),this.start()))}},Ul.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ul.N=function(){fh.$.N.call(this),hh(this),delete this.g};var vh=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return h(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ph(this)}},{key:"N",value:function(){lr(v(n.prototype),"N",this).call(this),this.g&&(ql.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Jl);function mh(e){Jl.call(this),this.h=e,this.g={}}Xl(mh,Jl);var yh=[];function gh(e,t,n,r){Array.isArray(n)||(n&&(yh[0]=n.toString()),n=yh);for(var i=0;i<n.length;i++){var a=Uf(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function kh(e){Nf(e.g,(function(e,t){this.g.hasOwnProperty(t)&&qf(e)}),e),e.g={}}function bh(){this.g=!0}function wh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Xf(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}mh.prototype.N=function(){mh.$.N.call(this),kh(this)},mh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bh.prototype.Ea=function(){this.g=!1},bh.prototype.info=function(){};var _h={},xh=null;function Sh(){return xh=xh||new Zf}function Eh(e){rf.call(this,_h.Ta,e)}function Ih(e){var t=Sh();Qf(t,new Eh(t))}function Th(e,t){rf.call(this,_h.STAT_EVENT,e),this.stat=t}function Ch(e){var t=Sh();Qf(t,new Th(t,e))}function Ah(e,t){rf.call(this,_h.Ua,e),this.size=t}function Nh(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return ql.setTimeout((function(){e()}),t)}_h.Ta="serverreachability",Xl(Eh,rf),_h.STAT_EVENT="statevent",Xl(Th,rf),_h.Ua="timingevent",Xl(Ah,rf);var Oh={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Dh={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Rh(){}function Ph(e){return e.h||(e.h=e.i())}function Mh(){}Rh.prototype.h=null;var Lh,Fh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function jh(){rf.call(this,"d")}function Uh(){rf.call(this,"c")}function Vh(){}function Bh(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new mh(this),this.P=qh,e=vf?125:void 0,this.V=new fh(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new zh}function zh(){this.i=null,this.g="",this.h=!1}Xl(jh,rf),Xl(Uh,rf),Xl(Vh,Rh),Vh.prototype.g=function(){return new XMLHttpRequest},Vh.prototype.i=function(){return{}},Lh=new Vh;var qh=45e3,Wh={},Gh={};function Hh(e,t,n){e.L=1,e.v=fd(od(t)),e.s=n,e.S=!0,Kh(e,null)}function Kh(e,t){e.G=Date.now(),$h(e),e.A=od(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Sd(n.i,"t",r),e.C=0,n=e.l.J,e.h=new zh,e.g=Ep(e.l,n?t:null,!e.s),0<e.O&&(e.M=new vh(Ql(e.Pa,e,e.g),e.O)),gh(e.U,e.g,"readystatechange",e.nb),t=e.I?Of(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ih(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.W,e.s)}function Yh(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function Zh(e,t,n){for(var r,i=!0;!e.J&&e.C<n.length;){if((r=Qh(e,n))==Gh){4==t&&(e.o=4,Ch(14),i=!1),wh(e.j,e.m,null,"[Incomplete Response]");break}if(r==Wh){e.o=4,Ch(15),wh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}wh(e.j,e.m,r,null),nd(e,r)}Yh(e)&&r!=Gh&&r!=Wh&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ch(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),yp(t),t.M=!0,Ch(11))):(wh(e.j,e.m,n,"[Invalid Chunked Response]"),td(e),ed(e))}function Qh(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Gh:(n=Number(t.substring(n,r)),isNaN(n)?Wh:(r+=1)+n>t.length?Gh:(t=t.slice(r,r+n),e.C=r+n,t))}function $h(e){e.Y=Date.now()+e.P,Xh(e,e.P)}function Xh(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Nh(Ql(e.lb,e),t)}function Jh(e){e.B&&(ql.clearTimeout(e.B),e.B=null)}function ed(e){0==e.l.H||e.J||bp(e.l,e)}function td(e){Jh(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,hh(e.V),kh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function nd(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Od(n.i,e)))if(!e.K&&Od(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;kp(n),cp(n)}mp(n),Ch(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Nh(Ql(n.ib,n),6e3));if(1>=Nd(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else _p(n,11)}else if((e.K||n.g==e)&&kp(n),!of(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var u=a[4];null!=u&&(n.Ga=u,n.l.info("SVER="+n.Ga));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Dd(f,f.h),f.h=null))}if(r.F){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,ld(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=Sp(r,r.J?r.pa:null,r.Y),d.K){Rd(r.i,d);var p=d,v=r.L;v&&p.setTimeout(v),p.B&&(Jh(p),$h(p)),r.g=d}else vp(r);0<n.j.length&&fp(n)}else"stop"!=a[0]&&"close"!=a[0]||_p(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?_p(n,7):sp(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}Ih()}catch(a){}}function rd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Wl(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Wl(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Wl(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ul=Bh.prototype).setTimeout=function(e){this.P=e},Ul.nb=function(e){e=e.target;var t=this.M;t&&3==np(e)?t.l():this.Pa(e)},Ul.Pa=function(e){try{if(e==this.g)e:{var t=np(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||vf||this.g&&(this.h.h||this.g.ja()||rp(this.g)))){this.J||4!=t||7==n||Ih(),Jh(this);var r=this.g.da();this.ca=r;t:if(Yh(this)){var i=rp(this.g);e="";var a=i.length,o=4==np(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){td(this),ed(this);var u="";break t}this.h.i=new ql.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!of(s)){var l=s;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ch(12),td(this),ed(this);break e}wh(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,nd(this,r)}this.S?(Zh(this,t,u),vf&&this.i&&3==t&&(gh(this.U,this.V,"tick",this.mb),this.V.start())):(wh(this.j,this.m,u,null),nd(this,u)),4==t&&td(this),this.i&&!this.J&&(4==t?bp(this.l,this):(this.i=!1,$h(this)))}else(function(e){var t={};e=(e.g&&2<=np(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!of(e[n])){var r=ih(e[n]),i=r[0];if("string"===typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<u.indexOf("Unknown SID")?(this.o=3,Ch(12)):(this.o=0,Ch(13)),td(this),ed(this)}}}catch(t){}},Ul.mb=function(){if(this.g){var e=np(this.g),t=this.g.ja();this.C<t.length&&(Jh(this),Zh(this,e,t),this.i&&4!=e&&$h(this))}},Ul.cancel=function(){this.J=!0,td(this)},Ul.lb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.L&&(Ih(),Ch(17)),td(this),this.o=2,ed(this)):Xh(this,this.Y-e)};var id=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ad(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof ad){this.h=e.h,ud(this,e.j),this.s=e.s,this.g=e.g,sd(this,e.m),this.l=e.l;var t=e.i,n=new bd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),cd(this,n),this.o=e.o}else e&&(t=String(e).match(id))?(this.h=!1,ud(this,t[1]||"",!0),this.s=hd(t[2]||""),this.g=hd(t[3]||"",!0),sd(this,t[4]),this.l=hd(t[5]||"",!0),cd(this,t[6]||"",!0),this.o=hd(t[7]||"")):(this.h=!1,this.i=new bd(null,this.h))}function od(e){return new ad(e)}function ud(e,t,n){e.j=n?hd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function sd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cd(e,t,n){t instanceof bd?(e.i=t,function(e,t){t&&!e.j&&(wd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_d(this,t),Sd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=dd(t,gd)),e.i=new bd(t,e.h))}function ld(e,t,n){e.i.set(t,n)}function fd(e){return ld(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function hd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function dd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ad.prototype.toString=function(){var e=[],t=this.j;t&&e.push(dd(t,vd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(dd(t,vd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(dd(n,"/"==n.charAt(0)?yd:md,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",dd(n,kd)),e.join("")};var vd=/[#\/\?@]/g,md=/[#\?:]/g,yd=/[#\?]/g,gd=/[#\?@]/g,kd=/#/g;function bd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _d(e,t){wd(e),t=Ed(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xd(e,t){return wd(e),t=Ed(e,t),e.g.has(t)}function Sd(e,t,n){_d(e,t),0<n.length&&(e.i=null,e.g.set(Ed(e,t),tf(n)),e.h+=n.length)}function Ed(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ul=bd.prototype).add=function(e,t){wd(this),this.i=null,e=Ed(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ul.forEach=function(e,t){wd(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ul.ta=function(){wd(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ul.Z=function(e){wd(this);var t=[];if("string"===typeof e)xd(this,e)&&(t=t.concat(this.g.get(Ed(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ul.set=function(e,t){return wd(this),this.i=null,xd(this,e=Ed(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ul.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Ul.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Id=h((function e(t,n){c(this,e),this.g=t,this.map=n}));function Td(e){this.l=e||Cd,ql.PerformanceNavigationTiming?e=0<(e=ql.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(ql.g&&ql.g.Ka&&ql.g.Ka()&&ql.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cd=10;function Ad(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Nd(e){return e.h?1:e.g?e.g.size:0}function Od(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Dd(e,t){e.g?e.g.add(t):e.h=t}function Rd(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Pd(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=C(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return tf(e.i)}Td.prototype.cancel=function(){if(this.i=Pd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=C(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var Md,Ld=function(){function e(){c(this,e)}return h(e,[{key:"stringify",value:function(e){return ql.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return ql.JSON.parse(e,void 0)}}]),e}();function Fd(){this.g=new Ld}function jd(e,t,n){var r=n||"";try{rd(e,(function(e,n){var i=e;Gl(e)&&(i=Xf(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ud(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Vd(e){this.l=e.fc||null,this.j=e.ob||!1}function Bd(e,t){Zf.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=zd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xl(Vd,Rh),Vd.prototype.g=function(){return new Bd(this.l,this.j)},Vd.prototype.i=(Md={},function(){return Md}),Xl(Bd,Zf);var zd=0;function qd(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Wd(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Gd(e)}function Gd(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ul=Bd.prototype).open=function(e,t){if(this.readyState!=zd)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Gd(this)},Ul.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||ql).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Ul.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Wd(this)),this.readyState=zd},Ul.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Gd(this)),this.g&&(this.readyState=3,Gd(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof ql.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qd(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Ul.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Wd(this):Gd(this),3==this.readyState&&qd(this)}},Ul.Za=function(e){this.g&&(this.response=this.responseText=e,Wd(this))},Ul.Ya=function(e){this.g&&(this.response=e,Wd(this))},Ul.ka=function(){this.g&&Wd(this)},Ul.setRequestHeader=function(e,t){this.v.append(e,t)},Ul.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ul.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Bd.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Hd=ql.JSON.parse;function Kd(e){Zf.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Yd,this.L=this.M=!1}Xl(Kd,Zf);var Yd="",Zd=/^https?$/i,Qd=["POST","PUT"];function $d(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Xd(e),ep(e)}function Xd(e){e.F||(e.F=!0,Qf(e,"complete"),Qf(e,"error"))}function Jd(e){if(e.h&&"undefined"!=typeof zl&&(!e.C[1]||4!=np(e)||2!=e.da()))if(e.v&&4==np(e))dh(e.La,0,e);else if(Qf(e,"readystatechange"),4==np(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(id)[1]||null;!a&&ql.self&&ql.self.location&&(a=ql.self.location.protocol.slice(0,-1)),i=!Zd.test(a?a.toLowerCase():"")}t=i}if(t)Qf(e,"complete"),Qf(e,"success");else{e.m=6;try{var o=2<np(e)?e.g.statusText:""}catch(u){o=""}e.j=o+" ["+e.da()+"]",Xd(e)}}finally{ep(e)}}}function ep(e,t){if(e.g){tp(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Qf(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function tp(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(ql.clearTimeout(e.A),e.A=null)}function np(e){return e.g?e.g.readyState:0}function rp(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Yd:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(sv){return null}}function ip(e){var t="";return Nf(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function ap(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ip(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ld(e,t,n))}function op(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function up(e){this.Ga=0,this.j=[],this.l=new bh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=op("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=op("baseRetryDelayMs",5e3,e),this.hb=op("retryDelaySeedMs",1e4,e),this.eb=op("forwardChannelMaxRetries",2,e),this.xa=op("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Td(e&&e.concurrentRequestLimit),this.Ja=new Fd,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function sp(e){if(lp(e),3==e.H){var t=e.W++,n=od(e.I);if(ld(n,"SID",e.K),ld(n,"RID",t),ld(n,"TYPE","terminate"),dp(e,n),(t=new Bh(e,e.l,t)).L=2,t.v=fd(od(n)),n=!1,ql.navigator&&ql.navigator.sendBeacon)try{n=ql.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&ql.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ep(t.l,null),t.g.ha(t.v)),t.G=Date.now(),$h(t)}xp(e)}function cp(e){e.g&&(yp(e),e.g.cancel(),e.g=null)}function lp(e){cp(e),e.u&&(ql.clearTimeout(e.u),e.u=null),kp(e),e.i.cancel(),e.m&&("number"===typeof e.m&&ql.clearTimeout(e.m),e.m=null)}function fp(e){if(!Ad(e.i)&&!e.m){e.m=!0;var t=e.Na;oh||ch(),uh||(oh(),uh=!0),sh.add(t,e),e.C=0}}function hp(e,t){var n;n=t?t.m:e.W++;var r=od(e.I);ld(r,"SID",e.K),ld(r,"RID",n),ld(r,"AID",e.V),dp(e,r),e.o&&e.s&&ap(r,e.o,e.s),n=new Bh(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=pp(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Dd(e.i,n),Hh(n,r,t)}function dp(e,t){e.na&&Nf(e.na,(function(e,n){ld(t,n,e)})),e.h&&rd({},(function(e,n){ld(t,n,e)}))}function pp(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ql(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].g,l=i[s].map;if(0>(c-=a))a=Math.max(0,i[s].g-100),u=!1;else try{jd(l,o,"req"+c+"_")}catch(kv){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function vp(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;oh||ch(),uh||(oh(),uh=!0),sh.add(t,e),e.A=0}}function mp(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Nh(Ql(e.Ma,e),wp(e,e.A)),e.A++,!0)}function yp(e){null!=e.B&&(ql.clearTimeout(e.B),e.B=null)}function gp(e){e.g=new Bh(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=od(e.wa);ld(t,"RID","rpc"),ld(t,"SID",e.K),ld(t,"AID",e.V),ld(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ld(t,"TO",e.qa),ld(t,"TYPE","xmlhttp"),dp(e,t),e.o&&e.s&&ap(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=fd(od(t)),n.s=null,n.S=!0,Kh(n,e)}function kp(e){null!=e.v&&(ql.clearTimeout(e.v),e.v=null)}function bp(e,t){var n=null;if(e.g==t){kp(e),yp(e),e.g=null;var r=2}else{if(!Od(e.i,t))return;n=t.F,Rd(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Qf(r=Sh(),new Ah(r,n)),fp(e)}else vp(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Nd(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Nh(Ql(e.Na,e,t),wp(e,e.C)),e.C++,!0))}(e,t)||2==r&&mp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:_p(e,5);break;case 4:_p(e,10);break;case 3:_p(e,6);break;default:_p(e,2)}}function wp(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function _p(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ql(e.pb,e);n||(n=new ad("//www.google.com/images/cleardot.gif"),ql.location&&"http"==ql.location.protocol||ud(n,"https"),fd(n)),function(e,t){var n=new bh;if(ql.Image){var r=new Image;r.onload=$l(Ud,n,r,"TestLoadImage: loaded",!0,t),r.onerror=$l(Ud,n,r,"TestLoadImage: error",!1,t),r.onabort=$l(Ud,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=$l(Ud,n,r,"TestLoadImage: timeout",!1,t),ql.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ch(2);e.H=0,e.h&&e.h.za(t),xp(e),lp(e)}function xp(e){if(e.H=0,e.ma=[],e.h){var t=Pd(e.i);0==t.length&&0==e.j.length||(nf(e.ma,t),nf(e.ma,e.j),e.i.i.length=0,tf(e.j),e.j.length=0),e.h.ya()}}function Sp(e,t,n){var r=n instanceof ad?od(n):new ad(n);if(""!=r.g)t&&(r.g=t+"."+r.g),sd(r,r.m);else{var i=ql.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new ad(null);r&&ud(a,r),t&&(a.g=t),i&&sd(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&ld(r,n,t),ld(r,"VER",e.ra),dp(e,r),r}function Ep(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new Kd(new Vd({ob:!0})):new Kd(e.va)).Oa(e.J),t}function Ip(){}function Tp(){if(df&&!(10<=Number(xf)))throw Error("Environmental error: no available transport.")}function Cp(e,t){Zf.call(this),this.g=new up(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!of(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!of(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Op(this)}function Ap(e){jh.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Np(){Uh.call(this),this.status=1}function Op(e){this.g=e}function Dp(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Rp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function Pp(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Ul=Kd.prototype).Oa=function(e){this.M=e},Ul.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Lh.g(),this.C=this.u?Ph(this.u):Ph(Lh),this.g.onreadystatechange=Ql(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void $d(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var o,u=C(r.keys());try{for(u.s();!(o=u.n()).done;){var s=o.value;n.set(s,r.get(s))}}catch(p){u.e(p)}finally{u.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=ql.FormData&&e instanceof ql.FormData,!(0<=ef(Qd,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var c,l=C(n);try{for(l.s();!(c=l.n()).done;){var f=(0,a.Z)(c.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){l.e(p)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tp(this),0<this.B&&((this.L=function(e){return df&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ql(this.ua,this)):this.A=dh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){$d(this,s)}},Ul.ua=function(){"undefined"!=typeof zl&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qf(this,"timeout"),this.abort(8))},Ul.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Qf(this,"complete"),Qf(this,"abort"),ep(this))},Ul.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ep(this,!0)),Kd.$.N.call(this)},Ul.La=function(){this.s||(this.G||this.v||this.l?Jd(this):this.kb())},Ul.kb=function(){Jd(this)},Ul.isActive=function(){return!!this.g},Ul.da=function(){try{return 2<np(this)?this.g.status:-1}catch(Md){return-1}},Ul.ja=function(){try{return this.g?this.g.responseText:""}catch(Md){return""}},Ul.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Hd(t)}},Ul.Ia=function(){return this.m},Ul.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ul=up.prototype).ra=8,Ul.H=1,Ul.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Bh(this,this.l,e),n=this.s;if(this.U&&(n?Rf(n=Of(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"===typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=pp(this,t,r),ld(i=od(this.I),"RID",e),ld(i,"CVER",22),this.F&&ld(i,"X-HTTP-Session-Id",this.F),dp(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(ip(n)))+"&"+r:this.o&&ap(i,this.o,n)),Dd(this.i,t),this.bb&&ld(i,"TYPE","init"),this.P?(ld(i,"$req",r),ld(i,"SID","null"),t.aa=!0,Hh(t,i,null)):Hh(t,i,r),this.H=2}}else 3==this.H&&(e?hp(this,e):0==this.j.length||Ad(this.i)||hp(this))},Ul.Ma=function(){if(this.u=null,gp(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Nh(Ql(this.jb,this),e)}},Ul.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ch(10),cp(this),gp(this))},Ul.ib=function(){null!=this.v&&(this.v=null,cp(this),mp(this),Ch(19))},Ul.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ch(2)):(this.l.info("Failed to ping google.com"),Ch(1))},Ul.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ul=Ip.prototype).Ba=function(){},Ul.Aa=function(){},Ul.za=function(){},Ul.ya=function(){},Ul.isActive=function(){return!0},Ul.Va=function(){},Tp.prototype.g=function(e,t){return new Cp(e,t)},Xl(Cp,Zf),Cp.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ch(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=Sp(e,null,e.Y),fp(e)},Cp.prototype.close=function(){sp(this.g)},Cp.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Xf(e),e=n);t.j.push(new Id(t.fb++,e)),3==t.H&&fp(t)},Cp.prototype.N=function(){this.g.h=null,delete this.j,sp(this.g),delete this.g,Cp.$.N.call(this)},Xl(Ap,jh),Xl(Np,Uh),Xl(Op,Ip),Op.prototype.Ba=function(){Qf(this.g,"a")},Op.prototype.Aa=function(e){Qf(this.g,new Ap(e))},Op.prototype.za=function(e){Qf(this.g,new Np)},Op.prototype.ya=function(){Qf(this.g,"b")},Xl(Dp,(function(){this.blockSize=-1})),Dp.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Dp.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)Rp(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){Rp(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){Rp(this,r),i=0;break}}this.h=i,this.i+=t},Dp.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Mp={};function Lp(e){return-128<=e&&128>e?function(e,t){var n=Mp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new Pp([0|e],0>e?-1:0)})):new Pp([0|e],0>e?-1:0)}function Fp(e){if(isNaN(e)||!isFinite(e))return Up;if(0>e)return Wp(Fp(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=jp;return new Pp(t,0)}var jp=4294967296,Up=Lp(0),Vp=Lp(1),Bp=Lp(16777216);function zp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function qp(e){return-1==e.h}function Wp(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Pp(n,~e.h).add(Vp)}function Gp(e,t){return e.add(Wp(t))}function Hp(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Kp(e,t){this.g=e,this.h=t}function Yp(e,t){if(zp(t))throw Error("division by zero");if(zp(e))return new Kp(Up,Up);if(qp(e))return t=Yp(Wp(e),t),new Kp(Wp(t.g),Wp(t.h));if(qp(t))return t=Yp(e,Wp(t)),new Kp(Wp(t.g),t.h);if(30<e.g.length){if(qp(e)||qp(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Vp,r=t;0>=r.X(e);)n=Zp(n),r=Zp(r);var i=Qp(n,1),a=Qp(r,1);for(r=Qp(r,2),n=Qp(n,2);!zp(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Qp(r,1),n=Qp(n,1)}return t=Gp(e,i.R(t)),new Kp(i,t)}for(i=Up;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=Fp(n)).R(t);qp(o)||0<o.X(e);)o=(a=Fp(n-=r)).R(t);zp(a)&&(a=Vp),i=i.add(a),e=Gp(e,o)}return new Kp(i,e)}function Zp(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Pp(n,e.h)}function Qp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new Pp(i,e.h)}(Ul=Pp.prototype).ea=function(){if(qp(this))return-Wp(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:jp+r)*t,t*=jp}return e},Ul.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(zp(this))return"0";if(qp(this))return"-"+Wp(this).toString(e);for(var t=Fp(Math.pow(e,6)),n=this,r="";;){var i=Yp(n,t).g,a=((0<(n=Gp(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(zp(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Ul.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Ul.X=function(e){return qp(e=Gp(this,e))?-1:zp(e)?0:1},Ul.abs=function(){return qp(this)?Wp(this):this},Ul.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new Pp(n,-2147483648&n[n.length-1]?-1:0)},Ul.R=function(e){if(zp(this)||zp(e))return Up;if(qp(this))return qp(e)?Wp(this).R(Wp(e)):Wp(Wp(this).R(e));if(qp(e))return Wp(this.R(Wp(e)));if(0>this.X(Bp)&&0>e.X(Bp))return Fp(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),u=e.D(i)>>>16,s=65535&e.D(i);n[2*r+2*i]+=o*s,Hp(n,2*r+2*i),n[2*r+2*i+1]+=a*s,Hp(n,2*r+2*i+1),n[2*r+2*i+1]+=o*u,Hp(n,2*r+2*i+1),n[2*r+2*i+2]+=a*u,Hp(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Pp(n,0)},Ul.gb=function(e){return Yp(this,e).h},Ul.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Pp(n,this.h&e.h)},Ul.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Pp(n,this.h|e.h)},Ul.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Pp(n,this.h^e.h)},Tp.prototype.createWebChannel=Tp.prototype.g,Cp.prototype.send=Cp.prototype.u,Cp.prototype.open=Cp.prototype.m,Cp.prototype.close=Cp.prototype.close,Oh.NO_ERROR=0,Oh.TIMEOUT=8,Oh.HTTP_ERROR=6,Dh.COMPLETE="complete",Mh.EventType=Fh,Fh.OPEN="a",Fh.CLOSE="b",Fh.ERROR="c",Fh.MESSAGE="d",Zf.prototype.listen=Zf.prototype.O,Kd.prototype.listenOnce=Kd.prototype.P,Kd.prototype.getLastError=Kd.prototype.Sa,Kd.prototype.getLastErrorCode=Kd.prototype.Ia,Kd.prototype.getStatus=Kd.prototype.da,Kd.prototype.getResponseJson=Kd.prototype.Wa,Kd.prototype.getResponseText=Kd.prototype.ja,Kd.prototype.send=Kd.prototype.ha,Kd.prototype.setWithCredentials=Kd.prototype.Oa,Dp.prototype.digest=Dp.prototype.l,Dp.prototype.reset=Dp.prototype.reset,Dp.prototype.update=Dp.prototype.j,Pp.prototype.add=Pp.prototype.add,Pp.prototype.multiply=Pp.prototype.R,Pp.prototype.modulo=Pp.prototype.gb,Pp.prototype.compare=Pp.prototype.X,Pp.prototype.toNumber=Pp.prototype.ea,Pp.prototype.toString=Pp.prototype.toString,Pp.prototype.getBits=Pp.prototype.D,Pp.fromNumber=Fp,Pp.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Wp(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Fp(Math.pow(n,8)),i=Up,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),u=parseInt(t.substring(a,a+o),n);8>o?(o=Fp(Math.pow(n,o)),i=i.R(o).add(Fp(u))):i=(i=i.R(r)).add(Fp(u))}return i};var $p=Bl.createWebChannelTransport=function(){return new Tp},Xp=Bl.getStatEventTarget=function(){return Sh()},Jp=Bl.ErrorCode=Oh,ev=Bl.EventType=Dh,tv=Bl.Event=_h,nv=Bl.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},rv=Bl.FetchXmlHttpFactory=Vd,iv=Bl.WebChannel=Mh,av=Bl.XhrIo=Kd,ov=Bl.Md5=Dp,uv=Bl.Integer=Pp,sv="@firebase/firestore",cv=function(){function e(t){c(this,e),this.uid=t}return h(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();cv.UNAUTHENTICATED=new cv(null),cv.GOOGLE_CREDENTIALS=new cv("google-credentials-uid"),cv.FIRST_PARTY=new cv("first-party-uid"),cv.MOCK_USER=new cv("mock-user");var lv="9.22.2",fv=new Ht("@firebase/firestore");function hv(){return fv.logLevel}function dv(e){if(fv.logLevel<=Ut.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(mv);fv.debug.apply(fv,["Firestore (".concat(lv,"): ").concat(e)].concat((0,s.Z)(i)))}}function pv(e){if(fv.logLevel<=Ut.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(mv);fv.error.apply(fv,["Firestore (".concat(lv,"): ").concat(e)].concat((0,s.Z)(i)))}}function vv(e){if(fv.logLevel<=Ut.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(mv);fv.warn.apply(fv,["Firestore (".concat(lv,"): ").concat(e)].concat((0,s.Z)(i)))}}function mv(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function yv(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(lv,") INTERNAL ASSERTION FAILED: ")+e;throw pv(t),new Error(t)}function gv(e,t){e||yv()}function kv(e,t){return e}var bv={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},wv=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return h(n)}(gt),_v=h((function e(){var t=this;c(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),xv=h((function e(t,n){c(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Sv=function(){function e(){c(this,e)}return h(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(cv.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Ev=function(){function e(t){c(this,e),this.token=t,this.changeListener=null}return h(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Iv=function(){function e(t){c(this,e),this.t=t,this.currentUser=cv.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new _v;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new _v,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){dv("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(dv("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new _v)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(dv("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(gv("string"==typeof n.accessToken),new xv(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return gv(null===e||"string"==typeof e),new cv(e)}}]),e}(),Tv=function(){function e(t,n,r){c(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=cv.FIRST_PARTY,this.g=new Map}return h(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),Cv=function(){function e(t,n,r){c(this,e),this.h=t,this.l=n,this.m=r}return h(e,[{key:"getToken",value:function(){return Promise.resolve(new Tv(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(cv.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Av=h((function e(t){c(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Nv=function(){function e(t){c(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return h(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&dv("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,dv("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){dv("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):dv("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(gv("string"==typeof t.token),e.T=t.token,new Av(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function Ov(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Dv=function(){function e(){c(this,e)}return h(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=Ov(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function Rv(e,t){return e<t?-1:e>t?1:0}function Pv(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Mv(e){return e+"\0"}var Lv=function(){function e(t,n){if(c(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new wv(bv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new wv(bv.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new wv(bv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new wv(bv.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return h(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Rv(this.nanoseconds,e.nanoseconds):Rv(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Fv=function(){function e(t){c(this,e),this.timestamp=t}return h(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Lv(0,0))}},{key:"max",value:function(){return new e(new Lv(253402300799,999999999))}}]),e}(),jv=function(){function e(t,n,r){c(this,e),void 0===n?n=0:n>t.length&&yv(),void 0===r?r=t.length-n:r>t.length-n&&yv(),this.segments=t,this.offset=n,this.len=r}return h(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Uv=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new wv(bv.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,s.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(jv),Vv=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Bv=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Vv.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new wv(bv.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new wv(bv.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new wv(bv.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new wv(bv.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(jv),zv=function(){function e(t){c(this,e),this.path=t}return h(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Uv.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Uv.fromString(t))}},{key:"fromName",value:function(t){return new e(Uv.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Uv.emptyPath())}},{key:"comparator",value:function(e,t){return Uv.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Uv(t.slice()))}}]),e}(),qv=h((function e(t,n,r,i){c(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Wv(e){return e.fields.find((function(e){return 2===e.kind}))}function Gv(e){return e.fields.filter((function(e){return 2!==e.kind}))}qv.UNKNOWN_ID=-1;var Hv=h((function e(t,n){c(this,e),this.fieldPath=t,this.kind=n}));var Kv=function(){function e(t,n){c(this,e),this.sequenceNumber=t,this.offset=n}return h(e,null,[{key:"empty",value:function(){return new e(0,Qv.min())}}]),e}();function Yv(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Fv.fromTimestamp(1e9===r?new Lv(n+1,0):new Lv(n,r));return new Qv(i,zv.empty(),t)}function Zv(e){return new Qv(e.readTime,e.key,-1)}var Qv=function(){function e(t,n,r){c(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return h(e,null,[{key:"min",value:function(){return new e(Fv.min(),zv.empty(),-1)}},{key:"max",value:function(){return new e(Fv.max(),zv.empty(),-1)}}]),e}();function $v(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=zv.comparator(e.documentKey,t.documentKey))?n:Rv(e.largestBatchId,t.largestBatchId)}var Xv="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Jv=function(){function e(){c(this,e),this.onCommittedListeners=[]}return h(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function em(e){return tm.apply(this,arguments)}function tm(){return(tm=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===bv.FAILED_PRECONDITION&&t.message===Xv){e.next=2;break}throw t;case 2:dv("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nm=function(){function e(t){var n=this;c(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return h(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&yv(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=C(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),rm=function(){function e(t,n){var r=this;c(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.v=new _v,this.transaction.oncomplete=function(){r.v.resolve()},this.transaction.onabort=function(){n.error?r.v.reject(new om(t,n.error)):r.v.resolve()},this.transaction.onerror=function(e){var n=fm(e.target.error);r.v.reject(new om(t,n))}}return h(e,[{key:"R",get:function(){return this.v.promise}},{key:"abort",value:function(e){e&&this.v.reject(e),this.aborted||(dv("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"P",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new sm(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new om(n,t)}}}]),e}(),im=function(){function e(t,n,r){c(this,e),this.name=t,this.version=n,this.V=r,12.2===e.S(ht())&&pv("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return h(e,[{key:"$",value:function(){var e=Pt(Dt().mark((function e(t){var n=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return dv("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new om(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new wv(bv.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new wv(bv.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new om(t,n))},i.onupgradeneeded=function(e){dv("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.V.O(t,i.transaction,e.oldVersion,n.version).next((function(){dv("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.F&&(this.db.onversionchange=function(e){return n.F(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"B",value:function(e){this.F=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Pt(Dt().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0,u=Dt().mark((function e(){var n,u,s,l;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++o,e.prev=1,e.next=4,c.$(t);case 4:return c.db=e.sent,n=rm.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.P(),e})).catch((function(e){return n.abort(e),nm.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.R;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),s=e.t1,l="FirebaseError"!==s.name&&o<3,dv("SimpleDb","Transaction failed with error:",s.message,"Retrying:",l),c.close(),l){e.next=18;break}return e.abrupt("return",{v:Promise.reject(s)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if("object"!==typeof(s=e.t0)){e.next=7;break}return e.abrupt("return",s.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return dv("SimpleDb","Removing database:",e),cm(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!yt())return!1;if(e.C())return!0;var t=ht(),n=e.S(t),r=0<n&&n<10,i=e.N(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.k)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"N",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),am=function(){function e(t){c(this,e),this.L=t,this.q=!1,this.U=null}return h(e,[{key:"isDone",get:function(){return this.q}},{key:"K",get:function(){return this.U}},{key:"cursor",set:function(e){this.L=e}},{key:"done",value:function(){this.q=!0}},{key:"G",value:function(e){this.U=e}},{key:"delete",value:function(){return cm(this.L.delete())}}]),e}(),om=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,bv.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return h(n)}(wv);function um(e){return"IndexedDbTransactionError"===e.name}var sm=function(){function e(t){c(this,e),this.store=t}return h(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(dv("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(dv("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),cm(n)}},{key:"add",value:function(e){return dv("SimpleDb","ADD",this.store.name,e,e),cm(this.store.add(e))}},{key:"get",value:function(e){var t=this;return cm(this.store.get(e)).next((function(n){return void 0===n&&(n=null),dv("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return dv("SimpleDb","DELETE",this.store.name,e),cm(this.store.delete(e))}},{key:"count",value:function(){return dv("SimpleDb","COUNT",this.store.name),cm(this.store.count())}},{key:"j",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.W(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new nm((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new nm((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"J",value:function(e,t){dv("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Y=!1;var r=this.cursor(n);return this.W(r,(function(e,t,n){return n.delete()}))}},{key:"X",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.W(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new nm((function(n,r){t.onerror=function(e){var t=fm(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"W",value:function(e,t){var n=[];return new nm((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new am(i),o=t(i.primaryKey,i.value,a);if(o instanceof nm){var u=o.catch((function(e){return a.done(),nm.reject(e)}));n.push(u)}a.isDone?r():null===a.K?i.continue():i.continue(a.K)}else r()}})).next((function(){return nm.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function cm(e){return new nm((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=fm(e.target.error);n(t)}}))}var lm=!1;function fm(e){var t=im.S(ht());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new wv("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return lm||(lm=!0,setTimeout((function(){throw r}),0)),r}}return e}var hm=function(){function e(t,n){c(this,e),this.asyncQueue=t,this.tt=n,this.task=null}return h(e,[{key:"start",value:function(){this.et(15e3)}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"et",value:function(e){var t=this;dv("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=dv,e.t1="Documents written: ",e.next=6,t.tt.nt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!um(e.t4)){e.next=17;break}dv("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,em(e.t4);case 19:return e.next=21,t.et(6e4);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),dm=function(){function e(t,n){c(this,e),this.localStore=t,this.persistence=n}return h(e,[{key:"nt",value:function(){var e=Pt(Dt().mark((function e(){var t,n=this,r=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.st(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"st",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return nm.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return dv("IndexBackiller","Processing collection: ".concat(t)),n.it(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"it",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.rt(i,n)})).next((function(n){return dv("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"rt",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Zv(t);$v(r,n)>0&&(n=r)})),new Qv(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),pm=function(){function e(t,n){var r=this;c(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return h(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function vm(e){return null==e}function mm(e){return 0===e&&1/e==-1/0}function ym(e){return"number"==typeof e&&Number.isInteger(e)&&!mm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function gm(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=bm(t)),t=km(e.get(n),t);return bm(t)}function km(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function bm(e){return e+"\x01\x01"}function wm(e){var t=e.length;if(gv(t>=2),2===t)return gv("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Uv.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&yv(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:yv()}a=o+2}return new Uv(r)}pm.ct=-1;var _m=["userId","batchId"];function xm(e,t){return[e,gm(t)]}function Sm(e,t,n){return[e,gm(t),n]}var Em={},Im=["prefixPath","collectionGroup","readTime","documentId"],Tm=["prefixPath","collectionGroup","documentId"],Cm=["collectionGroup","readTime","prefixPath","documentId"],Am=["canonicalId","targetId"],Nm=["targetId","path"],Om=["path","targetId"],Dm=["collectionId","parent"],Rm=["indexId","uid"],Pm=["uid","sequenceNumber"],Mm=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Lm=["indexId","uid","orderedDocumentKey"],Fm=["userId","collectionPath","documentId"],jm=["userId","collectionPath","largestBatchId"],Um=["userId","collectionGroup","largestBatchId"],Vm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Bm=[].concat((0,s.Z)(Vm),["documentOverlays"]),zm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],qm=zm,Wm=[].concat(qm,["indexConfiguration","indexState","indexEntries"]),Gm=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).ht=e,i.currentSequenceNumber=r,i}return h(n)}(Jv);function Hm(e,t){var n=kv(e);return im.M(n.ht,t)}function Km(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ym(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zm(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Qm=function(){function e(t,n){c(this,e),this.comparator=t,this.root=n||Xm.EMPTY}return h(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xm.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xm.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new $m(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new $m(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new $m(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new $m(this.root,e,this.comparator,!0)}}]),e}(),$m=function(){function e(t,n,r,i){c(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return h(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Xm=function(){function e(t,n,r,i,a){c(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return h(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw yv();if(this.right.isRed())throw yv();var e=this.left.check();if(e!==this.right.check())throw yv();return e+(this.isRed()?0:1)}}]),e}();Xm.EMPTY=null,Xm.RED=!0,Xm.BLACK=!1,Xm.EMPTY=new(function(){function e(){c(this,e),this.size=0}return h(e,[{key:"key",get:function(){throw yv()}},{key:"value",get:function(){throw yv()}},{key:"color",get:function(){throw yv()}},{key:"left",get:function(){throw yv()}},{key:"right",get:function(){throw yv()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Xm(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Jm=function(){function e(t){c(this,e),this.comparator=t,this.data=new Qm(this.comparator)}return h(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ey(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ey(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ey=function(){function e(t){c(this,e),this.iter=t}return h(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function ty(e){return e.hasNext()?e.getNext():void 0}var ny=function(){function e(t){c(this,e),this.fields=t,t.sort(Bv.comparator)}return h(e,[{key:"unionWith",value:function(t){var n,r=new Jm(Bv.comparator),i=C(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=C(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=C(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Pv(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),ry=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return h(n)}(w(Error));var iy=function(e){function t(e){c(this,t),this.binaryString=e}return h(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Rv(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ry("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();iy.EMPTY_BYTE_STRING=new iy("");var ay=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oy(e){if(gv(!!e),"string"==typeof e){var t=0,n=ay.exec(e);if(gv(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:uy(e.seconds),nanos:uy(e.nanos)}}function uy(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function sy(e){return"string"==typeof e?iy.fromBase64String(e):iy.fromUint8Array(e)}function cy(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ly(e){var t=e.mapValue.fields.__previous_value__;return cy(t)?ly(t):t}function fy(e){var t=oy(e.mapValue.fields.__local_write_time__.timestampValue);return new Lv(t.seconds,t.nanos)}var hy=h((function e(t,n,r,i,a,o,u,s,l){c(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.longPollingOptions=s,this.useFetchStreams=l})),dy=function(){function e(t,n){c(this,e),this.projectId=t,this.database=n||"(default)"}return h(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),py={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},vy={nullValue:"NULL_VALUE"};function my(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?cy(e)?4:Ny(e)?9007199254740991:10:yv()}function yy(e,t){if(e===t)return!0;var n=my(e);if(n!==my(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return fy(e).isEqual(fy(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=oy(e.timestampValue),r=oy(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return sy(e.bytesValue).isEqual(sy(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return uy(e.geoPointValue.latitude)===uy(t.geoPointValue.latitude)&&uy(e.geoPointValue.longitude)===uy(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return uy(e.integerValue)===uy(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=uy(e.doubleValue),r=uy(t.doubleValue);return n===r?mm(n)===mm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Pv(e.arrayValue.values||[],t.arrayValue.values||[],yy);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Km(n)!==Km(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!yy(n[i],r[i])))return!1;return!0}(e,t);default:return yv()}}function gy(e,t){return void 0!==(e.values||[]).find((function(e){return yy(e,t)}))}function ky(e,t){if(e===t)return 0;var n=my(e),r=my(t);if(n!==r)return Rv(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Rv(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=uy(e.integerValue||e.doubleValue),r=uy(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return by(e.timestampValue,t.timestampValue);case 4:return by(fy(e),fy(t));case 5:return Rv(e.stringValue,t.stringValue);case 6:return function(e,t){var n=sy(e),r=sy(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Rv(n[i],r[i]);if(0!==a)return a}return Rv(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Rv(uy(e.latitude),uy(t.latitude));return 0!==n?n:Rv(uy(e.longitude),uy(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ky(n[i],r[i]);if(a)return a}return Rv(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===py.mapValue&&t===py.mapValue)return 0;if(e===py.mapValue)return 1;if(t===py.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Rv(r[o],a[o]);if(0!==u)return u;var s=ky(n[r[o]],i[a[o]]);if(0!==s)return s}return Rv(r.length,a.length)}(e.mapValue,t.mapValue);default:throw yv()}}function by(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Rv(e,t);var n=oy(e),r=oy(t),i=Rv(n.seconds,r.seconds);return 0!==i?i:Rv(n.nanos,r.nanos)}function wy(e){return _y(e)}function _y(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=oy(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?sy(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,zv.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=C(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=_y(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=C(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(_y(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):yv();var t,n}function xy(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Sy(e){return!!e&&"integerValue"in e}function Ey(e){return!!e&&"arrayValue"in e}function Iy(e){return!!e&&"nullValue"in e}function Ty(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Cy(e){return!!e&&"mapValue"in e}function Ay(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Ym(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ay(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ay(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ny(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Oy(e){return"nullValue"in e?vy:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?xy(dy.empty(),zv.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:yv()}function Dy(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?xy(dy.empty(),zv.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?py:yv()}function Ry(e,t){var n=ky(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Py(e,t){var n=ky(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var My=function(){function e(t){c(this,e),this.value=t}return h(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Cy(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ay(t)}},{key:"setAll",value:function(e){var t=this,n=Bv.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ay(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Cy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return yy(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Cy(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Ym(t,(function(t,n){return e[t]=n}));var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ay(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Ly(e){var t=[];return Ym(e.fields,(function(e,n){var r=new Bv([e]);if(Cy(n)){var i=Ly(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=C(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ny(t)}var Fy=function(){function e(t,n,r,i,a,o,u){c(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=u}return h(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(Fv.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=My.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=My.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Fv.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Fv.min(),Fv.min(),Fv.min(),My.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,Fv.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Fv.min(),Fv.min(),My.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Fv.min(),Fv.min(),My.empty(),2)}}]),e}(),jy=h((function e(t,n){c(this,e),this.position=t,this.inclusive=n}));function Uy(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?zv.comparator(zv.fromName(o.referenceValue),n.key):ky(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Vy(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!yy(e.position[n],t.position[n]))return!1;return!0}var By=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";c(this,e),this.field=t,this.dir=n}));function zy(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var qy=h((function e(){c(this,e)})),Wy=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(ky(t,this.value)):null!==t&&my(this.value)===my(t)&&this.matchesComparison(ky(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return yv()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new eg(e,t,r):"array-contains"===t?new ig(e,r):"in"===t?new ag(e,r):"not-in"===t?new og(e,r):"array-contains-any"===t?new ug(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new tg(e,n):new ng(e,n)}}]),n}(qy),Gy=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).filters=e,i.op=r,i.lt=null,i}return h(n,[{key:"matches",value:function(e){return Hy(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.lt||(this.lt=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.lt}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.ft((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"ft",value:function(e){var t,n=C(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(qy);function Hy(e){return"and"===e.op}function Ky(e){return"or"===e.op}function Yy(e){return Zy(e)&&Hy(e)}function Zy(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Gy)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Qy(e){if(e instanceof Wy)return e.field.canonicalString()+e.op.toString()+wy(e.value);if(Yy(e))return e.filters.map((function(e){return Qy(e)})).join(",");var t=e.filters.map((function(e){return Qy(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function $y(e,t){return e instanceof Wy?function(e,t){return t instanceof Wy&&e.op===t.op&&e.field.isEqual(t.field)&&yy(e.value,t.value)}(e,t):e instanceof Gy?function(e,t){return t instanceof Gy&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&$y(n,t.filters[r])}),!0)}(e,t):void yv()}function Xy(e,t){var n=e.filters.concat(t);return Gy.create(n,e.op)}function Jy(e){return e instanceof Wy?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(wy(e.value))}(e):e instanceof Gy?function(e){return e.op.toString()+" {"+e.getFilters().map(Jy).join(" ,")+"}"}(e):"Filter"}var eg=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r,i)).key=zv.fromName(i.referenceValue),a}return h(n,[{key:"matches",value:function(e){var t=zv.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Wy),tg=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,"in",r)).keys=rg("in",r),i}return h(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Wy),ng=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,"not-in",r)).keys=rg("not-in",r),i}return h(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Wy);function rg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return zv.fromName(e.referenceValue)}))}var ig=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"array-contains",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ey(t)&&gy(t.arrayValue,this.value)}}]),n}(Wy),ag=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"in",r)}return h(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&gy(this.value.arrayValue,t)}}]),n}(Wy),og=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"not-in",r)}return h(n,[{key:"matches",value:function(e){if(gy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!gy(this.value.arrayValue,t)}}]),n}(Wy),ug=function(e){p(n,e);var t=k(n);function n(e,r){return c(this,n),t.call(this,e,"array-contains-any",r)}return h(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ey(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return gy(t.value.arrayValue,e)}))}}]),n}(Wy),sg=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;c(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.dt=null}));function cg(e){return new sg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function lg(e){var t=kv(e);if(null===t.dt){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Qy(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),vm(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return wy(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return wy(e)})).join(",")),t.dt=n}return t.dt}function fg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!zy(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!$y(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Vy(e.startAt,t.startAt)&&Vy(e.endAt,t.endAt)}function hg(e){return zv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function dg(e,t){return e.filters.filter((function(e){return e instanceof Wy&&e.field.isEqual(t)}))}function pg(e,t,n){var r,i=vy,a=!0,o=C(dg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=vy,c=!0;switch(u.op){case"<":case"<=":s=Oy(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=vy}Ry({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Ry({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function vg(e,t,n){var r,i=py,a=!0,o=C(dg(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=py,c=!0;switch(u.op){case">=":case">":s=Dy(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=py}Py({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Py({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var mg=h((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;c(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.wt=null,this._t=null,this.startAt,this.endAt}));function yg(e,t,n,r,i,a,o,u){return new mg(e,t,n,r,i,a,o,u)}function gg(e){return new mg(e)}function kg(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function bg(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function wg(e){var t,n=C(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function _g(e){return null!==e.collectionGroup}function xg(e){var t=kv(e);if(null===t.wt){t.wt=[];var n=wg(t),r=bg(t);if(null!==n&&null===r)n.isKeyField()||t.wt.push(new By(n)),t.wt.push(new By(Bv.keyField(),"asc"));else{var i,a=!1,o=C(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.wt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new By(Bv.keyField(),s))}}}return t.wt}function Sg(e){var t=kv(e);if(!t._t)if("F"===t.limitType)t._t=cg(t.path,t.collectionGroup,xg(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=C(xg(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new By(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new jy(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new jy(t.startAt.position,t.startAt.inclusive):null;t._t=cg(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t._t}function Eg(e,t){t.getFirstInequalityField(),wg(e);var n=e.filters.concat([t]);return new mg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ig(e,t,n){return new mg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Tg(e,t){return fg(Sg(e),Sg(t))&&e.limitType===t.limitType}function Cg(e){return"".concat(lg(Sg(e)),"|lt:").concat(e.limitType)}function Ag(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Jy(e)})).join(", "),"]")),vm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return wy(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return wy(e)})).join(",")),"Target(".concat(t,")")}(Sg(e)),"; limitType=").concat(e.limitType,")")}function Ng(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):zv.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=C(xg(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=C(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Uy(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,xg(e),t))&&!(e.endAt&&!function(e,t,n){var r=Uy(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,xg(e),t))}(e,t)}function Og(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Dg(e){return function(t,n){var r,i=!1,a=C(xg(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Rg(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Rg(e,t,n){var r=e.field.isKeyField()?zv.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ky(r,i):yv()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return yv()}}var Pg=function(){function e(t,n){c(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return h(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Ym(this.inner,(function(t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var o=(0,a.Z)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Zm(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Mg=new Qm(zv.comparator);function Lg(){return Mg}var Fg=new Qm(zv.comparator);function jg(){for(var e=Fg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Ug(e){var t=Fg;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function Vg(){return zg()}function Bg(){return zg()}function zg(){return new Pg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var qg=new Qm(zv.comparator),Wg=new Jm(zv.comparator);function Gg(){for(var e=Wg,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Hg=new Jm(Rv);function Kg(){return Hg}function Yg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mm(t)?"-0":t}}function Zg(e){return{integerValue:""+e}}function Qg(e,t){return ym(t)?Zg(t):Yg(e,t)}var $g=h((function e(){c(this,e),this._=void 0}));function Xg(e,t,n){return e instanceof tk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&cy(t)&&(t=ly(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof nk?rk(e,t):e instanceof ik?ak(e,t):function(e,t){var n=ek(e,t),r=uk(n)+uk(e.gt);return Sy(n)&&Sy(e.gt)?Zg(r):Yg(e.serializer,r)}(e,t)}function Jg(e,t,n){return e instanceof nk?rk(e,t):e instanceof ik?ak(e,t):n}function ek(e,t){return e instanceof ok?Sy(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var tk=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}($g),nk=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).elements=e,r}return h(n)}($g);function rk(e,t){var n,r=sk(t),i=C(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return yy(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ik=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).elements=e,r}return h(n)}($g);function ak(e,t){var n,r=sk(t),i=C(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!yy(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var ok=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).serializer=e,i.gt=r,i}return h(n)}($g);function uk(e){return uy(e.integerValue||e.doubleValue)}function sk(e){return Ey(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ck=h((function e(t,n){c(this,e),this.field=t,this.transform=n}));var lk=h((function e(t,n){c(this,e),this.version=t,this.transformResults=n})),fk=function(){function e(t,n){c(this,e),this.updateTime=t,this.exists=n}return h(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function hk(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var dk=h((function e(){c(this,e)}));function pk(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ik(e.key,fk.none()):new kk(e.key,e.data,fk.none());var n,r=e.data,i=My.empty(),a=new Jm(Bv.comparator),o=C(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new bk(e.key,i,new ny(a.toArray()),fk.none())}function vk(e,t,n){e instanceof kk?function(e,t,n){var r=e.value.clone(),i=_k(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof bk?function(e,t,n){if(hk(e.precondition,t)){var r=_k(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(wk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function mk(e,t,n,r){return e instanceof kk?function(e,t,n,r){if(!hk(e.precondition,t))return n;var i=e.value.clone(),a=xk(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof bk?function(e,t,n,r){if(!hk(e.precondition,t))return n;var i=xk(e.fieldTransforms,r,t),a=t.data;return a.setAll(wk(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return hk(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function yk(e,t){var n,r=null,i=C(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=ek(a.transform,o||null);null!=u&&(null===r&&(r=My.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function gk(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Pv(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof nk&&t instanceof nk||e instanceof ik&&t instanceof ik?Pv(e.elements,t.elements,yy):e instanceof ok&&t instanceof ok?yy(e.gt,t.gt):e instanceof tk&&t instanceof tk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var kk=function(e){p(n,e);var t=k(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return c(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(dk),bk=function(e){p(n,e);var t=k(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return c(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return h(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(dk);function wk(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function _k(e,t,n){var r=new Map;gv(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Jg(o,u,n[i]))}return r}function xk(e,t,n){var r,i=new Map,a=C(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Xg(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Sk,Ek,Ik=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(dk),Tk=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return h(n,[{key:"getFieldMask",value:function(){return null}}]),n}(dk),Ck=function(){function e(t,n,r,i){c(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return h(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&vk(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=C(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=mk(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=C(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=mk(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Bg();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=pk(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Fv.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Gg())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Pv(this.mutations,e.mutations,(function(e,t){return gk(e,t)}))&&Pv(this.baseMutations,e.baseMutations,(function(e,t){return gk(e,t)}))}}]),e}(),Ak=function(){function e(t,n,r,i){c(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return h(e,null,[{key:"from",value:function(t,n,r){gv(t.mutations.length===r.length);for(var i=qg,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Nk=function(){function e(t,n){c(this,e),this.largestBatchId=t,this.mutation=n}return h(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Ok=h((function e(t,n){c(this,e),this.count=t,this.unchangedNames=n}));function Dk(e){switch(e){default:return yv();case bv.CANCELLED:case bv.UNKNOWN:case bv.DEADLINE_EXCEEDED:case bv.RESOURCE_EXHAUSTED:case bv.INTERNAL:case bv.UNAVAILABLE:case bv.UNAUTHENTICATED:return!1;case bv.INVALID_ARGUMENT:case bv.NOT_FOUND:case bv.ALREADY_EXISTS:case bv.PERMISSION_DENIED:case bv.FAILED_PRECONDITION:case bv.ABORTED:case bv.OUT_OF_RANGE:case bv.UNIMPLEMENTED:case bv.DATA_LOSS:return!0}}function Rk(e){if(void 0===e)return pv("GRPC error has no .code"),bv.UNKNOWN;switch(e){case Sk.OK:return bv.OK;case Sk.CANCELLED:return bv.CANCELLED;case Sk.UNKNOWN:return bv.UNKNOWN;case Sk.DEADLINE_EXCEEDED:return bv.DEADLINE_EXCEEDED;case Sk.RESOURCE_EXHAUSTED:return bv.RESOURCE_EXHAUSTED;case Sk.INTERNAL:return bv.INTERNAL;case Sk.UNAVAILABLE:return bv.UNAVAILABLE;case Sk.UNAUTHENTICATED:return bv.UNAUTHENTICATED;case Sk.INVALID_ARGUMENT:return bv.INVALID_ARGUMENT;case Sk.NOT_FOUND:return bv.NOT_FOUND;case Sk.ALREADY_EXISTS:return bv.ALREADY_EXISTS;case Sk.PERMISSION_DENIED:return bv.PERMISSION_DENIED;case Sk.FAILED_PRECONDITION:return bv.FAILED_PRECONDITION;case Sk.ABORTED:return bv.ABORTED;case Sk.OUT_OF_RANGE:return bv.OUT_OF_RANGE;case Sk.UNIMPLEMENTED:return bv.UNIMPLEMENTED;case Sk.DATA_LOSS:return bv.DATA_LOSS;default:return yv()}}(Ek=Sk||(Sk={}))[Ek.OK=0]="OK",Ek[Ek.CANCELLED=1]="CANCELLED",Ek[Ek.UNKNOWN=2]="UNKNOWN",Ek[Ek.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ek[Ek.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ek[Ek.NOT_FOUND=5]="NOT_FOUND",Ek[Ek.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ek[Ek.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ek[Ek.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ek[Ek.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ek[Ek.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ek[Ek.ABORTED=10]="ABORTED",Ek[Ek.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ek[Ek.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ek[Ek.INTERNAL=13]="INTERNAL",Ek[Ek.UNAVAILABLE=14]="UNAVAILABLE",Ek[Ek.DATA_LOSS=15]="DATA_LOSS";var Pk=function(){function e(){c(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return h(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return Mk}},{key:"getOrCreateInstance",value:function(){return null===Mk&&(Mk=new e),Mk}}]),e}(),Mk=null;function Lk(){return new TextEncoder}var Fk=new uv([4294967295,4294967295],0);function jk(e){var t=Lk().encode(e),n=new ov;return n.update(t),new Uint8Array(n.digest())}function Uk(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new uv([n,r],0),new uv([i,a],0)]}var Vk=function(){function e(t,n,r){if(c(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Bk("Invalid padding: ".concat(n));if(r<0)throw new Bk("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new Bk("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new Bk("Invalid padding when bitmap length is 0: ".concat(n));this.It=8*t.length-n,this.Tt=uv.fromNumber(this.It)}return h(e,[{key:"Et",value:function(e,t,n){var r=e.add(t.multiply(uv.fromNumber(n)));return 1===r.compare(Fk)&&(r=new uv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}},{key:"At",value:function(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"vt",value:function(e){if(0===this.It)return!1;for(var t=Uk(jk(e)),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=0;o<this.hashCount;o++){var u=this.Et(r,i,o);if(!this.At(u))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.It)for(var t=Uk(jk(e)),n=(0,a.Z)(t,2),r=n[0],i=n[1],o=0;o<this.hashCount;o++){var u=this.Et(r,i,o);this.Rt(u)}}},{key:"Rt",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}]),e}(),Bk=function(e){p(n,e);var t=k(n);function n(){var e;return c(this,n),(e=t.apply(this,arguments)).name="BloomFilterError",e}return h(n)}(w(Error)),zk=function(){function e(t,n,r,i,a){c(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return h(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,qk.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(Fv.min(),i,new Qm(Rv),Lg(),Gg())}}]),e}(),qk=function(){function e(t,n,r,i,a){c(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return h(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Gg(),Gg(),Gg())}}]),e}(),Wk=h((function e(t,n,r,i){c(this,e),this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i})),Gk=h((function e(t,n){c(this,e),this.targetId=t,this.Vt=n})),Hk=h((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:iy.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;c(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Kk=function(){function e(){c(this,e),this.St=0,this.Dt=Qk(),this.Ct=iy.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}return h(e,[{key:"current",get:function(){return this.xt}},{key:"resumeToken",get:function(){return this.Ct}},{key:"kt",get:function(){return 0!==this.St}},{key:"Mt",get:function(){return this.Nt}},{key:"$t",value:function(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}},{key:"Ot",value:function(){var e=Gg(),t=Gg(),n=Gg();return this.Dt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:yv()}})),new qk(this.Ct,this.xt,e,t,n)}},{key:"Ft",value:function(){this.Nt=!1,this.Dt=Qk()}},{key:"Bt",value:function(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}},{key:"Lt",value:function(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}},{key:"qt",value:function(){this.St+=1}},{key:"Ut",value:function(){this.St-=1}},{key:"Kt",value:function(){this.Nt=!0,this.xt=!0}}]),e}(),Yk=function(){function e(t){c(this,e),this.Gt=t,this.Qt=new Map,this.jt=Lg(),this.zt=Zk(),this.Wt=new Qm(Rv)}return h(e,[{key:"Ht",value:function(e){var t,n=C(e.Pt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.bt&&e.bt.isFoundDocument()?this.Jt(r,e.bt):this.Yt(r,e.key,e.bt)}}catch(u){n.e(u)}finally{n.f()}var i,a=C(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Yt(o,e.key,e.bt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Xt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Zt(n);switch(e.state){case 0:t.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||t.removeTarget(n);break;case 3:t.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:t.te(n)&&(t.ee(n),r.$t(e.resumeToken));break;default:yv()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((function(e,r){n.te(r)&&t(r)}))}},{key:"ne",value:function(e){var t,n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){var a=i.target;if(hg(a))if(0===r){var o=new zv(a.path);this.Yt(n,o,Fy.newNoDocument(o,Fv.min()))}else gv(1===r);else{var u=this.ie(n);if(u!==r){var s=this.re(e,u);if(0!==s){this.ee(n);var c=2===s?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,c)}null===(t=Pk.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,a,o,u,s,c={localCacheCount:t,existenceFilterCount:n.count},l=n.unchangedNames;return l&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==l?void 0:l.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(a=null===(i=null==l?void 0:l.bits)||void 0===i?void 0:i.bitmap)||void 0===a?void 0:a.length)&&void 0!==o?o:0,padding:null!==(s=null===(u=null==l?void 0:l.bits)||void 0===u?void 0:u.padding)&&void 0!==s?s:0}),c}(s,u,e.Vt))}}}}},{key:"re",value:function(e,t){var n=e.Vt,r=n.unchangedNames,i=n.count;if(!r||!r.bits)return 1;var a,o,u=r.bits,s=u.bitmap,c=void 0===s?"":s,l=u.padding,f=void 0===l?0:l,h=r.hashCount,d=void 0===h?0:h;try{a=sy(c).toUint8Array()}catch(e){if(e instanceof ry)return vv("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{o=new Vk(a,f,d)}catch(e){return vv(e instanceof Bk?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===o.It?1:i!==t-this.oe(e.targetId,o)?2:0}},{key:"oe",value:function(e,t){var n=this,r=this.Gt.getRemoteKeysForTarget(e),i=0;return r.forEach((function(r){var a=n.Gt.ue(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());t.vt(o)||(n.Yt(e,r,null),i++)})),i}},{key:"ce",value:function(e){var t=this,n=new Map;this.Qt.forEach((function(r,i){var a=t.se(i);if(a){if(r.current&&hg(a.target)){var o=new zv(a.target.path);null!==t.jt.get(o)||t.ae(i,o)||t.Yt(i,o,Fy.newNoDocument(o,e))}r.Mt&&(n.set(i,r.Ot()),r.Ft())}}));var r=Gg();this.zt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.se(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.jt.forEach((function(t,n){return n.setReadTime(e)}));var i=new zk(e,n,this.Wt,this.jt,r);return this.jt=Lg(),this.zt=Zk(),this.Wt=new Qm(Rv),i}},{key:"Jt",value:function(e,t){if(this.te(e)){var n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}}},{key:"Yt",value:function(e,t,n){if(this.te(e)){var r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Qt.delete(e)}},{key:"ie",value:function(e){var t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"qt",value:function(e){this.Zt(e).qt()}},{key:"Zt",value:function(e){var t=this.Qt.get(e);return t||(t=new Kk,this.Qt.set(e,t)),t}},{key:"he",value:function(e){var t=this.zt.get(e);return t||(t=new Jm(Rv),this.zt=this.zt.insert(e,t)),t}},{key:"te",value:function(e){var t=null!==this.se(e);return t||dv("WatchChangeAggregator","Detected inactive target",e),t}},{key:"se",value:function(e){var t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}},{key:"ee",value:function(e){var t=this;this.Qt.set(e,new Kk),this.Gt.getRemoteKeysForTarget(e).forEach((function(n){t.Yt(e,n,null)}))}},{key:"ae",value:function(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Zk(){return new Qm(zv.comparator)}function Qk(){return new Qm(zv.comparator)}var $k={asc:"ASCENDING",desc:"DESCENDING"},Xk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jk={and:"AND",or:"OR"},eb=h((function e(t,n){c(this,e),this.databaseId=t,this.useProto3Json=n}));function tb(e,t){return e.useProto3Json||vm(t)?t:{value:t}}function nb(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function rb(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ib(e,t){return nb(e,t.toTimestamp())}function ab(e){return gv(!!e),Fv.fromTimestamp(function(e){var t=oy(e);return new Lv(t.seconds,t.nanos)}(e))}function ob(e,t){return function(e){return new Uv(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ub(e){var t=Uv.fromString(e);return gv(Nb(t)),t}function sb(e,t){return ob(e.databaseId,t.path)}function cb(e,t){var n=ub(t);if(n.get(1)!==e.databaseId.projectId)throw new wv(bv.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wv(bv.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new zv(db(n))}function lb(e,t){return ob(e.databaseId,t)}function fb(e){var t=ub(e);return 4===t.length?Uv.emptyPath():db(t)}function hb(e){return new Uv(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function db(e){return gv(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pb(e,t,n){return{name:sb(e,t),fields:n.value.mapValue.fields}}function vb(e,t,n){var r=cb(e,t.name),i=ab(t.updateTime),a=t.createTime?ab(t.createTime):Fv.min(),o=new My({mapValue:{fields:t.fields}}),u=Fy.newFoundDocument(r,i,a,o);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function mb(e,t){return"found"in t?function(e,t){gv(!!t.found),t.found.name,t.found.updateTime;var n=cb(e,t.found.name),r=ab(t.found.updateTime),i=t.found.createTime?ab(t.found.createTime):Fv.min(),a=new My({mapValue:{fields:t.found.fields}});return Fy.newFoundDocument(n,r,i,a)}(e,t):"missing"in t?function(e,t){gv(!!t.missing),gv(!!t.readTime);var n=cb(e,t.missing),r=ab(t.readTime);return Fy.newNoDocument(n,r)}(e,t):yv()}function yb(e,t){var n;if(t instanceof kk)n={update:pb(e,t.key,t.value)};else if(t instanceof Ik)n={delete:sb(e,t.key)};else if(t instanceof bk)n={update:pb(e,t.key,t.data),updateMask:Ab(t.fieldMask)};else{if(!(t instanceof Tk))return yv();n={verify:sb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof tk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof nk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof ik)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof ok)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw yv()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ib(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:yv()}(e,t.precondition)),n}function gb(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?fk.updateTime(ab(e.updateTime)):void 0!==e.exists?fk.exists(e.exists):fk.none()}(t.currentDocument):fk.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)gv("REQUEST_TIME"===t.setToServerValue),n=new tk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new nk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new ik(i)}else"increment"in t?n=new ok(e,t.increment):yv();var a=Bv.fromServerFormat(t.fieldPath);return new ck(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=cb(e,t.update.name),a=new My({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ny(t.map((function(e){return Bv.fromServerFormat(e)})))}(t.updateMask);return new bk(i,a,o,n,r)}return new kk(i,a,n,r)}if(t.delete){var u=cb(e,t.delete);return new Ik(u,n)}if(t.verify){var s=cb(e,t.verify);return new Tk(s,n)}return yv()}function kb(e,t){return{documents:[lb(e,t.path)]}}function bb(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=lb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=lb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return Cb(Gy.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ib(e.field),direction:xb(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=tb(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function wb(e){var t=fb(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){gv(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=_b(e);return t instanceof Gy&&Yy(t)?t.getFilters():[t]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new By(Tb(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return vm(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new jy(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new jy(n,t)}(n.endAt)),yg(t,i,u,o,s,"F",c,l)}function _b(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Tb(e.unaryFilter.field);return Wy.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Tb(e.unaryFilter.field);return Wy.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Tb(e.unaryFilter.field);return Wy.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Tb(e.unaryFilter.field);return Wy.create(i,"!=",{nullValue:"NULL_VALUE"});default:return yv()}}(e):void 0!==e.fieldFilter?function(e){return Wy.create(Tb(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yv()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Gy.create(e.compositeFilter.filters.map((function(e){return _b(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return yv()}}(e.compositeFilter.op))}(e):yv()}function xb(e){return $k[e]}function Sb(e){return Xk[e]}function Eb(e){return Jk[e]}function Ib(e){return{fieldPath:e.canonicalString()}}function Tb(e){return Bv.fromServerFormat(e.fieldPath)}function Cb(e){return e instanceof Wy?function(e){if("=="===e.op){if(Ty(e.value))return{unaryFilter:{field:Ib(e.field),op:"IS_NAN"}};if(Iy(e.value))return{unaryFilter:{field:Ib(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ty(e.value))return{unaryFilter:{field:Ib(e.field),op:"IS_NOT_NAN"}};if(Iy(e.value))return{unaryFilter:{field:Ib(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ib(e.field),op:Sb(e.op),value:e.value}}}(e):e instanceof Gy?function(e){var t=e.getFilters().map((function(e){return Cb(e)}));return 1===t.length?t[0]:{compositeFilter:{op:Eb(e.op),filters:t}}}(e):yv()}function Ab(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Nb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Ob=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Fv.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Fv.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:iy.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;c(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u,this.expectedCount=s}return h(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}]),e}(),Db=h((function e(t){c(this,e),this.fe=t}));function Rb(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Pb(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:sb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nb(e,t.version.toTimestamp()),createTime:nb(e,t.createTime.toTimestamp())}}(e.fe,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Mb(t.version)};else{if(!t.isUnknownDocument())return yv();r.unknownDocument={path:n.path.toArray(),version:Mb(t.version)}}return r}function Pb(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Mb(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Lb(e){var t=new Lv(e.seconds,e.nanoseconds);return Fv.fromTimestamp(t)}function Fb(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gb(e.fe,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return gb(e.fe,t)})),u=Lv.fromMillis(t.localWriteTimeMs);return new Ck(t.batchId,u,n,o)}function jb(e){var t,n,r=Lb(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Lb(e.lastLimboFreeSnapshotVersion):Fv.min();return void 0!==e.query.documents?(gv(1===(n=e.query).documents.length),t=Sg(gg(fb(n.documents[0])))):t=function(e){return Sg(wb(e))}(e.query),new Ob(t,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,r,i,iy.fromBase64String(e.resumeToken))}function Ub(e,t){var n,r=Mb(t.snapshotVersion),i=Mb(t.lastLimboFreeSnapshotVersion);n=hg(t.target)?kb(e.fe,t.target):bb(e.fe,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:lg(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Vb(e){var t=wb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ig(t,t.limit,"L"):t}function Bb(e,t){return new Nk(t.largestBatchId,gb(e.fe,t.overlayMutation))}function zb(e,t){var n=t.path.lastSegment();return[e,gm(t.path.popLast()),n]}function qb(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Mb(r.readTime),documentKey:gm(r.documentKey.path),largestBatchId:r.largestBatchId}}var Wb=function(){function e(){c(this,e)}return h(e,[{key:"getBundleMetadata",value:function(e,t){return Gb(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Lb(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Gb(e).put({bundleId:(n=t).id,createTime:Mb(ab(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Hb(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Vb(t.bundledQuery),readTime:Lb(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Hb(e).put(function(e){return{name:e.name,readTime:Mb(ab(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Gb(e){return Hm(e,"bundles")}function Hb(e){return Hm(e,"namedQueries")}var Kb=function(){function e(t,n){c(this,e),this.serializer=t,this.userId=n}return h(e,[{key:"getOverlay",value:function(e,t){var n=this;return Yb(e).get(zb(this.userId,t)).next((function(e){return e?Bb(n.serializer,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=Vg();return nm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Nk(t,a);i.push(r.we(e,o))})),nm.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(gm(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Yb(e).J("collectionPathOverlayIndex",i))})),nm.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Vg(),a=gm(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Yb(e).j("collectionPathOverlayIndex",o).next((function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Bb(r.serializer,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Vg(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Yb(e).X({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Bb(a.serializer,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"we",value:function(e,t){return Yb(e).put(function(e,t,n){var r=zb(t,n.mutation.key),i=(0,a.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:yb(e.fe,n.mutation)}}(this.serializer,this.userId,t))}}],[{key:"de",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Yb(e){return Hm(e,"documentOverlays")}var Zb=function(){function e(){c(this,e)}return h(e,[{key:"_e",value:function(e,t){this.me(e,t),t.ge()}},{key:"me",value:function(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(uy(e.integerValue));else if("doubleValue"in e){var n=uy(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),mm(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie("".concat(r.seconds||"")),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(sy(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?Ny(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):yv()}},{key:"Te",value:function(e,t){this.ye(t,25),this.be(e,t)}},{key:"be",value:function(e,t){t.Ie(e)}},{key:"Re",value:function(e,t){var n=e.fields||{};this.ye(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.Te(a,t),this.me(n[a],t)}}},{key:"Pe",value:function(e,t){var n=e.values||[];this.ye(t,50);var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.me(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ve",value:function(e,t){var n=this;this.ye(t,37),zv.fromName(e).path.forEach((function(e){n.ye(t,60),n.be(e,t)}))}},{key:"ye",value:function(e,t){e.pe(t)}},{key:"Ee",value:function(e){e.pe(2)}}]),e}();function Qb(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function $b(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Qb(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Zb.Ve=new Zb;var Xb=function(){function e(){c(this,e),this.buffer=new Uint8Array(1024),this.position=0}return h(e,[{key:"Se",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.De(n.value),n=t.next();this.Ce()}},{key:"xe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ne(n.value),n=t.next();this.ke()}},{key:"Me",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{var a=r.codePointAt(0);this.De(240|a>>>18),this.De(128|63&a>>>12),this.De(128|63&a>>>6),this.De(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Ce()}},{key:"$e",value:function(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{var a=r.codePointAt(0);this.Ne(240|a>>>18),this.Ne(128|63&a>>>12),this.Ne(128|63&a>>>6),this.Ne(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ke()}},{key:"Oe",value:function(e){var t=this.Fe(e),n=$b(t);this.Be(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Le",value:function(e){var t=this.Fe(e),n=$b(t);this.Be(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"qe",value:function(){this.Ue(255),this.Ue(255)}},{key:"Ke",value:function(){this.Ge(255),this.Ge(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Qe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Fe",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"De",value:function(e){var t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}},{key:"Ne",value:function(e){var t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}},{key:"Ce",value:function(){this.Ue(0),this.Ue(1)}},{key:"ke",value:function(){this.Ge(0),this.Ge(1)}},{key:"Ue",value:function(e){this.Be(1),this.buffer[this.position++]=e}},{key:"Ge",value:function(e){this.Be(1),this.buffer[this.position++]=~e}},{key:"Be",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Jb=function(){function e(t){c(this,e),this.je=t}return h(e,[{key:"Ae",value:function(e){this.je.Se(e)}},{key:"Ie",value:function(e){this.je.Me(e)}},{key:"pe",value:function(e){this.je.Oe(e)}},{key:"ge",value:function(){this.je.qe()}}]),e}(),ew=function(){function e(t){c(this,e),this.je=t}return h(e,[{key:"Ae",value:function(e){this.je.xe(e)}},{key:"Ie",value:function(e){this.je.$e(e)}},{key:"pe",value:function(e){this.je.Le(e)}},{key:"ge",value:function(){this.je.Ke()}}]),e}(),tw=function(){function e(){c(this,e),this.je=new Xb,this.ze=new Jb(this.je),this.We=new ew(this.je)}return h(e,[{key:"seed",value:function(e){this.je.seed(e)}},{key:"He",value:function(e){return 0===e?this.ze:this.We}},{key:"Qe",value:function(){return this.je.Qe()}},{key:"reset",value:function(){this.je.reset()}}]),e}(),nw=function(){function e(t,n,r,i){c(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return h(e,[{key:"Je",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function rw(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=iw(e.arrayValue,t.arrayValue))?n:0!==(n=iw(e.directionalValue,t.directionalValue))?n:zv.comparator(e.documentKey,t.documentKey)}function iw(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var aw=function(){function e(t){c(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];var n,r=C(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.isInequality()?this.Ze=i:this.Xe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return h(e,[{key:"tn",value:function(e){gv(e.collectionGroup===this.collectionId);var t=Wv(e);if(void 0!==t&&!this.en(t))return!1;for(var n=Gv(e),r=new Set,i=0,a=0;i<n.length&&this.en(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){var o=n[i];if(!this.nn(this.Ze,o)||!this.sn(this.Ye[a++],o))return!1}++i}for(;i<n.length;++i){var u=n[i];if(a>=this.Ye.length||!this.sn(this.Ye[a++],u))return!1}return!0}},{key:"en",value:function(e){var t,n=C(this.Xe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.nn(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"nn",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"sn",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}();function ow(e){var t,n;if(gv(e instanceof Wy||e instanceof Gy),e instanceof Wy){if(e instanceof ag){var r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((function(t){return Wy.create(e.field,"==",t)})))||[];return Gy.create(r,"or")}return e}var i=e.filters.map((function(e){return ow(e)}));return Gy.create(i,e.op)}function uw(e){if(0===e.getFilters().length)return[];var t=fw(ow(e));return gv(lw(t)),sw(t)||cw(t)?[t]:t.getFilters()}function sw(e){return e instanceof Wy}function cw(e){return e instanceof Gy&&Yy(e)}function lw(e){return sw(e)||cw(e)||function(e){if(e instanceof Gy&&Ky(e)){var t,n=C(e.getFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(!sw(r)&&!cw(r))return!1}}catch(i){n.e(i)}finally{n.f()}return!0}return!1}(e)}function fw(e){if(gv(e instanceof Wy||e instanceof Gy),e instanceof Wy)return e;if(1===e.filters.length)return fw(e.filters[0]);var t=e.filters.map((function(e){return fw(e)})),n=Gy.create(t,e.op);return lw(n=pw(n))?n:(gv(n instanceof Gy),gv(Hy(n)),gv(n.filters.length>1),n.filters.reduce((function(e,t){return hw(e,t)})))}function hw(e,t){var n;return gv(e instanceof Wy||e instanceof Gy),gv(t instanceof Wy||t instanceof Gy),n=e instanceof Wy?t instanceof Wy?function(e,t){return Gy.create([e,t],"and")}(e,t):dw(e,t):t instanceof Wy?dw(t,e):function(e,t){if(gv(e.filters.length>0&&t.filters.length>0),Hy(e)&&Hy(t))return Xy(e,t.getFilters());var n=Ky(e)?e:t,r=Ky(e)?t:e,i=n.filters.map((function(e){return hw(e,r)}));return Gy.create(i,"or")}(e,t),pw(n)}function dw(e,t){if(Hy(t))return Xy(t,e.getFilters());var n=t.filters.map((function(t){return hw(e,t)}));return Gy.create(n,"or")}function pw(e){if(gv(e instanceof Wy||e instanceof Gy),e instanceof Wy)return e;var t=e.getFilters();if(1===t.length)return pw(t[0]);if(Zy(e))return e;var n=t.map((function(e){return pw(e)})),r=[];return n.forEach((function(t){t instanceof Wy?r.push(t):t instanceof Gy&&(t.op===e.op?r.push.apply(r,(0,s.Z)(t.filters)):r.push(t))})),1===r.length?r[0]:Gy.create(r,e.op)}var vw=function(){function e(){c(this,e),this.rn=new mw}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.rn.add(t),nm.resolve()}},{key:"getCollectionParents",value:function(e,t){return nm.resolve(this.rn.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return nm.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return nm.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return nm.resolve(null)}},{key:"getIndexType",value:function(e,t){return nm.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return nm.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return nm.resolve(null)}},{key:"getMinOffset",value:function(e,t){return nm.resolve(Qv.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return nm.resolve(Qv.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return nm.resolve()}},{key:"updateIndexEntries",value:function(e,t){return nm.resolve()}}]),e}(),mw=function(){function e(){c(this,e),this.index={}}return h(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Jm(Uv.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Jm(Uv.comparator)).toArray()}}]),e}(),yw=new Uint8Array(0),gw=function(){function e(t,n){c(this,e),this.user=t,this.databaseId=n,this.on=new mw,this.un=new Pg((function(e){return lg(e)}),(function(e,t){return fg(e,t)})),this.uid=t.uid||""}return h(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.on.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.on.add(t)}));var a={collectionId:r,parent:gm(i)};return kw(e).put(a)}return nm.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Mv(t),""],!1,!0);return kw(e).j(r).next((function(e){var r,i=C(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(wm(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=ww(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=_w(e);return a.next((function(e){o.put(qb(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=ww(e),r=_w(e),i=bw(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=bw(e),i=!0,a=new Map;return nm.forEach(this.cn(t),(function(t){return n.an(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Gg(),o=[];return nm.forEach(a,(function(i,a){var u;dv("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(lg(t)));var s=function(e,t){var n=Wv(t);if(void 0===n)return null;var r,i=C(dg(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=C(Gv(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=C(dg(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=C(Gv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?pg(e,o.fieldPath,e.startAt):vg(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new jy(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=C(Gv(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?vg(e,o.fieldPath,e.endAt):pg(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new jy(r,i)}(a,i),h=n.hn(i,a,l),d=n.hn(i,a,f),p=n.ln(i,a,c),v=n.fn(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return nm.forEach(v,(function(n){return r.H(n,t.limit).next((function(t){t.forEach((function(t){var n=zv.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return nm.resolve(null)}))}},{key:"cn",value:function(e){var t=this.un.get(e);return t||(t=0===e.filters.length?[e]:uw(Gy.create(e.filters,"and")).map((function(t){return cg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)})),this.un.set(e,t),t)}},{key:"fn",value:function(e,t,n,r,i,a,o){for(var u=this,c=(null!=t?t.length:1)*Math.max(n.length,i.length),l=c/(null!=t?t.length:1),f=[],h=function(){var c=t?u.dn(t[d/l]):yw,h=u.wn(e,c,n[d%l],r),p=u._n(e,c,i[d%l],a),v=o.map((function(t){return u.wn(e,c,t,!0)}));f.push.apply(f,(0,s.Z)(u.createRange(h,p,v)))},d=0;d<c;++d)h();return f}},{key:"wn",value:function(e,t,n,r){var i=new nw(e,zv.empty(),t,n);return r?i:i.Je()}},{key:"_n",value:function(e,t,n,r){var i=new nw(e,zv.empty(),t,n);return r?i.Je():i}},{key:"an",value:function(e,t){var n=new aw(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.tn(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2,i=this.cn(t);return nm.forEach(i,(function(t){return n.an(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Jm(Bv.comparator),r=!1,i=C(e.filters);try{for(i.s();!(t=i.n()).done;){var a,o=C(t.value.getFlattenedFilters());try{for(o.s();!(a=o.n()).done;){var u=a.value;u.field.isKeyField()||("array-contains"===u.op||"array-contains-any"===u.op?r=!0:n=n.add(u.field))}}catch(f){o.e(f)}finally{o.f()}}}catch(f){i.e(f)}finally{i.f()}var s,c=C(e.orderBy);try{for(c.s();!(s=c.n()).done;){var l=s.value;l.field.isKeyField()||(n=n.add(l.field))}}catch(f){c.e(f)}finally{c.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return function(e){return null!==e.limit}(t)&&i.length>1&&2===r?1:r}))}},{key:"mn",value:function(e,t){var n,r=new tw,i=C(Gv(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.He(a.kind);Zb.Ve._e(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Qe()}},{key:"dn",value:function(e){var t=new tw;return Zb.Ve._e(e,t.He(0)),t.Qe()}},{key:"gn",value:function(e,t){var n=new tw;return Zb.Ve._e(xy(this.databaseId,t),n.He(function(e){var t=Gv(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Qe()}},{key:"ln",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new tw);var i,a=0,o=C(Gv(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=C(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.yn(t,s.fieldPath)&&Ey(c))r=this.pn(r,s,c);else{var h=f.He(s.kind);Zb.Ve._e(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.In(r)}},{key:"hn",value:function(e,t,n){return this.ln(e,t,n.position)}},{key:"In",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Qe();return t}},{key:"pn",value:function(e,t,n){var r,i=(0,s.Z)(e),a=[],o=C(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,c=r.value,l=C(i);try{for(l.s();!(u=l.n()).done;){var f=u.value,h=new tw;h.seed(f.Qe()),Zb.Ve._e(c,h.He(t.kind)),a.push(h)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"yn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Wy&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=ww(e),i=_w(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next((function(e){var t=[];return nm.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Kv(t.sequenceNumber,new Qv(Lb(t.readTime),new zv(wm(t.documentKey)),t.largestBatchId)):Kv.empty(),r=e.fields.map((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];return new Hv(Bv.fromServerFormat(n),r)}));return new qv(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Rv(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=ww(e),a=_w(e);return this.Tn(e).next((function(e){return i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return nm.forEach(t,(function(t){return a.put(qb(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return nm.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?nm.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),nm.forEach(a,(function(r){return n.En(e,t,r).next((function(t){var a=n.An(i,r);return t.isEqual(a)?nm.resolve():n.vn(e,i,r,t,a)}))}))}))}))}},{key:"Rn",value:function(e,t,n,r){return bw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"Pn",value:function(e,t,n,r){return bw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(n,t.key),t.key.path.toArray()])}},{key:"En",value:function(e,t,n){var r=bw(e),i=new Jm(rw);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.gn(n,t)])},(function(e,r){i=i.add(new nw(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"An",value:function(e,t){var n=new Jm(rw),r=this.mn(t,e);if(null==r)return n;var i=Wv(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Ey(a)){var o,u=C(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new nw(t.indexId,e.key,this.dn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new nw(t.indexId,e.key,yw,r));return n}},{key:"vn",value:function(e,t,n,r,i){var a=this;dv("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=ty(a),s=ty(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=ty(o)):l?(i(u),u=ty(a)):(u=ty(a),s=ty(o))}}(r,i,rw,(function(r){o.push(a.Rn(e,t,n,r))}),(function(r){o.push(a.Pn(e,t,n,r))})),nm.waitFor(o)}},{key:"Tn",value:function(e){var t=1;return _w(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return rw(e,t)})).filter((function(e,t,n){return!t||0!==rw(e,n[t-1])}));var r=[];r.push(e);var i,a=C(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=rw(o,e),s=rw(o,t);if(0===u)r[0]=e.Je();else if(u>0&&s<0)r.push(o),r.push(o.Je());else if(s>0)break}}catch(d){a.e(d)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];var f=[r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,yw,[]],h=[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,yw,[]];c.push(IDBKeyRange.bound(f,h))}return c}},{key:"bn",value:function(e,t){return rw(e,t)>0}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(xw)}},{key:"getMinOffset",value:function(e,t){var n=this;return nm.mapArray(this.cn(t),(function(t){return n.an(e,t).next((function(e){return e||yv()}))})).next(xw)}}]),e}();function kw(e){return Hm(e,"collectionParents")}function bw(e){return Hm(e,"indexEntries")}function ww(e){return Hm(e,"indexConfiguration")}function _w(e){return Hm(e,"indexState")}function xw(e){gv(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;$v(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Qv(t.readTime,t.documentKey,n)}var Sw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ew=function(){function e(t,n,r){c(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return h(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Iw(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.X({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){gv(1===u)})));var c,l=[],f=C(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Sm(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return nm.waitFor(a).next((function(){return l}))}function Tw(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw yv();t=e.noDocument}return JSON.stringify(t).length}Ew.DEFAULT_COLLECTION_PERCENTILE=10,Ew.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ew.DEFAULT=new Ew(41943040,Ew.DEFAULT_COLLECTION_PERCENTILE,Ew.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ew.DISABLED=new Ew(-1,0,0);var Cw=function(){function e(t,n,r,i){c(this,e),this.userId=t,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}return h(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nw(e).X({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Ow(e),o=Nw(e);return o.add({}).next((function(u){gv("number"==typeof u);var s,c=new Ck(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return yb(e.fe,t)})),i=n.mutations.map((function(t){return yb(e.fe,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.serializer,i.userId,c),f=[],h=new Jm((function(e,t){return Rv(e.canonicalString(),t.canonicalString())})),d=C(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Sm(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Em))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Vn[u]=c.keys()})),nm.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Nw(e).get(t).next((function(e){return e?(gv(e.userId===n.userId),Fb(n.serializer,e)):null}))}},{key:"Sn",value:function(e,t){var n=this;return this.Vn[t]?nm.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Vn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Nw(e).X({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(gv(t.batchId>=r),a=Fb(n.serializer,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Nw(e).X({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nw(e).j("userMutationsIndex",n).next((function(e){return e.map((function(e){return Fb(t.serializer,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=xm(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ow(e).X({range:i},(function(r,i,u){var s=(0,a.Z)(r,3),c=s[0],l=s[1],f=s[2],h=wm(l);if(c===n.userId&&t.path.isEqual(h))return Nw(e).get(f).next((function(e){if(!e)throw yv();gv(e.userId===n.userId),o.push(Fb(n.serializer,e))}));u.done()})).next((function(){return o}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Jm(Rv),i=[];return t.forEach((function(t){var o=xm(n.userId,t.path),u=IDBKeyRange.lowerBound(o),s=Ow(e).X({range:u},(function(e,i,o){var u=(0,a.Z)(e,3),s=u[0],c=u[1],l=u[2],f=wm(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):o.done()}));i.push(s)})),nm.waitFor(i).next((function(){return n.Dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,o=xm(this.userId,r),u=IDBKeyRange.lowerBound(o),s=new Jm(Rv);return Ow(e).X({range:u},(function(e,t,o){var u=(0,a.Z)(e,3),c=u[0],l=u[1],f=u[2],h=wm(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(s=s.add(f)):o.done()})).next((function(){return n.Dn(e,s)}))}},{key:"Dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Nw(e).get(t).next((function(e){if(null===e)throw yv();gv(e.userId===n.userId),r.push(Fb(n.serializer,e))})))})),nm.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Iw(e.ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Cn(t.batchId)})),nm.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Cn",value:function(e){delete this.Vn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return nm.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Ow(e).X({range:r},(function(e,n,r){if(e[0]===t.userId){var a=wm(e[1]);i.push(a)}else r.done()})).next((function(){gv(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Aw(e,this.userId,t)}},{key:"xn",value:function(e){var t=this;return Dw(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"de",value:function(t,n,r,i){return gv(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Aw(e,t,n){var r=xm(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),u=!1;return Ow(e).X({range:o,Y:!0},(function(e,n,r){var o=(0,a.Z)(e,3),s=o[0],c=o[1];o[2];s===t&&c===i&&(u=!0),r.done()})).next((function(){return u}))}function Nw(e){return Hm(e,"mutations")}function Ow(e){return Hm(e,"documentMutations")}function Dw(e){return Hm(e,"mutationQueues")}var Rw=function(){function e(t){c(this,e),this.Nn=t}return h(e,[{key:"next",value:function(){return this.Nn+=2,this.Nn}}],[{key:"kn",value:function(){return new e(0)}},{key:"Mn",value:function(){return new e(-1)}}]),e}(),Pw=function(){function e(t,n){c(this,e),this.referenceDelegate=t,this.serializer=n}return h(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.$n(e).next((function(n){var r=new Rw(n.highestTargetId);return n.highestTargetId=r.next(),t.On(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.$n(e).next((function(e){return Fv.fromTimestamp(new Lv(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.$n(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.$n(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.On(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Fn(e,t).next((function(){return n.$n(e).next((function(r){return r.targetCount+=1,n.Bn(t,r),n.On(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Fn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Mw(e).delete(t.targetId)})).next((function(){return n.$n(e)})).next((function(t){return gv(t.targetCount>0),t.targetCount-=1,n.On(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Mw(e).X((function(o,u){var s=jb(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return nm.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Mw(e).X((function(e,n){var r=jb(n);t(r)}))}},{key:"$n",value:function(e){return Lw(e).get("targetGlobalKey").next((function(e){return gv(null!==e),e}))}},{key:"On",value:function(e,t){return Lw(e).put("targetGlobalKey",t)}},{key:"Fn",value:function(e,t){return Mw(e).put(Ub(this.serializer,t))}},{key:"Bn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.$n(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=lg(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Mw(e).X({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=jb(n);fg(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Fw(e);return t.forEach((function(t){var o=gm(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),nm.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Fw(e);return nm.forEach(t,(function(t){var a=gm(t.path);return nm.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Fw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Fw(e),i=Gg();return r.X({range:n,Y:!0},(function(e,t,n){var r=wm(e[1]),a=new zv(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=gm(t.path),r=IDBKeyRange.bound([n],[Mv(n)],!1,!0),i=0;return Fw(e).X({index:"documentTargetsIndex",Y:!0,range:r},(function(e,t,n){var r=(0,a.Z)(e,2),o=r[0];r[1];0!==o&&(i++,n.done())})).next((function(){return i>0}))}},{key:"le",value:function(e,t){return Mw(e).get(t).next((function(e){return e?jb(e):null}))}}]),e}();function Mw(e){return Hm(e,"targets")}function Lw(e){return Hm(e,"targetGlobal")}function Fw(e){return Hm(e,"targetDocuments")}function jw(e,t){var n=(0,a.Z)(e,2),r=n[0],i=n[1],o=(0,a.Z)(t,2),u=o[0],s=o[1],c=Rv(r,u);return 0===c?Rv(i,s):c}var Uw=function(){function e(t){c(this,e),this.Ln=t,this.buffer=new Jm(jw),this.qn=0}return h(e,[{key:"Un",value:function(){return++this.qn}},{key:"Kn",value:function(e){var t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();jw(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Vw=function(){function e(t,n,r){c(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Gn=null}return h(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}},{key:"stop",value:function(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}},{key:"started",get:function(){return null!==this.Gn}},{key:"Qn",value:function(e){var t=this;dv("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Gn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!um(e.t0)){e.next=12;break}dv("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,em(e.t0);case 14:return e.next=16,t.Qn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),Bw=function(){function e(t,n){c(this,e),this.jn=t,this.params=n}return h(e,[{key:"calculateTargetCount",value:function(e,t){return this.jn.zn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return nm.resolve(pm.ct);var r=new Uw(t);return this.jn.forEachTarget(e,(function(e){return r.Kn(e.sequenceNumber)})).next((function(){return n.jn.Wn(e,(function(e){return r.Kn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.jn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.jn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(dv("LruGarbageCollector","Garbage collection skipped; disabled"),nm.resolve(Sw)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(dv("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Sw):n.Hn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.jn.getCacheSize(e)}},{key:"Hn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(dv("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),hv()<=Ut.DEBUG&&dv("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),nm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}();function zw(e,t){return new Bw(e,t)}var qw=function(){function e(t,n){c(this,e),this.db=t,this.garbageCollector=zw(this,n)}return h(e,[{key:"zn",value:function(e){var t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Jn",value:function(e){var t=0;return this.Wn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Wn",value:function(e,t){return this.Yn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ww(e,n)}},{key:"removeReference",value:function(e,t,n){return Ww(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ww(e,t)}},{key:"Xn",value:function(e,t){return function(e,t){var n=!1;return Dw(e).Z((function(r){return Aw(e,r,t).next((function(e){return e&&(n=!0),nm.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Yn(e,(function(o,u){if(u<=t){var s=n.Xn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Fv.min()),Fw(e).delete([0,gm(o.path)])}))}));i.push(s)}})).next((function(){return nm.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ww(e,t)}},{key:"Yn",value:function(e,t){var n,r=Fw(e),i=pm.ct;return r.X({index:"documentTargetsIndex"},(function(e,r){var o=(0,a.Z)(e,2),u=o[0],s=(o[1],r.path),c=r.sequenceNumber;0===u?(i!==pm.ct&&t(new zv(wm(n)),i),i=c,n=s):i=pm.ct})).next((function(){i!==pm.ct&&t(new zv(wm(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ww(e,t){return Fw(e).put(function(e,t){return{targetId:0,path:gm(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Gw=function(){function e(){c(this,e),this.changes=new Pg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return h(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Fy.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?nm.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Hw=function(){function e(t){c(this,e),this.serializer=t}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Qw(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Qw(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Pb(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Zn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Fy.newInvalidDocument(t);return Qw(e).X({index:"documentKeyIndex",range:IDBKeyRange.only($w(t))},(function(e,i){r=n.ts(t,i)})).next((function(){return r}))}},{key:"es",value:function(e,t){var n=this,r={size:0,document:Fy.newInvalidDocument(t)};return Qw(e).X({index:"documentKeyIndex",range:IDBKeyRange.only($w(t))},(function(e,i){r={document:n.ts(t,i),size:Tw(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Lg();return this.ns(e,t,(function(e,t){var i=n.ts(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"ss",value:function(e,t){var n=this,r=Lg(),i=new Qm(zv.comparator);return this.ns(e,t,(function(e,t){var a=n.ts(e,t);r=r.insert(e,a),i=i.insert(e,Tw(t))})).next((function(){return{documents:r,rs:i}}))}},{key:"ns",value:function(e,t,n){if(t.isEmpty())return nm.resolve();var r=new Jm(Jw);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound($w(r.first()),$w(r.last())),a=r.getIterator(),o=a.getNext();return Qw(e).X({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=zv.fromSegments([].concat((0,s.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&Jw(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.G($w(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a=t.path,o=[a.popLast().toArray(),a.lastSegment(),Pb(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],u=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qw(e).j(IDBKeyRange.bound(o,u,!0)).next((function(e){var n,a=Lg(),o=C(e);try{for(o.s();!(n=o.n()).done;){var u=n.value,s=i.ts(zv.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s.isFoundDocument()&&(Ng(t,s)||r.has(s.key))&&(a=a.insert(s.key,s))}}catch(c){o.e(c)}finally{o.f()}return a}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Lg(),o=Xw(t,n),u=Xw(t,Qv.max());return Qw(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.ts(zv.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Yw(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Zw(e).get("remoteDocumentGlobalKey").next((function(e){return gv(!!e),e}))}},{key:"Zn",value:function(e,t){return Zw(e).put("remoteDocumentGlobalKey",t)}},{key:"ts",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=vb(e.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=zv.fromSegments(t.noDocument.path),i=Lb(t.noDocument.readTime);n=Fy.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return yv();var a=zv.fromSegments(t.unknownDocument.path),o=Lb(t.unknownDocument.version);n=Fy.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new Lv(e[0],e[1]);return Fv.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!n.isNoDocument()||!n.version.isEqual(Fv.min()))return n}return Fy.newInvalidDocument(e)}}]),e}();function Kw(e){return new Hw(e)}var Yw=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).os=e,i.trackRemovals=r,i.us=new Pg((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Jm((function(e,t){return Rv(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.us.get(a);if(n.push(t.os.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=Rb(t.os.serializer,o);i=i.add(a.path.popLast());var c=Tw(s);r+=c-u.size,n.push(t.os.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=Rb(t.os.serializer,o.convertToNoDocument(Fv.min()));n.push(t.os.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.os.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.os.updateMetadata(e,r)),nm.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.os.es(e,t).next((function(e){return n.us.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.os.ss(e,t).next((function(e){var t=e.documents;return e.rs.forEach((function(e,r){n.us.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Gw);function Zw(e){return Hm(e,"remoteDocumentGlobal")}function Qw(e){return Hm(e,"remoteDocumentsV14")}function $w(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Xw(e,t){var n=t.documentKey.path.toArray();return[e,Pb(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Jw(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Rv(n[a],r[a]))return i;return(i=Rv(n.length,r.length))||((i=Rv(n[n.length-2],r[r.length-2]))||Rv(n[n.length-1],r[r.length-1]))}var e_=h((function e(t,n){c(this,e),this.overlayedDocument=t,this.mutatedFields=n})),t_=function(){function e(t,n,r,i){c(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return h(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&mk(r.mutation,e,ny.empty(),Lv.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Gg()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gg(),i=Vg();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=jg();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=Vg();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Gg())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Lg(),a=zg(),o=zg();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof bk)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),mk(o.mutation,t,o.mutation.getFieldMask(),Lv.now())):a.set(t.key,ny.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new e_(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=zg(),i=new Qm((function(e,t){return e-t})),a=Gg();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=C(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ny.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Gg()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=Bg();c.forEach((function(e){if(!a.has(e)){var n=pk(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return nm.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return zv.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_g(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):nm.resolve(Vg()),u=-1,s=a;return o.next((function(t){return nm.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?nm.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Gg())})).next((function(e){return{batchId:u,changes:Ug(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new zv(t)).next((function(e){var t=jg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=jg();return this.indexManager.getCollectionParents(e,i).next((function(o){return nm.forEach(o,(function(o){var u=function(e,t){return new mg(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Fy.newInvalidDocument(r)))}));var n=jg();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&mk(a.mutation,i,ny.empty(),Lv.now()),Ng(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),n_=function(){function e(t){c(this,e),this.serializer=t,this.cs=new Map,this.hs=new Map}return h(e,[{key:"getBundleMetadata",value:function(e,t){return nm.resolve(this.cs.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:ab(n.createTime)}),nm.resolve()}},{key:"getNamedQuery",value:function(e,t){return nm.resolve(this.hs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Vb(e.bundledQuery),readTime:ab(e.readTime)}}(t)),nm.resolve()}}]),e}(),r_=function(){function e(){c(this,e),this.overlays=new Qm(zv.comparator),this.ls=new Map}return h(e,[{key:"getOverlay",value:function(e,t){return nm.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=Vg();return nm.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.we(e,t,i)})),nm.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ls.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ls.delete(n)),nm.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Vg(),i=t.length+1,a=new zv(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return nm.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Qm((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Vg(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Vg(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return nm.resolve(s)}},{key:"we",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Nk(t,n));var a=this.ls.get(t);void 0===a&&(a=Gg(),this.ls.set(t,a)),this.ls.set(t,a.add(n.key))}}]),e}(),i_=function(){function e(){c(this,e),this.fs=new Jm(a_.ds),this.ws=new Jm(a_._s)}return h(e,[{key:"isEmpty",value:function(){return this.fs.isEmpty()}},{key:"addReference",value:function(e,t){var n=new a_(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}},{key:"gs",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ys(new a_(e,t))}},{key:"ps",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Is",value:function(e){var t=this,n=new zv(new Uv([])),r=new a_(n,e),i=new a_(n,e+1),a=[];return this.ws.forEachInRange([r,i],(function(e){t.ys(e),a.push(e.key)})),a}},{key:"Ts",value:function(){var e=this;this.fs.forEach((function(t){return e.ys(t)}))}},{key:"ys",value:function(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}},{key:"Es",value:function(e){var t=new zv(new Uv([])),n=new a_(t,e),r=new a_(t,e+1),i=Gg();return this.ws.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new a_(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),a_=function(){function e(t,n){c(this,e),this.key=t,this.As=n}return h(e,null,[{key:"ds",value:function(e,t){return zv.comparator(e.key,t.key)||Rv(e.As,t.As)}},{key:"_s",value:function(e,t){return Rv(e.As,t.As)||zv.comparator(e.key,t.key)}}]),e}(),o_=function(){function e(t,n){c(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Jm(a_.ds)}return h(e,[{key:"checkEmpty",value:function(e){return nm.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Ck(i,t,n,r);this.mutationQueue.push(a);var o,u=C(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Rs=this.Rs.add(new a_(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return nm.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return nm.resolve(this.Ps(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.bs(n),i=r<0?0:r;return nm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return nm.resolve(0===this.mutationQueue.length?-1:this.vs-1)}},{key:"getAllMutationBatches",value:function(e){return nm.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new a_(t,0),i=new a_(t,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],(function(e){var t=n.Ps(e.As);a.push(t)})),nm.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Jm(Rv);return t.forEach((function(e){var t=new a_(e,0),i=new a_(e,Number.POSITIVE_INFINITY);n.Rs.forEachInRange([t,i],(function(e){r=r.add(e.As)}))})),nm.resolve(this.Vs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;zv.isDocumentKey(i)||(i=i.child(""));var a=new a_(new zv(i),0),o=new Jm(Rv);return this.Rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)}),a),nm.resolve(this.Vs(o))}},{key:"Vs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ps(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;gv(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();var r=this.Rs;return nm.forEach(t.mutations,(function(i){var a=new a_(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Rs=r}))}},{key:"Cn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new a_(t,0),r=this.Rs.firstAfterOrEqual(n);return nm.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,nm.resolve()}},{key:"Ss",value:function(e,t){return this.bs(e)}},{key:"bs",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Ps",value:function(e){var t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),u_=function(){function e(t){c(this,e),this.Ds=t,this.docs=new Qm(zv.comparator),this.size=0}return h(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return nm.resolve(n?n.document.mutableCopy():Fy.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Lg();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Fy.newInvalidDocument(e))})),nm.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Lg(),a=t.path,o=new zv(a.child("")),u=this.docs.getIteratorFrom(o);u.hasNext();){var s=u.getNext(),c=s.key,l=s.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||$v(Zv(l),n)<=0||(r.has(l.key)||Ng(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return nm.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){yv()}},{key:"Cs",value:function(e,t){return nm.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new s_(this)}},{key:"getSize",value:function(e){return nm.resolve(this.size)}}]),e}(),s_=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).os=e,r}return h(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.os.addEntry(e,i)):t.os.removeEntry(r)})),nm.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.os.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.os.getEntries(e,t)}}]),n}(Gw),c_=function(){function e(t){c(this,e),this.persistence=t,this.xs=new Pg((function(e){return lg(e)}),fg),this.lastRemoteSnapshotVersion=Fv.min(),this.highestTargetId=0,this.Ns=0,this.ks=new i_,this.targetCount=0,this.Ms=Rw.kn()}return h(e,[{key:"forEachTarget",value:function(e,t){return this.xs.forEach((function(e,n){return t(n)})),nm.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return nm.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return nm.resolve(this.Ns)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ms.next(),nm.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),nm.resolve()}},{key:"Fn",value:function(e){this.xs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ms=new Rw(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Fn(t),this.targetCount+=1,nm.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Fn(t),nm.resolve()}},{key:"removeTargetData",value:function(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,nm.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.xs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.xs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),nm.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return nm.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.xs.get(t)||null;return nm.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.ks.gs(t,n),nm.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.ks.ps(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),nm.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.ks.Is(t),nm.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.ks.Es(t);return nm.resolve(n)}},{key:"containsKey",value:function(e,t){return nm.resolve(this.ks.containsKey(t))}}]),e}(),l_=function(){function e(t,n){var r=this;c(this,e),this.$s={},this.overlays={},this.Os=new pm(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new c_(this),this.indexManager=new vw,this.remoteDocumentCache=new u_((function(e){return r.referenceDelegate.Ls(e)})),this.serializer=new Db(n),this.qs=new n_(this.serializer)}return h(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Fs=!1,Promise.resolve()}},{key:"started",get:function(){return this.Fs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new r_,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.$s[e.toKey()];return n||(n=new o_(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;dv("MemoryPersistence","Starting transaction:",e);var i=new f_(this.Os.next());return this.referenceDelegate.Us(),n(i).next((function(e){return r.referenceDelegate.Ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gs",value:function(e,t){return nm.or(Object.values(this.$s).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),f_=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return h(n)}(Jv),h_=function(){function e(t){c(this,e),this.persistence=t,this.Qs=new i_,this.js=null}return h(e,[{key:"Ws",get:function(){if(this.js)return this.js;throw yv()}},{key:"addReference",value:function(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),nm.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),nm.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ws.add(t.toString()),nm.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Qs.Is(t.targetId).forEach((function(e){return n.Ws.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ws.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Us",value:function(){this.js=new Set}},{key:"Ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nm.forEach(this.Ws,(function(r){var i=zv.fromPath(r);return t.Hs(e,i).next((function(e){e||n.removeEntry(i,Fv.min())}))})).next((function(){return t.js=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Hs(e,t).next((function(e){e?n.Ws.delete(t.toString()):n.Ws.add(t.toString())}))}},{key:"Ls",value:function(e){return 0}},{key:"Hs",value:function(e,t){var n=this;return nm.or([function(){return nm.resolve(n.Qs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gs(e,t)}])}}],[{key:"zs",value:function(t){return new e(t)}}]),e}(),d_=function(){function e(t){c(this,e),this.serializer=t}return h(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new rm("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_m,{unique:!0}),e.createObjectStore("documentMutations")}(e),p_(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=nm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),p_(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Fv.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").j().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",_m,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return nm.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Ys(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Xs(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Zs(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.ti(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.ei(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Fm});t.createIndex("collectionPathOverlayIndex",jm,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Um,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Im});t.createIndex("documentKeyIndex",Tm),t.createIndex("collectionGroupIndex",Cm)}(e)})).next((function(){return i.ni(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.si(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Rm}).createIndex("sequenceNumberIndex",Pm,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Mm}).createIndex("documentKeyIndex",Lm,{unique:!1})}(e)}))),o}},{key:"Xs",value:function(e){var t=0;return e.store("remoteDocuments").X((function(e,n){t+=Tw(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Ys",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.j().next((function(n){return nm.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",i).next((function(r){return nm.forEach(r,(function(r){gv(r.userId===n.userId);var i=Fb(t.serializer,r);return Iw(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Zs",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.X((function(n,i){var a=new Uv(n),o=function(e){return[0,gm(e)]}(a);r.push(t.get(o).next((function(n){return n?nm.resolve():function(n){return t.put({targetId:0,path:gm(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return nm.waitFor(r)}))}))}},{key:"ti",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Dm});var n=t.store("collectionParents"),r=new mw,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:gm(i)})}};return t.store("remoteDocuments").X({Y:!0},(function(e,t){var n=new Uv(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").X({Y:!0},(function(e,t){var n=(0,a.Z)(e,3),r=(n[0],n[1]),o=(n[2],wm(r));return i(o.popLast())}))}))}},{key:"ei",value:function(e){var t=this,n=e.store("targets");return n.X((function(e,r){var i=jb(r),a=Ub(t.serializer,i);return n.put(a)}))}},{key:"ni",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.X((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new zv(Uv.fromString(i.document.name).popFirst(5)):i.noDocument?zv.fromSegments(i.noDocument.path):i.unknownDocument?zv.fromSegments(i.unknownDocument.path):yv()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return nm.waitFor(r)}))}},{key:"si",value:function(e,t){var n=this,r=t.store("mutations"),i=Kw(this.serializer),a=new l_(h_.zs,this.serializer.fe);return r.j().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:Gg();Fb(n.serializer,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),nm.forEach(r,(function(e,r){var o=new cv(r),u=Kb.de(n.serializer,o),s=a.getIndexManager(o),c=Cw.de(o,n.serializer,s,a.referenceDelegate);return new t_(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new Gm(t,pm.ct),e).next()}))}))}}]),e}();function p_(e){e.createObjectStore("targetDocuments",{keyPath:Nm}).createIndex("documentTargetsIndex",Om,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Am,{unique:!0}),e.createObjectStore("targetGlobal")}var v_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",m_=function(){function e(t,n,r,i,a,o,u,s,l,f){var h=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(c(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.ii=a,this.window=o,this.document=u,this.ri=l,this.oi=f,this.ui=h,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=function(e){return Promise.resolve()},!e.D())throw new wv(bv.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qw(this,i),this.di=n+"main",this.serializer=new Db(s),this.wi=new im(this.di,this.ui,new d_(this.serializer)),this.Bs=new Pw(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Kw(this.serializer),this.qs=new Wb,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===f&&pv("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return h(e,[{key:"start",value:function(){var e=this;return this.mi().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new wv(bv.FAILED_PRECONDITION,v_);return e.gi(),e.yi(),e.pi(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Bs.getHighestSequenceNumber(t)}))})).then((function(t){e.Os=new pm(t,e.ri)})).then((function(){e.Fs=!0})).catch((function(t){return e.wi&&e.wi.close(),Promise.reject(t)}))}},{key:"Ii",value:function(e){var t=this;return this.fi=function(){var n=Pt(Dt().mark((function n(r){return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.wi.B(function(){var t=Pt(Dt().mark((function t(n){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget(Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.mi();case 4:case"end":return e.stop()}}),e)})))))}},{key:"mi",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return g_(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Ti(t).next((function(t){t||(e.isPrimary=!1,e.ii.enqueueRetryable((function(){return e.fi(!1)})))}))})).next((function(){return e.Ei(t)})).next((function(n){return e.isPrimary&&!n?e.Ai(t).next((function(){return!1})):!!n&&e.vi(t).next((function(){return!0}))}))})).catch((function(t){if(um(t))return dv("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return dv("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.ii.enqueueRetryable((function(){return e.fi(t)})),e.isPrimary=t}))}},{key:"Ti",value:function(e){var t=this;return y_(e).get("owner").next((function(e){return nm.resolve(t.Ri(e))}))}},{key:"Pi",value:function(e){return g_(e).delete(this.clientId)}},{key:"bi",value:function(){var e=Pt(Dt().mark((function e(){var t,n,r,i,a=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Vi(this.li,18e5)){e.next=6;break}return this.li=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Hm(e,"clientMetadata");return t.j().next((function(e){var n=a.Si(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return nm.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this._i){n=C(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this._i.removeItem(this.Di(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"pi",value:function(){var e=this;this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.mi().then((function(){return e.bi()})).then((function(){return e.pi()}))}))}},{key:"Ri",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Ei",value:function(e){var t=this;return this.oi?nm.resolve(!0):y_(e).get("owner").next((function(n){if(null!==n&&t.Vi(n.leaseTimestampMs,5e3)&&!t.Ci(n.ownerId)){if(t.Ri(n)&&t.networkEnabled)return!0;if(!t.Ri(n)){if(!n.allowTabSynchronization)throw new wv(bv.FAILED_PRECONDITION,v_);return!1}}return!(!t.networkEnabled||!t.inForeground)||g_(e).j().next((function(e){return void 0===t.Si(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&dv("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Pt(Dt().mark((function e(){var t=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fs=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Ni(),this.ki(),e.next=7,this.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new Gm(e,pm.ct);return t.Ai(n).next((function(){return t.Pi(n)}))}));case 7:this.wi.close(),this.Mi();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Si",value:function(e,t){var n=this;return e.filter((function(e){return n.Vi(e.updateTimeMs,t)&&!n.Ci(e.clientId)}))}},{key:"$i",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return g_(t).j().next((function(t){return e.Si(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Fs}},{key:"getMutationQueue",value:function(e,t){return Cw.de(e,this.serializer,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Bs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new gw(e,this.serializer.fe.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Kb.de(this.serializer,e)}},{key:"getBundleCache",value:function(){return this.qs}},{key:"runTransaction",value:function(e,t,n){var r=this;dv("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.ui)?Wm:14===i?qm:13===i?zm:12===i?Bm:11===i?Vm:void yv();return this.wi.runTransaction(e,o,u,(function(i){return a=new Gm(i,r.Os?r.Os.next():pm.ct),"readwrite-primary"===t?r.Ti(a).next((function(e){return!!e||r.Ei(a)})).next((function(t){if(!t)throw pv("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.ii.enqueueRetryable((function(){return r.fi(!1)})),new wv(bv.FAILED_PRECONDITION,Xv);return n(a)})).next((function(e){return r.vi(a).next((function(){return e}))})):r.Oi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Oi",value:function(e){var t=this;return y_(e).get("owner").next((function(e){if(null!==e&&t.Vi(e.leaseTimestampMs,5e3)&&!t.Ci(e.ownerId)&&!t.Ri(e)&&!(t.oi||t.allowTabSynchronization&&e.allowTabSynchronization))throw new wv(bv.FAILED_PRECONDITION,v_)}))}},{key:"vi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return y_(e).put("owner",t)}},{key:"Ai",value:function(e){var t=this,n=y_(e);return n.get("owner").next((function(e){return t.Ri(e)?(dv("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):nm.resolve()}))}},{key:"Vi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(pv("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"gi",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=function(){e.ii.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.mi()}))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ni",value:function(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}},{key:"yi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=function(){t.xi();var e=/(?:Version|Mobile)\/1[456]/;!dt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&t.ii.enterRestrictedMode(!0),t.ii.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ci))}},{key:"ki",value:function(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}},{key:"Ci",value:function(e){var t;try{var n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return dv("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return pv("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"xi",value:function(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){pv("Failed to set zombie client id.",e)}}},{key:"Mi",value:function(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch(e){}}},{key:"Di",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"D",value:function(){return im.D()}}]),e}();function y_(e){return Hm(e,"owner")}function g_(e){return Hm(e,"clientMetadata")}function k_(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var b_=function(){function e(t,n,r,i){c(this,e),this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}return h(e,null,[{key:"Li",value:function(t,n){var r,i=Gg(),a=Gg(),o=C(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),w_=function(){function e(){c(this,e),this.qi=!1}return h(e,[{key:"initialize",value:function(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ki(e,t).next((function(a){return a||i.Gi(e,t,r,n)})).next((function(n){return n||i.Qi(e,t)}))}},{key:"Ki",value:function(e,t){var n=this;if(kg(t))return nm.resolve(null);var r=Sg(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Ig(t,null,"F"),r=Sg(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Gg.apply(void 0,(0,s.Z)(i));return n.Ui.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.ji(t,i);return n.zi(t,o,a,r.readTime)?n.Ki(e,Ig(t,null,"F")):n.Wi(e,o,t,r)}))}))})))}))}},{key:"Gi",value:function(e,t,n,r){var i=this;return kg(t)||r.isEqual(Fv.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next((function(a){var o=i.ji(t,a);return i.zi(t,o,n,r)?i.Qi(e,t):(hv()<=Ut.DEBUG&&dv("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ag(t)),i.Wi(e,o,t,Yv(r,-1)))}))}},{key:"ji",value:function(e,t){var n=new Jm(Dg(e));return t.forEach((function(t,r){Ng(e,r)&&(n=n.add(r))})),n}},{key:"zi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Qi",value:function(e,t){return hv()<=Ut.DEBUG&&dv("QueryEngine","Using full collection scan to execute query:",Ag(t)),this.Ui.getDocumentsMatchingQuery(e,t,Qv.min())}},{key:"Wi",value:function(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),__=function(){function e(t,n,r,i){c(this,e),this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new Qm(Rv),this.Yi=new Pg((function(e){return lg(e)}),fg),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}return h(e,[{key:"tr",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t_(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ji)}))}}]),e}();function x_(e,t,n,r){return new __(e,t,n,r)}function S_(e,t){return E_.apply(this,arguments)}function E_(){return E_=Pt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.tr(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Gg(),s=C(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=C(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=C(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=C(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{er:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function I_(e,t){var n=kv(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=nm.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);gv(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Gg(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function T_(e){var t=kv(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Bs.getLastRemoteSnapshotVersion(e)}))}function C_(e,t){var n=kv(e),r=t.snapshotVersion,i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Bs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Bs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(u)?c=c.withResumeToken(iy.EMPTY_BYTE_STRING,Fv.min()).withLastLimboFreeSnapshotVersion(Fv.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Bs.updateTargetData(e,c))}}));var u=Lg(),s=Gg();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(A_(e,a,t.documentUpdates).next((function(e){u=e.nr,s=e.sr}))),!r.isEqual(Fv.min())){var c=n.Bs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return nm.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ji=i,e}))}function A_(e,t,n){var r=Gg(),i=Gg();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Lg();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Fv.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):dv("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{nr:r,sr:i}}))}function N_(e,t){var n=kv(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function O_(e,t){var n=kv(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Bs.getTargetData(e,t).next((function(i){return i?(r=i,nm.resolve(r)):n.Bs.allocateTargetId(e).next((function(i){return r=new Ob(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}function D_(e,t,n){return R_.apply(this,arguments)}function R_(){return R_=Pt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=kv(t),a=i.Ji.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),um(e.t1)){e.next=12;break}throw e.t1;case 12:dv("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ji=i.Ji.remove(n),i.Yi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),R_.apply(this,arguments)}function P_(e,t,n){var r=kv(e),i=Fv.min(),a=Gg();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=kv(e),i=r.Yi.get(n);return void 0!==i?nm.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Sg(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Hi.getDocumentsMatchingQuery(e,t,n?i:Fv.min(),n?a:Gg())})).next((function(e){return F_(r,Og(t),e),{documents:e,ir:a}}))}))}function M_(e,t){var n=kv(e),r=kv(n.Bs),i=n.Ji.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.le(e,t).next((function(e){return e?e.target:null}))}))}function L_(e,t){var n=kv(e),r=n.Xi.get(t)||Fv.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Zi.getAllFromCollectionGroup(e,t,Yv(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return F_(n,t,e),e}))}function F_(e,t,n){var r=e.Xi.get(t)||Fv.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Xi.set(t,r)}function j_(e,t,n,r){return U_.apply(this,arguments)}function U_(){return U_=Pt(Dt().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=kv(t),o=Gg(),u=Lg(),s=C(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.rr(l.metadata.name),l.document&&(o=o.add(f)),(h=n.ur(l)).setReadTime(n.cr(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Zi.newChangeBuffer({trackRemovals:!0}),e.next=7,O_(a,function(e){return Sg(gg(Uv.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return A_(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Bs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Bs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.nr,t.sr)})).next((function(){return t.nr}))}))})));case 9:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function V_(e,t){return B_.apply(this,arguments)}function B_(){return B_=Pt(Dt().mark((function e(t,n){var r,i,a,o=arguments;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Gg(),e.next=3,O_(t,Sg(Vb(n.bundledQuery)));case 3:return i=e.sent,a=kv(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=ab(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.qs.saveNamedQuery(e,n);var o=i.withResumeToken(iy.EMPTY_BYTE_STRING,t);return a.Ji=a.Ji.insert(o.targetId,o),a.Bs.updateTargetData(e,o).next((function(){return a.Bs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Bs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.qs.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}function z_(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function q_(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function W_(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var G_=function(){function e(t,n,r,i){c(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return h(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new wv(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(pv("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),H_=function(){function e(t,n,r){c(this,e),this.targetId=t,this.state=n,this.error=r}return h(e,[{key:"hr",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"ar",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new wv(i.error.code,i.error.message))),a?new e(t,i.state,r):(pv("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),K_=function(){function e(t,n){c(this,e),this.clientId=t,this.activeTargetIds=n}return h(e,null,[{key:"ar",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=Kg(),o=0;i&&o<r.activeTargetIds.length;++o)i=ym(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(pv("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Y_=function(){function e(t,n){c(this,e),this.clientId=t,this.onlineState=n}return h(e,null,[{key:"ar",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(pv("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Z_=function(){function e(){c(this,e),this.activeTargetIds=Kg()}return h(e,[{key:"lr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"dr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"hr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Q_=function(){function e(t,n,r,i,a){c(this,e),this.window=t,this.ii=n,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Qm(Rv),this.started=!1,this.yr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.pr=z_(this.persistenceKey,this.wr),this.Ir=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.gr=this.gr.insert(this.wr,new Z_),this.Tr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Er=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.Ar=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.vr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Rr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this._r)}return h(e,[{key:"start",value:function(){var e=Pt(Dt().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.$i();case 2:t=e.sent,n=C(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.wr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(z_(this.persistenceKey,i)))&&(o=K_.ar(i,a))&&(this.gr=this.gr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Pr(),(u=this.storage.getItem(this.vr))&&(s=this.br(u))&&this.Vr(s),c=C(this.yr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.mr(f)}catch(d){c.e(d)}finally{c.f()}this.yr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Ir,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Sr(this.gr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.gr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Dr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Dr(e,t,n),this.Cr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(W_(this.persistenceKey,e));if(n){var r=H_.ar(e,n);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Nr.dr(e),this.Pr()}},{key:"isLocalQueryTarget",value:function(e){return this.Nr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(W_(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.kr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Cr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Mr(e)}},{key:"notifyBundleLoaded",value:function(e){this.$r(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return dv("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){dv("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){dv("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"mr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(dv("SharedClientState","EVENT",n.key,n.newValue),n.key===this.pr)return void pv("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable(Pt(Dt().mark((function e(){var r,i,a,o,u,s,c;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.Tr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Or(n.key),e.abrupt("return",t.Fr(r,null));case 6:if(!(i=t.Br(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Fr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.Er.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Lr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.qr(a));case 16:e.next=41;break;case 18:if(!t.Ar.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Ur(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Kr(o));case 23:e.next=41;break;case 25:if(n.key!==t.vr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.br(n.newValue))){e.next=30;break}return e.abrupt("return",t.Vr(u));case 30:e.next=41;break;case 32:if(n.key!==t.Ir){e.next=37;break}s=function(e){var t=pm.ct;if(null!=e)try{var n=JSON.parse(e);gv("number"==typeof n),t=n}catch(e){pv("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==pm.ct&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.Rr){e.next=41;break}return c=t.Gr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Qr(e)})));case 41:e.next=44;break;case 43:t.yr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Nr",get:function(){return this.gr.get(this.wr)}},{key:"Pr",value:function(){this.setItem(this.pr,this.Nr.hr())}},{key:"Dr",value:function(e,t,n){var r=new G_(this.currentUser,e,t,n),i=q_(this.persistenceKey,this.currentUser,e);this.setItem(i,r.hr())}},{key:"Cr",value:function(e){var t=q_(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Mr",value:function(e){var t={clientId:this.wr,onlineState:e};this.storage.setItem(this.vr,JSON.stringify(t))}},{key:"kr",value:function(e,t,n){var r=W_(this.persistenceKey,e),i=new H_(e,t,n);this.setItem(r,i.hr())}},{key:"$r",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}},{key:"Or",value:function(e){var t=this.Tr.exec(e);return t?t[1]:null}},{key:"Br",value:function(e,t){var n=this.Or(e);return K_.ar(n,t)}},{key:"Lr",value:function(e,t){var n=this.Er.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return G_.ar(new cv(i),r,t)}},{key:"Ur",value:function(e,t){var n=this.Ar.exec(e),r=Number(n[1]);return H_.ar(r,t)}},{key:"br",value:function(e){return Y_.ar(e)}},{key:"Gr",value:function(e){return JSON.parse(e)}},{key:"qr",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.jr(t.batchId,t.state,t.error));case 2:dv("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Kr",value:function(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}},{key:"Fr",value:function(e,t){var n=this,r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),a=this.Sr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Wr(o,u).then((function(){n.gr=r}))}},{key:"Vr",value:function(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Sr",value:function(e){var t=Kg();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"D",value:function(e){return!(!e||!e.localStorage)}}]),e}(),$_=function(){function e(){c(this,e),this.Hr=new Z_,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return h(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Jr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Hr.dr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Jr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Hr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Hr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Hr=new Z_,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),X_=function(){function e(){c(this,e)}return h(e,[{key:"Yr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),J_=function(){function e(){var t=this;c(this,e),this.Xr=function(){return t.Zr()},this.eo=function(){return t.no()},this.so=[],this.io()}return h(e,[{key:"Yr",value:function(e){this.so.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}},{key:"io",value:function(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}},{key:"Zr",value:function(){dv("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=C(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"no",value:function(){dv("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=C(this.so);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),ex=null;function tx(){return null===ex?ex=268435456+Math.round(2147483648*Math.random()):ex++,"0x"+ex.toString(16)}var nx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},rx=function(){function e(t){c(this,e),this.ro=t.ro,this.oo=t.oo}return h(e,[{key:"uo",value:function(e){this.co=e}},{key:"ao",value:function(e){this.ho=e}},{key:"onMessage",value:function(e){this.lo=e}},{key:"close",value:function(){this.oo()}},{key:"send",value:function(e){this.ro(e)}},{key:"fo",value:function(){this.co()}},{key:"wo",value:function(e){this.ho(e)}},{key:"_o",value:function(e){this.lo(e)}}]),e}(),ix="WebChannelConnection",ax=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r.longPollingOptions=e.longPollingOptions,r}return h(n,[{key:"Ao",value:function(e,t,n,r){var i=tx();return new Promise((function(a,o){var u=new av;u.setWithCredentials(!0),u.listenOnce(ev.COMPLETE,(function(){try{switch(u.getLastErrorCode()){case Jp.NO_ERROR:var t=u.getResponseJson();dv(ix,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Jp.TIMEOUT:dv(ix,"RPC '".concat(e,"' ").concat(i," timed out")),o(new wv(bv.DEADLINE_EXCEEDED,"Request time out"));break;case Jp.HTTP_ERROR:var n=u.getStatus();if(dv(ix,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson();Array.isArray(r)&&(r=r[0]);var s=null==r?void 0:r.error;if(s&&s.status&&s.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(bv).indexOf(t)>=0?t:bv.UNKNOWN}(s.status);o(new wv(c,s.message))}else o(new wv(bv.UNKNOWN,"Server responded with status "+u.getStatus()))}else o(new wv(bv.UNAVAILABLE,"Connection failed."));break;default:yv()}}finally{dv(ix,"RPC '".concat(e,"' ").concat(i," completed."))}}));var s=JSON.stringify(r);dv(ix,"RPC '".concat(e,"' ").concat(i," sending request:"),r),u.send(t,"POST",s,n,15)}))}},{key:"Ro",value:function(e,t,n){var r=tx(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=$p(),o=Xp(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},s=this.longPollingOptions.timeoutSeconds;void 0!==s&&(u.longPollingTimeout=Math.round(1e3*s)),this.useFetchStreams&&(u.xmlHttpFactory=new rv({})),this.Eo(u.initMessageHeaders,t,n),u.encodeInitMessageHeaders=!0;var c=i.join("");dv(ix,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),u);var l=a.createWebChannel(c,u),f=!1,h=!1,d=new rx({ro:function(t){h?dv(ix,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(dv(ix,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),l.open(),f=!0),dv(ix,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),l.send(t))},oo:function(){return l.close()}}),p=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return p(l,iv.EventType.OPEN,(function(){h||dv(ix,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(l,iv.EventType.CLOSE,(function(){h||(h=!0,dv(ix,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())})),p(l,iv.EventType.ERROR,(function(t){h||(h=!0,vv(ix,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new wv(bv.UNAVAILABLE,"The operation could not be completed")))})),p(l,iv.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];gv(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){dv(ix,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var u=o.status,s=function(e){var t=Sk[e];if(void 0!==t)return Rk(t)}(u),c=o.message;void 0===s&&(s=bv.INTERNAL,c="Unknown error status: "+u+" with message "+o.message),h=!0,d.wo(new wv(s,c)),l.close()}else dv(ix,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}})),p(o,tv.STAT_EVENT,(function(t){t.stat===nv.PROXY?dv(ix,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===nv.NOPROXY&&dv(ix,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.fo()}),0),d}}]),n}(function(){function e(t){c(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return h(e,[{key:"po",get:function(){return!1}},{key:"Io",value:function(e,t,n,r,i){var a=tx(),o=this.To(e,t);dv("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var u={};return this.Eo(u,r,i),this.Ao(e,o,u,n).then((function(t){return dv("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw vv("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.Io(e,t,n,r,i)}},{key:"Eo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+lv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"To",value:function(e,t){var n=nx[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}]),e}());function ox(){return"undefined"!=typeof window?window:null}function ux(){return"undefined"!=typeof document?document:null}function sx(e){return new eb(e,!0)}var cx=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;c(this,e),this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}return h(e,[{key:"reset",value:function(){this.So=0}},{key:"xo",value:function(){this.So=this.Vo}},{key:"No",value:function(e){var t=this;this.cancel();var n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&dv("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,(function(){return t.Co=Date.now(),e()})),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}},{key:"Mo",value:function(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}},{key:"cancel",value:function(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"ko",value:function(){return(Math.random()-.5)*this.So}}]),e}(),lx=function(){function e(t,n,r,i,a,o,u,s){c(this,e),this.ii=t,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new cx(t,n)}return h(e,[{key:"Uo",value:function(){return 1===this.state||5===this.state||this.Ko()}},{key:"Ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Go()}},{key:"stop",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Uo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Qo",value:function(){this.state=0,this.qo.reset()}},{key:"jo",value:function(){var e=this;this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,(function(){return e.zo()})))}},{key:"Wo",value:function(e){this.Ho(),this.stream.send(e)}},{key:"zo",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ho",value:function(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}},{key:"Jo",value:function(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"close",value:function(){var e=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==t?this.qo.reset():n&&n.code===bv.RESOURCE_EXHAUSTED?(pv(n.toString()),pv("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===bv.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.ao(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Yo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,a.Z)(t,2),i=r[0],o=r[1];e.Fo===n&&e.Zo(i,o)}),(function(n){t((function(){var t=new wv(bv.UNKNOWN,"Fetching auth token failed: "+n.message);return e.tu(t)}))}))}},{key:"Zo",value:function(e,t){var n=this,r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo((function(){r((function(){return n.state=2,n.Lo=n.ii.enqueueAfterDelay(n.Oo,1e4,(function(){return n.Ko()&&(n.state=3),Promise.resolve()})),n.listener.uo()}))})),this.stream.ao((function(e){r((function(){return n.tu(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Go",value:function(){var e=this;this.state=5,this.qo.No(Pt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"tu",value:function(e){return dv("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Xo",value:function(e){var t=this;return function(n){t.ii.enqueueAndForget((function(){return t.Fo===e?n():(dv("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),fx=function(e){p(n,e);var t=k(n);function n(e,r,i,a,o,u){var s;return c(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s}return h(n,[{key:"eu",value:function(e,t){return this.connection.Ro("Listen",e,t)}},{key:"onMessage",value:function(e){this.qo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:yv()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(gv(void 0===t||"string"==typeof t),iy.fromBase64String(t||"")):(gv(void 0===t||t instanceof Uint8Array),iy.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?bv.UNKNOWN:Rk(e.code);return new wv(t,e.message||"")}(o);n=new Hk(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=cb(e,s.document.name),l=ab(s.document.updateTime),f=s.document.createTime?ab(s.document.createTime):Fv.min(),h=new My({mapValue:{fields:s.document.fields}}),d=Fy.newFoundDocument(c,l,f,h),p=s.targetIds||[],v=s.removedTargetIds||[];n=new Wk(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=cb(e,m.document),g=m.readTime?ab(m.readTime):Fv.min(),k=Fy.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Wk([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=cb(e,w.document),x=w.removedTargetIds||[];n=new Wk([],x,_,null)}else{if(!("filter"in t))return yv();t.filter;var S=t.filter;S.targetId;var E=S.count,I=void 0===E?0:E,T=S.unchangedNames,C=new Ok(I,T),A=S.targetId;n=new Gk(A,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Fv.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Fv.min():t.readTime?ab(t.readTime):Fv.min()}(e);return this.listener.nu(t,n)}},{key:"su",value:function(e){var t={};t.database=hb(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=hg(r)?{documents:kb(e,r)}:{query:bb(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=rb(e,t.resumeToken);var i=tb(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(Fv.min())>0){n.readTime=nb(e,t.snapshotVersion.toTimestamp());var a=tb(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yv()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}},{key:"iu",value:function(e){var t={};t.database=hb(this.serializer),t.removeTarget=e,this.Wo(t)}}]),n}(lx),hx=function(e){p(n,e);var t=k(n);function n(e,r,i,a,o,u){var s;return c(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).serializer=o,s.ru=!1,s}return h(n,[{key:"ou",get:function(){return this.ru}},{key:"start",value:function(){this.ru=!1,this.lastStreamToken=void 0,lr(v(n.prototype),"start",this).call(this)}},{key:"Yo",value:function(){this.ru&&this.uu([])}},{key:"eu",value:function(e,t){return this.connection.Ro("Write",e,t)}},{key:"onMessage",value:function(e){if(gv(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();var t=function(e,t){return e&&e.length>0?(gv(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ab(e.updateTime):ab(t);return n.isEqual(Fv.min())&&(n=ab(t)),new lk(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ab(e.commitTime);return this.listener.cu(n,t)}return gv(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}},{key:"hu",value:function(){var e={};e.database=hb(this.serializer),this.Wo(e)}},{key:"uu",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return yb(t.serializer,e)}))};this.Wo(n)}}]),n}(lx),dx=function(e){p(n,e);var t=k(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.lu=!1,o}return h(n,[{key:"fu",value:function(){if(this.lu)throw new wv(bv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Io",value:function(e,t,n){var r=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var o=(0,a.Z)(i,2),u=o[0],s=o[1];return r.connection.Io(e,t,n,u,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===bv.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new wv(bv.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r){var i=this;return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var u=(0,a.Z)(o,2),s=u[0],c=u[1];return i.connection.vo(e,t,n,s,c,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===bv.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new wv(bv.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.lu=!0}}]),n}(function(){return h((function e(){c(this,e)}))}());var px=function(){function e(t,n){c(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}return h(e,[{key:"gu",value:function(){var e=this;0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e._u=null,e.pu("Backend didn't respond within 10 seconds."),e.yu("Offline"),Promise.resolve()})))}},{key:"Iu",value:function(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}},{key:"set",value:function(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}},{key:"yu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"pu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(pv(t),this.mu=!1):dv("OnlineStateTracker",t)}},{key:"Tu",value:function(){null!==this._u&&(this._u.cancel(),this._u=null)}}]),e}(),vx=h((function e(t,n,r,i,a){var o=this;c(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr((function(e){r.enqueueAndForget(Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Ix(o),!e.t0){e.next=5;break}return dv("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=kv(t)).vu.add(4),e.next=4,gx(n);case 4:return n.bu.set("Unknown"),n.vu.delete(4),e.next=8,mx(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.bu=new px(r,i)}));function mx(e){return yx.apply(this,arguments)}function yx(){return(yx=Pt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ix(t)){e.next=18;break}n=C(t.Ru),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function gx(e){return kx.apply(this,arguments)}function kx(){return(kx=Pt(Dt().mark((function e(t){var n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=C(t.Ru),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function bx(e,t){var n=kv(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),Ex(n)?Sx(n):tS(n).Ko()&&_x(n,t))}function wx(e,t){var n=kv(e),r=tS(n);n.Au.delete(t),r.Ko()&&xx(n,t),0===n.Au.size&&(r.Ko()?r.jo():Ix(n)&&n.bu.set("Unknown"))}function _x(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Fv.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}tS(e).su(t)}function xx(e,t){e.Vu.qt(t),tS(e).iu(t)}function Sx(e){e.Vu=new Yk({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},le:function(t){return e.Au.get(t)||null},ue:function(){return e.datastore.serializer.databaseId}}),tS(e).start(),e.bu.gu()}function Ex(e){return Ix(e)&&!tS(e).Uo()&&e.Au.size>0}function Ix(e){return 0===kv(e).vu.size}function Tx(e){e.Vu=void 0}function Cx(e){return Ax.apply(this,arguments)}function Ax(){return(Ax=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Au.forEach((function(e,n){_x(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nx(e,t){return Ox.apply(this,arguments)}function Ox(){return(Ox=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Tx(t),Ex(t)?(t.bu.Iu(n),Sx(t)):t.bu.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dx(e,t,n){return Rx.apply(this,arguments)}function Rx(){return Rx=Pt(Dt().mark((function e(t,n,r){var i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.bu.set("Online"),!(n instanceof Hk&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Pt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=C(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.Au.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Au.delete(o),t.Vu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),dv("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Px(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Wk?t.Vu.Ht(n):n instanceof Gk?t.Vu.ne(n):t.Vu.Xt(n),r.isEqual(Fv.min())){e.next=29;break}return e.prev=14,e.next=17,T_(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Vu.ce(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.Au.get(t);if(r){e.Au.set(t,r.withResumeToken(iy.EMPTY_BYTE_STRING,r.snapshotVersion)),xx(e,t);var i=new Ob(r.target,t,n,r.sequenceNumber);_x(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),dv("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Px(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Rx.apply(this,arguments)}function Px(e,t,n){return Mx.apply(this,arguments)}function Mx(){return(Mx=Pt(Dt().mark((function e(t,n,r){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(um(n)){e.next=2;break}throw n;case 2:return t.vu.add(1),e.next=5,gx(t);case 5:t.bu.set("Offline"),r||(r=function(){return T_(t.localStore)}),t.asyncQueue.enqueueRetryable(Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dv("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.vu.delete(1),e.next=6,mx(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lx(e,t){return t().catch((function(n){return Px(e,n,t)}))}function Fx(e){return jx.apply(this,arguments)}function jx(){return(jx=Pt(Dt().mark((function e(t){var n,r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=kv(t),r=nS(n),i=n.Eu.length>0?n.Eu[n.Eu.length-1].batchId:-1;case 2:if(!Ux(n)){e.next=19;break}return e.prev=3,e.next=6,N_(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Eu.length&&r.jo(),e.abrupt("break",19);case 10:i=a.batchId,Vx(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Px(n,e.t0);case 17:e.next=2;break;case 19:Bx(n)&&zx(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Ux(e){return Ix(e)&&e.Eu.length<10}function Vx(e,t){e.Eu.push(t);var n=nS(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function Bx(e){return Ix(e)&&!nS(e).Uo()&&e.Eu.length>0}function zx(e){nS(e).start()}function qx(e){return Wx.apply(this,arguments)}function Wx(){return(Wx=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:nS(t).hu();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gx(e){return Hx.apply(this,arguments)}function Hx(){return(Hx=Pt(Dt().mark((function e(t){var n,r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=nS(t),r=C(t.Eu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.uu(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kx(e,t,n){return Yx.apply(this,arguments)}function Yx(){return(Yx=Pt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Eu.shift(),a=Ak.from(i,n,r),e.next=3,Lx(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Fx(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zx(e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=Pt(Dt().mark((function e(t,n){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&nS(t).ou,!e.t0){e.next=4;break}return e.next=4,function(){var e=Pt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Dk(i=n.code)||i===bv.ABORTED){e.next=7;break}return r=t.Eu.shift(),nS(t).Qo(),e.next=5,Lx(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Fx(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Bx(t)&&zx(t);case 5:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}function $x(e,t){return Xx.apply(this,arguments)}function Xx(){return(Xx=Pt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=kv(t)).asyncQueue.verifyOperationInProgress(),dv("RemoteStore","RemoteStore received new credentials"),i=Ix(r),r.vu.add(3),e.next=6,gx(r);case 6:return i&&r.bu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.vu.delete(3),e.next=12,mx(r);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jx(e,t){return eS.apply(this,arguments)}function eS(){return(eS=Pt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kv(t),!n){e.next=7;break}return r.vu.delete(2),e.next=5,mx(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.vu.add(2),e.next=12,gx(r);case 12:r.bu.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tS(e){return e.Su||(e.Su=function(e,t,n){var r=kv(e);return r.fu(),new fx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:Cx.bind(null,e),ao:Nx.bind(null,e),nu:Dx.bind(null,e)}),e.Ru.push(function(){var t=Pt(Dt().mark((function t(n){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Su.Qo(),Ex(e)?Sx(e):e.bu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Su.stop();case 6:Tx(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Su}function nS(e){return e.Du||(e.Du=function(e,t,n){var r=kv(e);return r.fu(),new hx(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:qx.bind(null,e),ao:Zx.bind(null,e),au:Gx.bind(null,e),cu:Kx.bind(null,e)}),e.Ru.push(function(){var t=Pt(Dt().mark((function t(n){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Du.Qo(),t.next=4,Fx(e);case 4:t.next=9;break;case 6:return t.next=8,e.Du.stop();case 8:e.Eu.length>0&&(dv("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Du}var rS=function(){function e(t,n,r,i,a){c(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new _v,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return h(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wv(bv.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function iS(e,t){if(pv("AsyncQueue","".concat(t,": ").concat(e)),um(e))return new wv(bv.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var aS=function(){function e(t){c(this,e),this.comparator=t?function(e,n){return t(e,n)||zv.comparator(e.key,n.key)}:function(e,t){return zv.comparator(e.key,t.key)},this.keyedMap=jg(),this.sortedSet=new Qm(this.comparator)}return h(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),oS=function(){function e(){c(this,e),this.Cu=new Qm(zv.comparator)}return h(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):yv():this.Cu=this.Cu.insert(t,e)}},{key:"xu",value:function(){var e=[];return this.Cu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),uS=function(){function e(t,n,r,i,a,o,u,s,l){c(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s,this.hasCachedResults=l}return h(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,aS.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),sS=h((function e(){c(this,e),this.Nu=void 0,this.listeners=[]})),cS=h((function e(){c(this,e),this.queries=new Pg((function(e){return Cg(e)}),Tg),this.onlineState="Unknown",this.ku=new Set}));function lS(e,t){return fS.apply(this,arguments)}function fS(){return fS=Pt(Dt().mark((function e(t,n){var r,i,a,o,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kv(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new sS),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Nu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=iS(e.t0,"Initialization of query '".concat(Ag(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Mu(r.onlineState),o.Nu&&n.$u(o.Nu)&&mS(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),fS.apply(this,arguments)}function hS(e,t){return dS.apply(this,arguments)}function dS(){return dS=Pt(Dt().mark((function e(t,n){var r,i,a,o,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kv(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),dS.apply(this,arguments)}function pS(e,t){var n,r=kv(e),i=!1,a=C(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=C(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.$u(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Nu=o}}}catch(f){a.e(f)}finally{a.f()}i&&mS(r)}function vS(e,t,n){var r=kv(e),i=r.queries.get(t);if(i){var a,o=C(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function mS(e){e.ku.forEach((function(e){e.next()}))}var yS=function(){function e(t,n,r){c(this,e),this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}return h(e,[{key:"$u",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=C(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new uS(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),a=!0):this.qu(e,this.onlineState)&&(this.Uu(e),a=!0),this.Bu=e,a}},{key:"onError",value:function(e){this.Ou.error(e)}},{key:"Mu",value:function(e){this.onlineState=e;var t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}},{key:"qu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Lu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Uu",value:function(e){e=uS.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}]),e}(),gS=function(){function e(t,n){c(this,e),this.Gu=t,this.byteLength=n}return h(e,[{key:"Qu",value:function(){return"metadata"in this.Gu}}]),e}(),kS=function(){function e(t){c(this,e),this.serializer=t}return h(e,[{key:"rr",value:function(e){return cb(this.serializer,e)}},{key:"ur",value:function(e){return e.metadata.exists?vb(this.serializer,e.document,!1):Fy.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}},{key:"cr",value:function(e){return ab(e)}}]),e}(),bS=function(){function e(t,n,r){c(this,e),this.ju=t,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=wS(t)}return h(e,[{key:"zu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;var n=Uv.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Wu",value:function(e){var t,n=new Map,r=new kS(this.serializer),i=C(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.rr(a.metadata.name),s=C(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Gg()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Pt(Dt().mark((function e(){var t,n,r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j_(this.localStore,new kS(this.serializer),this.documents,this.ju.id);case 2:t=e.sent,n=this.Wu(this.documents),r=C(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,V_(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Hu:this.collectionGroups,Ju:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function wS(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var _S=h((function e(t){c(this,e),this.key=t})),xS=h((function e(t){c(this,e),this.key=t})),SS=function(){function e(t,n){c(this,e),this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Gg(),this.mutatedKeys=Gg(),this.tc=Dg(t),this.ec=new aS(this.tc)}return h(e,[{key:"nc",get:function(){return this.Yu}},{key:"sc",value:function(e,t){var n=this,r=t?t.ic:new oS,i=t?t.ec:this.ec,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=Ng(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.rc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.tc(f,s)>0||c&&n.tc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{ec:o,ic:r,zi:u,mutatedKeys:a}}},{key:"rc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;var a=e.ic.xu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yv()}};return n(e)-n(t)}(e.type,t.type)||r.tc(e.doc,t.doc)})),this.oc(n);var o=t?this.uc():[],u=0===this.Zu.size&&this.current?1:0,s=u!==this.Xu;return this.Xu=u,0!==a.length||s?{snapshot:new uS(this.query,e.ec,i,a,e.mutatedKeys,0===u,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}},{key:"Mu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new oS,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}},{key:"ac",value:function(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}},{key:"oc",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Yu=t.Yu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Yu=t.Yu.delete(e)})),this.current=e.current)}},{key:"uc",value:function(){var e=this;if(!this.current)return[];var t=this.Zu;this.Zu=Gg(),this.ec.forEach((function(t){e.ac(t.key)&&(e.Zu=e.Zu.add(t.key))}));var n=[];return t.forEach((function(t){e.Zu.has(t)||n.push(new xS(t))})),this.Zu.forEach((function(e){t.has(e)||n.push(new _S(e))})),n}},{key:"hc",value:function(e){this.Yu=e.ir,this.Zu=Gg();var t=this.sc(e.documents);return this.applyChanges(t,!0)}},{key:"lc",value:function(){return uS.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}]),e}(),ES=h((function e(t,n,r){c(this,e),this.query=t,this.targetId=n,this.view=r})),IS=h((function e(t){c(this,e),this.key=t,this.fc=!1})),TS=function(){function e(t,n,r,i,a,o){c(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Pg((function(e){return Cg(e)}),Tg),this._c=new Map,this.mc=new Set,this.gc=new Qm(zv.comparator),this.yc=new Map,this.Ic=new i_,this.Tc={},this.Ec=new Map,this.Ac=Rw.Mn(),this.onlineState="Unknown",this.vc=void 0}return h(e,[{key:"isPrimaryClient",get:function(){return!0===this.vc}}]),e}();function CS(e,t){return AS.apply(this,arguments)}function AS(){return AS=Pt(Dt().mark((function e(t,n){var r,i,a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=wE(t),!(o=r.wc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.lc(),e.next=15;break;case 6:return e.next=8,O_(r.localStore,Sg(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=13,NS(r,n,i,"current"===s,u.resumeToken);case 13:a=e.sent,r.isPrimaryClient&&bx(r.remoteStore,u);case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}function NS(e,t,n,r,i){return OS.apply(this,arguments)}function OS(){return OS=Pt(Dt().mark((function e(t,n,r,i,a){var o,u,s,c,l,f;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Rc=function(e,n,r){return function(){var e=Pt(Dt().mark((function e(t,n,r,i){var a,o,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.sc(r),e.t0=a.zi,!e.t0){e.next=6;break}return e.next=5,P_(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.sc(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",($S(t,n.targetId,u.cc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,P_(t.localStore,n,!0);case 3:return o=e.sent,u=new SS(n,o.ir),s=u.sc(o.documents),c=qk.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=u.applyChanges(s,t.isPrimaryClient,c),$S(t,r,l.cc),f=new ES(n,r,u),e.abrupt("return",(t.wc.set(n,f),t._c.has(r)?t._c.get(r).push(n):t._c.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function DS(e,t){return RS.apply(this,arguments)}function RS(){return(RS=Pt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=kv(t),i=r.wc.get(n),!((a=r._c.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r._c.set(i.targetId,a.filter((function(e){return!Tg(e,n)}))),void r.wc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,D_(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),wx(r.remoteStore,i.targetId),ZS(r,i.targetId)})).catch(em);case 9:e.next=14;break;case 11:return ZS(r,i.targetId),e.next=14,D_(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function PS(e,t,n){return MS.apply(this,arguments)}function MS(){return MS=Pt(Dt().mark((function e(t,n,r){var i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=_E(t),e.prev=1,e.next=4,function(e,t){var n,r,i=kv(e),a=Lv.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Gg());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=Lg(),s=Gg();return i.Zi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=C(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=yk(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new bk(c.key,l,Ly(l.value.mapValue),fk.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Ug(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Tc[e.currentUser.toKey()];r||(r=new Qm(Rv)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,eE(i,a.changes);case 9:return e.next=11,Fx(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=iS(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),MS.apply(this,arguments)}function LS(e,t){return FS.apply(this,arguments)}function FS(){return(FS=Pt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv(t),e.prev=1,e.next=4,C_(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.yc.get(t);n&&(gv(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.fc=!0:e.modifiedDocuments.size>0?gv(n.fc):e.removedDocuments.size>0&&(gv(n.fc),n.fc=!1))})),e.next=8,eE(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,em(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function jS(e,t,n){var r=kv(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wc.forEach((function(e,n){var r=n.view.Mu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=kv(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=C(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Mu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&mS(n)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function US(e,t,n){return VS.apply(this,arguments)}function VS(){return VS=Pt(Dt().mark((function e(t,n,r){var i,a,o,u,s,c;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=kv(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.yc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Qm(zv.comparator)).insert(o,Fy.newNoDocument(o,Fv.min())),s=Gg().add(o),c=new zk(Fv.min(),new Map,new Qm(Rv),u,s),e.next=9,LS(i,c);case 9:i.gc=i.gc.remove(o),i.yc.delete(n),JS(i),e.next=16;break;case 14:return e.next=16,D_(i.localStore,n,!1).then((function(){return ZS(i,n,r)})).catch(em);case 16:case"end":return e.stop()}}),e)}))),VS.apply(this,arguments)}function BS(e,t){return zS.apply(this,arguments)}function zS(){return(zS=Pt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv(t),i=n.batch.batchId,e.prev=1,e.next=4,I_(r.localStore,n);case 4:return a=e.sent,YS(r,i,null),KS(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,eE(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,em(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function qS(e,t,n){return WS.apply(this,arguments)}function WS(){return(WS=Pt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kv(t),e.prev=1,e.next=4,function(e,t){var n=kv(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return gv(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,YS(i,n,r),KS(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,eE(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,em(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function GS(e,t){return HS.apply(this,arguments)}function HS(){return(HS=Pt(Dt().mark((function e(t,n){var r,i,a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ix((r=kv(t)).remoteStore)||dv("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=kv(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Ec.get(i)||[]).push(n),r.Ec.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=iS(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function KS(e,t){(e.Ec.get(t)||[]).forEach((function(e){e.resolve()})),e.Ec.delete(t)}function YS(e,t,n){var r=kv(e),i=r.Tc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function ZS(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=C(e._c.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wc.delete(a),n&&e.dc.Pc(a,n)}}catch(o){i.e(o)}finally{i.f()}e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach((function(t){e.Ic.containsKey(t)||QS(e,t)}))}function QS(e,t){e.mc.delete(t.path.canonicalString());var n=e.gc.get(t);null!==n&&(wx(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),JS(e))}function $S(e,t,n){var r,i=C(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof _S?(e.Ic.addReference(a.key,t),XS(e,a)):a instanceof xS?(dv("SyncEngine","Document no longer in limbo: "+a.key),e.Ic.removeReference(a.key,t),e.Ic.containsKey(a.key)||QS(e,a.key)):yv()}}catch(o){i.e(o)}finally{i.f()}}function XS(e,t){var n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(dv("SyncEngine","New document in limbo: "+n),e.mc.add(r),JS(e))}function JS(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){var t=e.mc.values().next().value;e.mc.delete(t);var n=new zv(Uv.fromString(t)),r=e.Ac.next();e.yc.set(r,new IS(n)),e.gc=e.gc.insert(n,r),bx(e.remoteStore,new Ob(Sg(gg(n.path)),r,"TargetPurposeLimboResolution",pm.ct))}}function eE(e,t,n){return tE.apply(this,arguments)}function tE(){return tE=Pt(Dt().mark((function e(t,n,r){var i,a,o,u;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=kv(t),a=[],o=[],u=[],e.t0=i.wc.isEmpty(),e.t0){e.next=9;break}return i.wc.forEach((function(e,t){u.push(i.Rc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=b_.Li(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.dc.nu(a),e.next=9,function(){var e=Pt(Dt().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return nm.forEach(n,(function(t){return nm.forEach(t.Fi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return nm.forEach(t.Bi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),um(e.t0)){e.next=10;break}throw e.t0;case 10:dv("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=C(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ji.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ji=r.Ji.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}function nE(e,t){return rE.apply(this,arguments)}function rE(){return(rE=Pt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=kv(t)).currentUser.isEqual(n)){e.next=11;break}return dv("SyncEngine","User change. New user:",n.toKey()),e.next=5,S_(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ec.forEach((function(e){e.forEach((function(e){e.reject(new wv(bv.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ec.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,eE(r,i.er);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iE(e,t){var n=kv(e),r=n.yc.get(t);if(r&&r.fc)return Gg().add(r.key);var i=Gg(),a=n._c.get(t);if(!a)return i;var o,u=C(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.wc.get(s);i=i.unionWith(c.view.nc)}}catch(l){u.e(l)}finally{u.f()}return i}function aE(e,t){return oE.apply(this,arguments)}function oE(){return(oE=Pt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv(t),e.next=3,P_(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.hc(i),e.abrupt("return",(r.isPrimaryClient&&$S(r,n.targetId,a.cc),a));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uE(e,t){return sE.apply(this,arguments)}function sE(){return(sE=Pt(Dt().mark((function e(t,n){var r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv(t),e.abrupt("return",L_(r.localStore,n).then((function(e){return eE(r,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cE(e,t,n,r){return lE.apply(this,arguments)}function lE(){return lE=Pt(Dt().mark((function e(t,n,r,i){var a,o;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=kv(t),e.next=3,function(e,t){var n=kv(e),r=kv(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Sn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):nm.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Fx(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(YS(a,n,i||null),KS(a,n),function(e,t){kv(kv(e).mutationQueue).Cn(t)}(a.localStore,n)):yv();case 11:return e.next=13,eE(a,o);case 13:e.next=16;break;case 15:dv("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(e,t){return hE.apply(this,arguments)}function hE(){return(hE=Pt(Dt().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wE(r=kv(t)),_E(r),!0!==n||!0===r.vc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,dE(r,i.toArray());case 5:return a=e.sent,r.vc=!0,e.next=9,Jx(r.remoteStore,!0);case 9:o=C(a);try{for(o.s();!(u=o.n()).done;)s=u.value,bx(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.vc){e.next=25;break}return c=[],l=Promise.resolve(),r._c.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return ZS(r,t),D_(r.localStore,t,!0)})),wx(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,dE(r,c);case 21:return function(e){var t=kv(e);t.yc.forEach((function(e,n){wx(t.remoteStore,n)})),t.Ic.Ts(),t.yc=new Map,t.gc=new Qm(zv.comparator)}(r),r.vc=!1,e.next=25,Jx(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dE(e,t,n){return pE.apply(this,arguments)}function pE(){return pE=Pt(Dt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=kv(t),a=[],o=[],u=C(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i._c.get(c))||0===f.length){e.next=34;break}return e.next=11,O_(i.localStore,Sg(f[0]));case 11:l=e.sent,h=C(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.wc.get(p),e.next=20,aE(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,M_(i.localStore,c);case 36:return y=e.sent,e.next=39,O_(i.localStore,y);case 39:return l=e.sent,e.next=42,NS(i,vE(y),c,!1,l.resumeToken);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.dc.nu(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),pE.apply(this,arguments)}function vE(e){return yg(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function mE(e){var t=kv(e);return kv(kv(t.localStore).persistence).$i()}function yE(e,t,n,r){return gE.apply(this,arguments)}function gE(){return gE=Pt(Dt().mark((function e(t,n,r,i){var a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=kv(t)).vc){e.next=3;break}return e.abrupt("return",void dv("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a._c.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,L_(a.localStore,Og(o[0]));case 10:return u=e.sent,s=zk.createSynthesizedRemoteEventForCurrentChange(n,"current"===r,iy.EMPTY_BYTE_STRING),e.next=14,eE(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,D_(a.localStore,n,!0);case 17:return ZS(a,n,i),e.abrupt("break",20);case 19:yv();case 20:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t,n){return bE.apply(this,arguments)}function bE(){return(bE=Pt(Dt().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=wE(t)).vc){e.next=45;break}a=C(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i._c.has(u)){e.next=10;break}return dv("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,M_(i.localStore,u);case 12:return s=e.sent,e.next=15,O_(i.localStore,s);case 15:return c=e.sent,e.next=18,NS(i,vE(s),c.targetId,!1,c.resumeToken);case 18:bx(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=C(r),e.prev=30,h=Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i._c.has(t),!e.t0){e.next=5;break}return e.next=5,D_(i.localStore,t,!1).then((function(){wx(i.remoteStore,t),ZS(i,t)})).catch(em);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function wE(e){var t=kv(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=LS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=iE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=US.bind(null,t),t.dc.nu=pS.bind(null,t.eventManager),t.dc.Pc=vS.bind(null,t.eventManager),t}function _E(e){var t=kv(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=BS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qS.bind(null,t),t}function xE(e,t,n){var r=kv(e);(function(){var e=Pt(Dt().mark((function e(t,n,r){var i,a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=kv(e),r=ab(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.qs.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(wS(i)),a=new bS(i,t.localStore,n.serializer),e.next=15,n.bc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.zu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.bc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,eE(t,s.Ju,void 0);case 31:return e.next=33,function(e,t){var n=kv(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.qs.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Hu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(vv("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var SE=function(){function e(){c(this,e),this.synchronizeTabs=!1}return h(e,[{key:"initialize",value:function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=sx(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return x_(this.persistence,new w_,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new l_(h_.zs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new $_}},{key:"terminate",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),EE=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).Vc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return h(n,[{key:"initialize",value:function(){var e=Pt(Dt().mark((function e(t){var r=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr(v(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Vc.initialize(this,t);case 4:return e.next=6,_E(this.Vc.syncEngine);case 6:return e.next=8,Fx(this.Vc.remoteStore);case 8:return e.next=10,this.persistence.Ii((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createLocalStore",value:function(e){return x_(this.persistence,new w_,e.initialUser,this.serializer)}},{key:"createGarbageCollectionScheduler",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new Vw(n,e.asyncQueue,t)}},{key:"createIndexBackfillerScheduler",value:function(e,t){var n=new dm(t,this.persistence);return new hm(e.asyncQueue,n)}},{key:"createPersistence",value:function(e){var t=k_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ew.withCacheSize(this.cacheSizeBytes):Ew.DEFAULT;return new m_(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ox(),ux(),this.serializer,this.sharedClientState,!!this.forceOwnership)}},{key:"createSharedClientState",value:function(e){return new $_}}]),n}(SE),IE=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r,!1)).Vc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return h(n,[{key:"initialize",value:function(){var e=Pt(Dt().mark((function e(t){var r,i=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,lr(v(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Vc.syncEngine,e.t0=this.sharedClientState instanceof Q_,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={jr:cE.bind(null,r),zr:yE.bind(null,r),Wr:kE.bind(null,r),$i:mE.bind(null,r),Qr:uE.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ii(function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fE(i.Vc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createSharedClientState",value:function(e){var t=ox();if(!Q_.D(t))throw new wv(bv.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=k_(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Q_(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(EE),TE=function(){function e(){c(this,e)}return h(e,[{key:"initialize",value:function(){var e=Pt(Dt().mark((function e(t,n){var r=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return jS(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=nE.bind(null,this.syncEngine),e.next=12,Jx(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new cS}},{key:"createDatastore",value:function(e){var t,n=sx(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new ax(t));return function(e,t,n,r){return new dx(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return jS(o.syncEngine,e,0)},a=J_.D()?new J_:new X_,new vx(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new TS(e,t,n,r,i,a);return o&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=kv(t),dv("RemoteStore","RemoteStore shutting down."),n.vu.add(5),e.next=5,gx(n);case 5:n.Pu.shutdown(),n.bu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function CE(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Pt(Dt().mark((function r(){var i;return Dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.resolve()}}var AE=function(){function e(t){c(this,e),this.observer=t,this.muted=!1}return h(e,[{key:"next",value:function(e){this.observer.next&&this.Sc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Sc(this.observer.error,e):pv("Uncaught Error in snapshot listener:",e.toString())}},{key:"Dc",value:function(){this.muted=!0}},{key:"Sc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),NE=function(){function e(t,n){var r=this;c(this,e),this.Cc=t,this.serializer=n,this.metadata=new _v,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then((function(e){e&&e.Qu()?r.metadata.resolve(e.Gu.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.Gu))))}),(function(e){return r.metadata.reject(e)}))}return h(e,[{key:"close",value:function(){return this.Cc.cancel()}},{key:"getMetadata",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"bc",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Nc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Nc",value:function(){var e=Pt(Dt().mark((function e(){var t,n,r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.kc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.xc.decode(t),r=Number(n),isNaN(r)&&this.Mc("length string (".concat(n,") is not valid number")),e.next=9,this.$c(r);case 9:return i=e.sent,e.abrupt("return",new gS(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"kc",value:function(){var e=Pt(Dt().mark((function e(){var t,n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Oc()<0)){e.next=7;break}return e.next=3,this.Fc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Oc())<0&&this.Mc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$c",value:function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Fc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Mc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mc",value:function(e){throw this.Cc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Fc",value:function(){var e=Pt(Dt().mark((function e(){var t,n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Cc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),OE=function(){function e(t){c(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return h(e,[{key:"lookup",value:function(){var e=Pt(Dt().mark((function e(t){var n,r=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new wv(bv.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Pt(Dt().mark((function e(t,n){var r,i,a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv(t),i=hb(r.serializer)+"/documents",a={documents:n.map((function(e){return sb(r.serializer,e)}))},e.next=5,r.vo("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=mb(r.serializer,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());gv(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new Ik(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Pt(Dt().mark((function e(){var t,n=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=zv.fromPath(t);n.mutations.push(new Tk(r,n.precondition(r)))})),e.next=7,function(){var e=Pt(Dt().mark((function e(t,n){var r,i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=kv(t),i=hb(r.serializer)+"/documents",a={writes:n.map((function(e){return yb(r.serializer,e)}))},e.next=3,r.Io("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw yv();t=Fv.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new wv(bv.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Fv.min())?fk.exists(!1):fk.updateTime(t):fk.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Fv.min()))throw new wv(bv.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fk.updateTime(t)}return fk.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),DE=function(){function e(t,n,r,i,a){c(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Bc=r.maxAttempts,this.qo=new cx(this.asyncQueue,"transaction_retry")}return h(e,[{key:"run",value:function(){this.Bc-=1,this.Lc()}},{key:"Lc",value:function(){var e=this;this.qo.No(Pt(Dt().mark((function t(){var n,r;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new OE(e.datastore),(r=e.qc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Uc(t)}))}))})).catch((function(t){e.Uc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"qc",value:function(e){try{var t=this.updateFunction(e);return!vm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Uc",value:function(e){var t=this;this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Dk(t)}return!1}}]),e}(),RE=function(){function e(t,n,r,i){var a=this;c(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cv.UNAUTHENTICATED,this.clientId=Dv.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return dv("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return dv("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return h(e,[{key:"getConfiguration",value:function(){var e=Pt(Dt().mark((function e(){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new wv(bv.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new _v;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Pt(Dt().mark((function n(){var r;return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=iS(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function PE(e,t){return ME.apply(this,arguments)}function ME(){return ME=Pt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),dv("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,S_(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function LE(e,t){return FE.apply(this,arguments)}function FE(){return(FE=Pt(Dt().mark((function e(t,n){var r,i;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,UE(t);case 3:return r=e.sent,dv("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return $x(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return $x(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jE(e){return"FirebaseError"===e.name?e.code===bv.FAILED_PRECONDITION||e.code===bv.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function UE(e){return VE.apply(this,arguments)}function VE(){return(VE=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return dv("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,PE(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),jE(n=e.t0)){e.next=13;break}throw n;case 13:return vv("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,PE(t,new SE);case 16:e.next=21;break;case 18:return dv("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,PE(t,new SE);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function BE(e){return zE.apply(this,arguments)}function zE(){return(zE=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return dv("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,LE(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return dv("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,LE(t,new TE);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qE(e){return UE(e).then((function(e){return e.persistence}))}function WE(e){return UE(e).then((function(e){return e.localStore}))}function GE(e){return BE(e).then((function(e){return e.remoteStore}))}function HE(e){return BE(e).then((function(e){return e.syncEngine}))}function KE(e){return BE(e).then((function(e){return e.datastore}))}function YE(e){return ZE.apply(this,arguments)}function ZE(){return(ZE=Pt(Dt().mark((function e(t){var n,r;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BE(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=CS.bind(null,n.syncEngine),r.onUnlisten=DS.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _v;return e.asyncQueue.enqueueAndForget(Pt(Dt().mark((function i(){return Dt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new AE({next:function(a){t.enqueueAndForget((function(){return hS(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new wv(bv.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new wv(bv.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new yS(gg(n.path),a,{includeMetadataChanges:!0,Ku:!0});return lS(e,o)},i.next=3,YE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function $E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new _v;return e.asyncQueue.enqueueAndForget(Pt(Dt().mark((function i(){return Dt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new AE({next:function(n){t.enqueueAndForget((function(){return hS(e,o)})),n.fromCache&&"server"===r.source?i.reject(new wv(bv.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new yS(n,a,{includeMetadataChanges:!0,Ku:!0});return lS(e,o)},i.next=3,YE(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function XE(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}var JE=new Map;function eI(e,t,n){if(!n)throw new wv(bv.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function tI(e,t,n,r){if(!0===t&&!0===r)throw new wv(bv.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function nI(e){if(!zv.isDocumentKey(e))throw new wv(bv.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function rI(e){if(zv.isDocumentKey(e))throw new wv(bv.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function iI(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":yv()}function aI(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wv(bv.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=iI(e);throw new wv(bv.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function oI(e,t){if(t<=0)throw new wv(bv.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var uI=function(){function e(t){var n,r;if(c(this,e),void 0===t.host){if(void 0!==t.ssl)throw new wv(bv.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new wv(bv.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}tI("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XE(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new wv(bv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new wv(bv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new wv(bv.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}return h(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}]),e}(),sI=function(){function e(t,n,r,i){c(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uI({}),this._settingsFrozen=!1}return h(e,[{key:"app",get:function(){if(!this._app)throw new wv(bv.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new wv(bv.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uI(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Sv;switch(e.type){case"firstParty":return new Cv(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new wv(bv.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=JE.get(e);t&&(dv("ComponentProvider","Removing Datastore"),JE.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function cI(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=aI(e,sI))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==a.host&&a.host!==o&&vv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},a),{host:o,ssl:!1})),i.mockUserToken){var u,s;if("string"==typeof i.mockUserToken)u=i.mockUserToken,s=cv.MOCK_USER;else{u=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[at(JSON.stringify({alg:"none",type:"JWT"})),at(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new wv(bv.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new cv(c)}e._authCredentials=new Ev(new xv(u,s))}}var lI=function(){function e(t,n,r){c(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return h(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new hI(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),fI=function(){function e(t,n,r){c(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return h(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),hI=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this,e,r,gg(i)))._path=i,a.type="collection",a}return h(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new lI(this.firestore,null,new zv(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(fI);function dI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),eI("collection","path",t),e instanceof sI){var a=Uv.fromString.apply(Uv,[t].concat(r));return rI(a),new hI(e,null,a)}if(!(e instanceof lI||e instanceof hI))throw new wv(bv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Uv.fromString.apply(Uv,[t].concat(r)));return rI(o),new hI(e.firestore,null,o)}function pI(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ot(e),1===arguments.length&&(t=Dv.A()),eI("doc","path",t),e instanceof sI){var a=Uv.fromString.apply(Uv,[t].concat(r));return nI(a),new lI(e,null,new zv(a))}if(!(e instanceof lI||e instanceof hI))throw new wv(bv.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Uv.fromString.apply(Uv,[t].concat(r)));return nI(o),new lI(e.firestore,e instanceof hI?e.converter:null,new zv(o))}function vI(e,t){return e=Ot(e),t=Ot(t),(e instanceof lI||e instanceof hI)&&(t instanceof lI||t instanceof hI)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function mI(e,t){return e=Ot(e),t=Ot(t),e instanceof fI&&t instanceof fI&&e.firestore===t.firestore&&Tg(e._query,t._query)&&e.converter===t.converter}var yI=function(){function e(){var t=this;c(this,e),this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new cx(this,"async_queue_retry"),this.Xc=function(){var e=ux();e&&dv("AsyncQueue","Visibility state changed to "+e.visibilityState),t.qo.Mo()};var n=ux();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Xc)}return h(e,[{key:"isShuttingDown",get:function(){return this.jc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Zc(),this.ta(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;var t=ux();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Zc(),this.jc)return new Promise((function(){}));var n=new _v;return this.ta((function(){return t.jc&&t.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Qc.push(e),t.ea()}))}},{key:"ea",value:function(){var e=Pt(Dt().mark((function e(){var t=this;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Qc.length){e.next=14;break}return e.prev=1,e.next=4,this.Qc[0]();case 4:this.Qc.shift(),this.qo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),um(e.t0)){e.next=12;break}throw e.t0;case 12:dv("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Qc.length>0&&this.qo.No((function(){return t.ea()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"ta",value:function(e){var t=this,n=this.Gc.then((function(){return t.Hc=!0,e().catch((function(e){t.Wc=e,t.Hc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw pv("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Hc=!1,e}))}));return this.Gc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);var i=rS.createAndSchedule(this,e,t,n,(function(e){return r.na(e)}));return this.zc.push(i),i}},{key:"Zc",value:function(){this.Wc&&yv()}},{key:"verifyOperationInProgress",value:function(){}},{key:"sa",value:function(){var e=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Gc,e.next=3,t;case 3:if(t!==this.Gc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ia",value:function(e){var t,n=C(this.zc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"ra",value:function(e){var t=this;return this.sa().then((function(){t.zc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=C(t.zc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.sa()}))}},{key:"oa",value:function(e){this.Yc.push(e)}},{key:"na",value:function(e){var t=this.zc.indexOf(e);this.zc.splice(t,1)}}]),e}();function gI(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=C(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var kI=function(){function e(){c(this,e),this._progressObserver={},this._taskCompletionResolver=new _v,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return h(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),bI=function(e){p(n,e);var t=k(n);function n(e,r,i,a){var o;return c(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new yI,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return h(n,[{key:"_terminate",value:function(){return this._firestoreClient||_I(this),this._firestoreClient.terminate()}}]),n}(sI);function wI(e){return e._firestoreClient||_I(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function _I(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new hy(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,XE(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new RE(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function xI(e,t,n){var r=new _v;return e.asyncQueue.enqueue(Pt(Dt().mark((function i(){var a;return Dt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,PE(e,n);case 3:return i.next=5,LE(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),jE(a=i.t0)){i.next=13;break}throw a;case 13:vv("Error enabling indexeddb cache. Falling back to memory cache: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function SI(e){return function(e){return e.asyncQueue.enqueue(Pt(Dt().mark((function t(){var n,r;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qE(e);case 2:return n=t.sent,t.next=5,GE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=kv(e);return t.vu.delete(0),mx(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(wI(e=aI(e,bI)))}function EI(e){return function(e){return e.asyncQueue.enqueue(Pt(Dt().mark((function t(){var n,r;return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,qE(e);case 2:return n=t.sent,t.next=5,GE(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=kv(t)).vu.add(0),e.next=4,gx(n);case 4:n.bu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(wI(e=aI(e,bI)))}function II(e,t){var n=wI(e=aI(e,bI)),r=new kI;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new NE(e,t)}(function(e,t){if(e instanceof Uint8Array)return CE(e,t);if(e instanceof ArrayBuffer)return CE(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?Lk().encode(e):e),t)}(n,sx(t));e.asyncQueue.enqueueAndForget(Pt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=xE,t.next=3,HE(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function TI(e,t){return function(e,t){return e.asyncQueue.enqueue(Pt(Dt().mark((function n(){return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=kv(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.qs.getNamedQuery(e,t)}))},n.next=3,WE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(wI(e=aI(e,bI)),t).then((function(t){return t?new fI(e,null,t.query):null}))}function CI(e){if(e._initialized||e._terminated)throw new wv(bv.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var AI=function(){function e(t){c(this,e),this._byteString=t}return h(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(iy.fromBase64String(t))}catch(t){throw new wv(bv.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(iy.fromUint8Array(t))}}]),e}(),NI=function(){function e(){c(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new wv(bv.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bv(n)}return h(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var OI=h((function e(t){c(this,e),this._methodName=t})),DI=function(){function e(t,n){if(c(this,e),!isFinite(t)||t<-90||t>90)throw new wv(bv.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new wv(bv.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return h(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Rv(this._lat,e._lat)||Rv(this._long,e._long)}}]),e}(),RI=/^__.*__$/,PI=function(){function e(t,n,r){c(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new bk(e,this.data,this.fieldMask,t,this.fieldTransforms):new kk(e,this.data,t,this.fieldTransforms)}}]),e}(),MI=function(){function e(t,n,r){c(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return h(e,[{key:"toMutation",value:function(e,t){return new bk(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function LI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yv()}}var FI=function(){function e(t,n,r,i,a,o){c(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return h(e,[{key:"path",get:function(){return this.settings.path}},{key:"ca",get:function(){return this.settings.ca}},{key:"aa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ha",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}},{key:"da",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}},{key:"wa",value:function(e){return this.aa({path:void 0,la:!0})}},{key:"_a",value:function(e){return rT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ua",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.fa(this.path.get(e))}},{key:"fa",value:function(e){if(0===e.length)throw this._a("Document fields must not be empty");if(LI(this.ca)&&RI.test(e))throw this._a('Document fields cannot begin and end with "__"')}}]),e}(),jI=function(){function e(t,n,r){c(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||sx(t)}return h(e,[{key:"ya",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new FI({ca:e,methodName:t,ga:n,path:Bv.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function UI(e){var t=e._freezeSettings(),n=sx(e._databaseId);return new jI(e._databaseId,!!t.ignoreUndefinedProperties,n)}function VI(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ya(a.merge||a.mergeFields?2:0,t,n,i);JI("Data must be an object, but it was:",o,r);var u,s,c=$I(r,o);if(a.merge)u=new ny(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=C(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=eT(t,l.value,n);if(!o.contains(d))throw new wv(bv.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));iT(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}u=new ny(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new PI(new My(c),u,s)}var BI=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(OI);function zI(e,t,n){return new FI({ca:3,ga:t.settings.ga,methodName:e._methodName,la:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}var qI=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"_toFieldTransform",value:function(e){return new ck(e.path,new tk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(OI),WI=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e)).pa=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=zI(this,e,!0),n=this.pa.map((function(e){return QI(e,t)})),r=new nk(n);return new ck(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(OI),GI=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e)).pa=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=zI(this,e,!0),n=this.pa.map((function(e){return QI(e,t)})),r=new ik(n);return new ck(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(OI),HI=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e)).Ia=r,i}return h(n,[{key:"_toFieldTransform",value:function(e){var t=new ok(e.serializer,Qg(e.serializer,this.Ia));return new ck(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(OI);function KI(e,t,n,r){var i=e.ya(1,t,n);JI("Data must be an object, but it was:",i,r);var a=[],o=My.empty();Ym(r,(function(e,r){var u=nT(t,e,n);r=Ot(r);var s=i.da(u);if(r instanceof BI)a.push(u);else{var c=QI(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ny(a);return new MI(o,u,i.fieldTransforms)}function YI(e,t,n,r,i,a){var o=e.ya(1,t,n),u=[eT(t,r,n)],s=[i];if(a.length%2!=0)throw new wv(bv.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(eT(t,a[c])),s.push(a[c+1]);for(var l=[],f=My.empty(),h=u.length-1;h>=0;--h)if(!iT(l,u[h])){var d=u[h],p=s[h];p=Ot(p);var v=o.da(d);if(p instanceof BI)l.push(d);else{var m=QI(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new ny(l);return new MI(f,y,o.fieldTransforms)}function ZI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return QI(n,e.ya(r?4:3,t))}function QI(e,t){if(XI(e=Ot(e)))return JI("Unsupported field value:",t,e),$I(e,t);if(e instanceof OI)return function(e,t){if(!LI(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=C(e);try{for(a.s();!(n=a.n()).done;){var o=QI(n.value,t.wa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ot(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Qg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Lv.fromDate(e);return{timestampValue:nb(t.serializer,n)}}if(e instanceof Lv){var r=new Lv(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nb(t.serializer,r)}}if(e instanceof DI)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof AI)return{bytesValue:rb(t.serializer,e._byteString)};if(e instanceof lI){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t._a("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ob(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(iI(e)))}(e,t)}function $I(e,t){var n={};return Zm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ym(e,(function(e,r){var i=QI(r,t.ha(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function XI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Lv||e instanceof DI||e instanceof AI||e instanceof lI||e instanceof OI)}function JI(e,t,n){if(!XI(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=iI(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function eT(e,t,n){if((t=Ot(t))instanceof NI)return t._internalPath;if("string"==typeof t)return nT(e,t);throw rT("Field path arguments must be of type string or ",e,!1,void 0,n)}var tT=new RegExp("[~\\*/\\[\\]]");function nT(e,t,n){if(t.search(tT)>=0)throw rT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return b(NI,(0,s.Z)(t.split(".")))._internalPath}catch(r){throw rT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function rT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new wv(bv.INVALID_ARGUMENT,u+e+s)}function iT(e,t){return e.some((function(e){return e.isEqual(t)}))}var aT=function(){function e(t,n,r,i,a){c(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return h(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new lI(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new oT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(uT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),oT=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){return lr(v(n.prototype),"data",this).call(this)}}]),n}(aT);function uT(e,t){return"string"==typeof t?nT(e,t):t instanceof NI?t._internalPath:t._delegate._internalPath}function sT(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new wv(bv.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var cT=h((function e(){c(this,e)})),lT=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n)}(cT);function fT(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof cT&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof dT})).length,n=e.filter((function(e){return e instanceof hT})).length;if(t>1||t>0&&n>0)throw new wv(bv.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,u=C(n);try{for(u.s();!(o=u.n()).done;){e=o.value._apply(e)}}catch(s){u.e(s)}finally{u.f()}return e}var hT=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return h(n,[{key:"_apply",value:function(e){var t=this._parse(e);return ET(e._query,t),new fI(e.firestore,e.converter,Eg(e._query,t))}},{key:"_parse",value:function(e){var t=UI(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new wv(bv.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ST(o,a);var s,c=[],l=C(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(xT(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=xT(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ST(o,a),u=ZI(n,"where",o,"in"===a||"not-in"===a);return Wy.create(i,a,u)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(lT);var dT=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return h(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Gy.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=C(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;ET(r,a),r=Eg(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new fI(e.firestore,e.converter,Eg(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(cT);var pT=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this))._field=e,i._direction=r,i.type="orderBy",i}return h(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new wv(bv.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new wv(bv.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new By(t,n);return function(e,t){if(null===bg(e)){var n=wg(e);null!==n&&IT(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new fI(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new mg(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(lT);var vT=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).type=e,a._limit=r,a._limitType=i,a}return h(n,[{key:"_apply",value:function(e){return new fI(e.firestore,e.converter,Ig(e._query,this._limit,this._limitType))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(lT);var mT=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return h(n,[{key:"_apply",value:function(e){var t=_T(e,this.type,this._docOrFields,this._inclusive);return new fI(e.firestore,e.converter,function(e,t){return new mg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(lT);function yT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mT._create("startAt",t,!0)}function gT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mT._create("startAfter",t,!1)}var kT=function(e){p(n,e);var t=k(n);function n(e,r,i){var a;return c(this,n),(a=t.call(this)).type=e,a._docOrFields=r,a._inclusive=i,a}return h(n,[{key:"_apply",value:function(e){var t=_T(e,this.type,this._docOrFields,this._inclusive);return new fI(e.firestore,e.converter,function(e,t){return new mg(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(lT);function bT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kT._create("endBefore",t,!1)}function wT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return kT._create("endAt",t,!0)}function _T(e,t,n,r){if(n[0]=Ot(n[0]),n[0]instanceof aT)return function(e,t,n,r,i){if(!r)throw new wv(bv.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=C(xg(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(xy(t,r.key));else{var c=r.data.field(s.field);if(cy(c))throw new wv(bv.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new wv(bv.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new jy(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=UI(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new wv(bv.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new wv(bv.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!_g(e)&&-1!==c.indexOf("/"))throw new wv(bv.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Uv.fromString(c));if(!zv.isDocumentKey(l))throw new wv(bv.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new zv(l);u.push(xy(t,f))}else{var h=ZI(n,r,c);u.push(h)}}return new jy(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function xT(e,t,n){if("string"==typeof(n=Ot(n))){if(""===n)throw new wv(bv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_g(t)&&-1!==n.indexOf("/"))throw new wv(bv.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Uv.fromString(n));if(!zv.isDocumentKey(r))throw new wv(bv.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return xy(e,new zv(r))}if(n instanceof lI)return xy(e,n._key);throw new wv(bv.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(iI(n),"."))}function ST(e,t){if(!Array.isArray(e)||0===e.length)throw new wv(bv.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ET(e,t){if(t.isInequality()){var n=wg(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new wv(bv.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=bg(e);null!==i&&IT(e,r,i)}var a=function(e,t){var n,r=C(e);try{for(r.s();!(n=r.n()).done;){var i,a=C(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(u){a.e(u)}finally{a.f()}}}catch(u){r.e(u)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new wv(bv.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new wv(bv.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function IT(e,t,n){if(!n.isEqual(t))throw new wv(bv.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var TT=function(){function e(){c(this,e)}return h(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(my(e)){case 0:return null;case 1:return e.booleanValue;case 2:return uy(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(sy(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw yv()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return Ym(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new DI(uy(e.latitude),uy(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=ly(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(fy(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=oy(e);return new Lv(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Uv.fromString(e);gv(Nb(n));var r=new dy(n.get(1),n.get(3)),i=new zv(n.popFirst(5));return r.isEqual(t)||pv("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function CT(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var AT=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new AI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new lI(this.firestore,null,t)}}]),n}(TT);var NT=function(){function e(t,n){c(this,e),this.hasPendingWrites=t,this.fromCache=n}return h(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),OT=function(e){p(n,e);var t=k(n);function n(e,r,i,a,o,u){var s;return c(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return h(n,[{key:"exists",value:function(){return lr(v(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new DT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(uT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(aT),DT=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return lr(v(n.prototype),"data",this).call(this,e)}}]),n}(OT),RT=function(){function e(t,n,r,i){c(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new NT(i.hasPendingWrites,i.fromCache),this.query=r}return h(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new DT(n._firestore,n._userDataWriter,r.key,r,new NT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new wv(bv.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new DT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new NT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new DT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new NT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:PT(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function PT(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yv()}}function MT(e,t){return e instanceof OT&&t instanceof OT?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof RT&&t instanceof RT&&e._firestore===t._firestore&&mI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}var LT=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new AI(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new lI(this.firestore,null,t)}}]),n}(TT);function FT(e){e=aI(e,lI);var t=aI(e.firestore,bI),n=wI(t),r=new LT(t);return function(e,t){var n=new _v;return e.asyncQueue.enqueueAndForget(Pt(Dt().mark((function r(){return Dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Pt(Dt().mark((function e(t,n,r){var i,a;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=kv(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new wv(bv.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=iS(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,WE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new OT(t,r,e._key,n,new NT(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function jT(e){e=aI(e,fI);var t=aI(e.firestore,bI),n=wI(t),r=new LT(t);return function(e,t){var n=new _v;return e.asyncQueue.enqueueAndForget(Pt(Dt().mark((function r(){return Dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Pt(Dt().mark((function e(t,n,r){var i,a,o,u,s;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P_(t,n,!0);case 3:i=e.sent,a=new SS(n,i.ir),o=a.sc(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=iS(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,WE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new RT(t,r,e,n)}))}function UT(e,t,n){e=aI(e,lI);var r=aI(e.firestore,bI),i=CT(e.converter,t,n);return qT(r,[VI(UI(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fk.none())])}function VT(e,t,n){e=aI(e,lI);for(var r=aI(e.firestore,bI),i=UI(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return qT(r,[("string"==typeof(t=Ot(t))||t instanceof NI?YI(i,"updateDoc",e._key,t,n,o):KI(i,"updateDoc",e._key,t)).toMutation(e._key,fk.exists(!0))])}function BT(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ot(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||gI(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(gI(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof lI)l=aI(e.firestore,bI),f=gg(e._key.path),c={next:function(t){n[s]&&n[s](WT(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=aI(e,fI);l=aI(p.firestore,bI),f=p._query;var v=new LT(l);c={next:function(e){n[s]&&n[s](new RT(l,v,p,e))},error:n[s+1],complete:n[s+2]},sT(e._query)}return function(e,t,n,r){var i=new AE(r),a=new yS(t,i,n);return e.asyncQueue.enqueueAndForget(Pt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lS,t.next=3,YE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Dc(),e.asyncQueue.enqueueAndForget(Pt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=hS,t.next=3,YE(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(wI(l),f,h,c)}function zT(e,t){return function(e,t){var n=new AE(t);return e.asyncQueue.enqueueAndForget(Pt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){kv(e).ku.add(t),t.next()},t.next=3,YE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Dc(),e.asyncQueue.enqueueAndForget(Pt(Dt().mark((function t(){return Dt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){kv(e).ku.delete(t)},t.next=3,YE(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(wI(e=aI(e,bI)),gI(t)?t:{next:t})}function qT(e,t){return function(e,t){var n=new _v;return e.asyncQueue.enqueueAndForget(Pt(Dt().mark((function r(){return Dt().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=PS,r.next=3,HE(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(wI(e),t)}function WT(e,t,n){var r=n.docs.get(t._key),i=new LT(e);return new OT(e,i,t._key,r,new NT(n.hasPendingWrites,n.fromCache),t.converter)}var GT={maxAttempts:5},HT=function(){function e(t,n){c(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=UI(t)}return h(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=KT(e,this._firestore),i=CT(r.converter,t,n),a=VI(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,fk.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=KT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ot(t))||t instanceof NI?YI(this._dataReader,"WriteBatch.update",i._key,t,n,o):KI(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,fk.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=KT(e,this._firestore);return this._mutations=this._mutations.concat(new Ik(t._key,fk.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new wv(bv.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function KT(e,t){if((e=Ot(e)).firestore!==t)throw new wv(bv.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var YT=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r))._firestore=e,i}return h(n,[{key:"get",value:function(e){var t=this,r=KT(e,this._firestore),i=new LT(this._firestore);return lr(v(n.prototype),"get",this).call(this,e).then((function(e){return new OT(t._firestore,i,r._key,e._document,new NT(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){c(this,e),this._firestore=t,this._transaction=n,this._dataReader=UI(t)}return h(e,[{key:"get",value:function(e){var t=this,n=KT(e,this._firestore),r=new AT(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return yv();var i=e[0];if(i.isFoundDocument())return new aT(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new aT(t._firestore,r,n._key,null,n.converter);throw yv()}))}},{key:"set",value:function(e,t,n){var r=KT(e,this._firestore),i=CT(r.converter,t,n),a=VI(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=KT(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ot(t))||t instanceof NI?YI(this._dataReader,"Transaction.update",i._key,t,n,o):KI(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=KT(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function ZT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new WI("arrayUnion",t)}function QT(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new GI("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){lv=e}(On),Sn(new Mt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new bI(new Iv(e.getProvider("auth-internal")),new Nv(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wv(bv.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dy(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Fn(sv,"3.12.2",e),Fn(sv,"3.12.2","esm2017")}();function $T(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new wv("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function XT(){if("undefined"===typeof Uint8Array)throw new wv("unimplemented","Uint8Arrays are not available in this environment.")}function JT(){if("undefined"==typeof atob)throw new wv("unimplemented","Blobs are unavailable in Firestore in this environment.")}var eC=function(){function e(t){c(this,e),this._delegate=t}return h(e,[{key:"toBase64",value:function(){return JT(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return XT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return JT(),new e(AI.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return XT(),new e(AI.fromUint8Array(t))}}]),e}();function tC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=C(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var nC=function(){function e(){c(this,e)}return h(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){CI(e=aI(e,bI));var n=wI(e);if(n._uninitializedComponentsProvider)throw new wv(bv.FAILED_PRECONDITION,"SDK cache is already specified.");vv("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var r=e._freezeSettings(),i=new TE;return xI(n,i,new EE(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){CI(e=aI(e,bI));var t=wI(e);if(t._uninitializedComponentsProvider)throw new wv(bv.FAILED_PRECONDITION,"SDK cache is already specified.");vv("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");var n=e._freezeSettings(),r=new TE;return xI(t,r,new IE(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new wv(bv.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new _v;return e._queue.enqueueAndForgetEvenWhileRestricted(Pt(Dt().mark((function n(){return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Pt(Dt().mark((function e(t){var n;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(im.D()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,im.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(k_(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),rC=function(){function e(t,n,r){var i=this;c(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof dy||(this._appCompat=t)}return h(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||vv("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};cI(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return SI(this._delegate)}},{key:"disableNetwork",value:function(){return EI(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&tI("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){var t=new _v;return e.asyncQueue.enqueueAndForget(Pt(Dt().mark((function n(){return Dt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=GS,n.next=3,HE(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(wI(aI(this._delegate,bI)))}},{key:"onSnapshotsInSync",value:function(e){return zT(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new wv("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new yC(this,dI(this._delegate,e))}catch(t){throw cC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new sC(this,pI(this._delegate,e))}catch(t){throw cC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new pC(this,function(e,t){if(e=aI(e,sI),eI("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new wv(bv.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new fI(e,null,function(e){return new mg(Uv.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw cC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return function(e,t,n){e=aI(e,bI);var r=Object.assign(Object.assign({},GT),n);return function(e){if(e.maxAttempts<1)throw new wv(bv.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new _v;return e.asyncQueue.enqueueAndForget(Pt(Dt().mark((function i(){var a;return Dt().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,KE(e);case 2:a=i.sent,new DE(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(wI(e),(function(n){return t(new YT(e,n))}),r)}(this._delegate,(function(n){return e(new aC(t,n))}))}},{key:"batch",value:function(){var e=this;return wI(this._delegate),new oC(new HT(this._delegate,(function(t){return qT(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return II(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return TI(this._delegate,e).then((function(e){return e?new pC(t,e):null}))}}]),e}(),iC=function(e){p(n,e);var t=k(n);function n(e){var r;return c(this,n),(r=t.call(this)).firestore=e,r}return h(n,[{key:"convertBytes",value:function(e){return new eC(new AI(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return sC.forKey(t,this.firestore,null)}}]),n}(TT);var aC=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new iC(t)}return h(e,[{key:"get",value:function(e){var t=this,n=gC(e);return this._delegate.get(n).then((function(e){return new hC(t._firestore,new OT(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=gC(e);return n?($T("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=gC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=gC(e);return this._delegate.delete(t),this}}]),e}(),oC=function(){function e(t){c(this,e),this._delegate=t}return h(e,[{key:"set",value:function(e,t,n){var r=gC(e);return n?($T("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=gC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=gC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),uC=function(){function e(t,n,r){c(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return h(e,[{key:"fromFirestore",value:function(e,t){var n=new DT(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new iC(t),n),i.set(n,a)),a}}]),e}();uC.INSTANCES=new WeakMap;var sC=function(){function e(t,n){c(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new iC(t)}return h(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new yC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new yC(this.firestore,dI(this._delegate,e))}catch(t){throw cC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ot(e))instanceof lI&&vI(this._delegate,e)}},{key:"set",value:function(e,t){t=$T("DocumentReference.set",t);try{return t?UT(this._delegate,e,t):UT(this._delegate,e)}catch(n){throw cC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?VT(this._delegate,e):VT.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw cC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return qT(aI((e=this._delegate).firestore,bI),[new Ik(e._key,fk.none())]);var e}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=lC(n),a=fC(n,(function(t){return new hC(e.firestore,new OT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return BT(this._delegate,i,a)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?FT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=aI(e,lI);var t=aI(e.firestore,bI);return QE(wI(t),e._key,{source:"server"}).then((function(n){return WT(t,e,n)}))}(this._delegate):function(e){e=aI(e,lI);var t=aI(e.firestore,bI);return QE(wI(t),e._key).then((function(n){return WT(t,e,n)}))}(this._delegate)).then((function(e){return new hC(t.firestore,new OT(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(uC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new wv("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new lI(n._delegate,r,new zv(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new lI(n._delegate,r,t))}}]),e}();function cC(e,t,n){return e.message=e.message.replace(t,n),e}function lC(e){var t,n=C(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!tC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function fC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=tC(e[0])?e[0]:tC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var hC=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"ref",get:function(){return new sC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return MT(this._delegate,e._delegate)}}]),e}(),dC=function(e){p(n,e);var t=k(n);function n(){return c(this,n),t.apply(this,arguments)}return h(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return void 0!==t||yv(),t}}]),n}(hC),pC=function(){function e(t,n){c(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new iC(t)}return h(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,fT(this._delegate,function(e,t,n){var r=t,i=uT("where",e);return hT._create(i,r,n)}(t,n,r)))}catch(i){throw cC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,fT(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=uT("orderBy",e);return pT._create(n,t)}(t,n)))}catch(r){throw cC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,fT(this._delegate,(oI("limit",n=t),vT._create("limit",n,"F"))))}catch(r){throw cC(r,"limit()","Query.limit()")}var n}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,fT(this._delegate,(oI("limitToLast",n=t),vT._create("limitToLast",n,"L"))))}catch(r){throw cC(r,"limitToLast()","Query.limitToLast()")}var n}},{key:"startAt",value:function(){try{return new e(this.firestore,fT(this._delegate,yT.apply(void 0,arguments)))}catch(t){throw cC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,fT(this._delegate,gT.apply(void 0,arguments)))}catch(t){throw cC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,fT(this._delegate,bT.apply(void 0,arguments)))}catch(t){throw cC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,fT(this._delegate,wT.apply(void 0,arguments)))}catch(t){throw cC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return mI(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?jT(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=aI(e,fI);var t=aI(e.firestore,bI),n=wI(t),r=new LT(t);return $E(n,e._query,{source:"server"}).then((function(n){return new RT(t,r,e,n)}))}(this._delegate):function(e){e=aI(e,fI);var t=aI(e.firestore,bI),n=wI(t),r=new LT(t);return sT(e._query),$E(n,e._query).then((function(n){return new RT(t,r,e,n)}))}(this._delegate)).then((function(e){return new mC(t.firestore,new RT(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=lC(n),a=fC(n,(function(t){return new mC(e.firestore,new RT(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return BT(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(uC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),vC=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new dC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),mC=function(){function e(t,n){c(this,e),this._firestore=t,this._delegate=n}return h(e,[{key:"query",get:function(){return new pC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new dC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new vC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new dC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return MT(this._delegate,e._delegate)}}]),e}(),yC=function(e){p(n,e);var t=k(n);function n(e,r){var i;return c(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return h(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new sC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new sC(this.firestore,void 0===e?pI(this._delegate):pI(this._delegate,e))}catch(t){throw cC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=aI(e.firestore,bI),r=pI(e),i=CT(e.converter,t);return qT(n,[VI(UI(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fk.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new sC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return vI(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(uC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(pC);function gC(e){return aI(e,lI)}var kC=function(){function e(){c(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=b(NI,n)}return h(e,[{key:"isEqual",value:function(e){return(e=Ot(e))instanceof NI&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Bv.keyField().canonicalString())}}]),e}(),bC=function(){function e(t){c(this,e),this._delegate=t}return h(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new qI("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new BI("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=ZT.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=QT.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=new HI("increment",t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),wC={Firestore:rC,GeoPoint:DI,Timestamp:Lv,Blob:eC,Transaction:aC,WriteBatch:oC,DocumentReference:sC,DocumentSnapshot:hC,Query:pC,QueryDocumentSnapshot:dC,QuerySnapshot:mC,CollectionReference:yC,FieldPath:kC,FieldValue:bC,setLogLevel:function(e){var t;t=e,fv.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Mt("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},wC)))}(e,(function(e,t){return new rC(e,t,new nC)})),e.registerVersion("@firebase/firestore-compat","0.3.11")}(cr);var _C=cr.initializeApp({apiKey:"AIzaSyBfuJTC4PLHXlJdsdW7FqZeFny5nkwT9rg",authDomain:"clone-24f04.firebaseapp.com",projectId:"clone-24f04",storageBucket:"clone-24f04.appspot.com",messagingSenderId:"445379130384",appId:"1:445379130384:web:a5945da097caf76ecd4695",measurementId:"G-44Y9RXKQES"}).firestore(),xC=cr.auth();var SC=function(){var e=et(),t=(0,a.Z)(e,2),n=t[0],r=n.basket,i=n.user;return t[1],(0,$e.jsxs)("div",{className:"header",children:[(0,$e.jsx)(Ye,{to:"/",children:(0,$e.jsx)("img",{className:"header_logo",src:"http://pngimg.com/uploads/amazon/amazon_PNG11.png"})}),(0,$e.jsxs)("div",{className:"header_search",children:[(0,$e.jsx)("input",{className:"header_searchInput",type:"text"}),(0,$e.jsx)(o.Z,{className:"header_searchIcon"})]}),(0,$e.jsxs)("div",{className:"header_nav",children:[(0,$e.jsx)(Ye,{to:!i&&"/login",children:(0,$e.jsxs)("div",{onClick:function(){i&&xC.signOut()},className:"header_option",children:[(0,$e.jsxs)("span",{className:"header_optionLineOne",children:["Hello ",i?i.email:"Guest"]}),(0,$e.jsx)("span",{className:"header_optionLineTwo",children:i?"Sign Out":"Sign In"})]})}),(0,$e.jsx)(Ye,{to:"/orders",children:(0,$e.jsxs)("div",{className:"header_option",children:[(0,$e.jsx)("span",{className:"header_optionLineOne",children:"Returns"}),(0,$e.jsx)("span",{className:"header_optionLineTwo",children:"& Orders"})]})}),(0,$e.jsxs)("div",{className:"header_option",children:[(0,$e.jsx)("span",{className:"header_optionLineOne",children:"Your"}),(0,$e.jsx)("span",{className:"header_optionLineTwo",children:"Prime"})]}),(0,$e.jsx)(Ye,{to:"/checkout",children:(0,$e.jsxs)("div",{className:"header_optionBasket",children:[(0,$e.jsx)(u.Z,{}),(0,$e.jsx)("span",{className:"header_optionLineTwo header_basketCount",children:null===r||void 0===r?void 0:r.length})]})})]})]})};var EC=function(e){var t=e.id,n=e.title,r=e.image,i=e.price,o=e.rating,u=et(),s=(0,a.Z)(u,2),c=(s[0].basket,s[1]);return(0,$e.jsxs)("div",{className:"product",children:[(0,$e.jsxs)("div",{className:"product__info",children:[(0,$e.jsx)("p",{children:n}),(0,$e.jsxs)("p",{className:"product__price",children:[(0,$e.jsx)("small",{children:"$"}),(0,$e.jsx)("strong",{children:i})]}),(0,$e.jsx)("div",{className:"product__rating",children:Array(o).fill().map((function(e,t){return(0,$e.jsx)("p",{children:"\ud83c\udf1f"})}))})]}),(0,$e.jsx)("img",{src:r,alt:""}),(0,$e.jsx)("button",{onClick:function(){c({type:"ADD_TO_BASKET",item:{id:t,title:n,image:r,price:i,rating:o}})},children:"Add to Basket"})]})};var IC=function(){return(0,$e.jsx)("div",{className:"home",children:(0,$e.jsxs)("div",{className:"home__container",children:[(0,$e.jsx)("img",{className:"home__image",src:"https://images-eu.ssl-images-amazon.com/images/G/02/digital/video/merch2016/Hero/Covid19/Generic/GWBleedingHero_ENG_COVIDUPDATE__XSite_1500x600_PV_en-GB._CB428684220_.jpg",alt:""}),(0,$e.jsxs)("div",{className:"home__row",children:[(0,$e.jsx)(EC,{id:"12321341",title:"The Lean Startup: How Constant Innovation Creates Radically Sucessful Businesses Paperback",price:29.99,rating:5,image:"https://images-na.ssl-images-amazon.com/images/I/51Zymoq7UnL._AC_SY400_.jpg"}),(0,$e.jsx)(EC,{id:"49538094",title:"Kenwood kMix Stand Mixer for Baking, Stylish Kitchen Mixer with K-beater, Dough Hook and Whisk, 5 Litre Glass Bowl",price:239,rating:4,image:"https://www.seanhennessy.ie/image/thumbnails/1c/ba/KMX754RD_jpg-117674-800x800.jpg"})]}),(0,$e.jsxs)("div",{className:"home__row",children:[(0,$e.jsx)(EC,{id:"4903850",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor",price:199.99,rating:3,image:"https://images-na.ssl-images-amazon.com/images/I/71Swqqe7XAL._AC_SX466_.jpg"}),(0,$e.jsx)(EC,{id:"23445930",title:"Amazon Echo (3rd generation) | Smart speaker with Alexa, Charcoal Fabric",price:98.99,rating:5,image:"https://media.very.co.uk/i/very/P6LTG_SQ1_0000000071_CHARCOAL_SLf?$300x400_retinamobilex2$"}),(0,$e.jsx)(EC,{id:"3254354345",title:"New Apple iPad Pro (12.9-inch, WiFi, 128GB) - Silver (4th Generation)",price:598.99,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/816ctt5WV5L._AC_SX385_.jpg"})]}),(0,$e.jsx)("div",{className:"home__row",children:(0,$e.jsx)(EC,{id:"90829332",title:"Samsung LC49RG90SSUXEN 49' Curved LED Gaming Monitor - Super Ultra Wide Dual WQHD 5120 x 1440",price:1094.98,rating:4,image:"https://images-na.ssl-images-amazon.com/images/I/6125mFrzr6L._AC_SX355_.jpg"})})]})})},TC=n(482),CC=n.n(TC),AC=function(e){return null===e||void 0===e?void 0:e.reduce((function(e,t){return t.price+e}),0)},NC=function(e,t){switch(console.log(t),t.type){case"ADD_TO_BASKET":return(0,Zt.Z)((0,Zt.Z)({},e),{},{basket:[].concat((0,s.Z)(e.basket),[t.item])});case"EMPTY_BASKET":return(0,Zt.Z)((0,Zt.Z)({},e),{},{basket:[]});case"REMOVE_FROM_BASKET":var n=e.basket.findIndex((function(e){return e.id===t.id})),r=(0,s.Z)(e.basket);return n>=0?r.splice(n,1):console.warn("Cant remove product (id: ".concat(t.id,") as its not in basket!")),(0,Zt.Z)((0,Zt.Z)({},e),{},{basket:r});case"SET_USER":return(0,Zt.Z)((0,Zt.Z)({},e),{},{user:t.user});default:return e}};var OC=function(){var e=xe(),t=et(),n=(0,a.Z)(t,2),r=n[0].basket;return n[1],(0,$e.jsxs)("div",{className:"subtotal",children:[(0,$e.jsx)(CC(),{renderText:function(e){return(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsxs)("p",{children:["Subtotal (",r.length," items): ",(0,$e.jsx)("strong",{children:e})]}),(0,$e.jsxs)("small",{className:"subtotal__gift",children:[(0,$e.jsx)("input",{type:"checkbox"}),"This order contains a gift"]})]})},decimalScale:2,value:AC(r),displayType:"text",thousandSeparator:!0,prefix:"$"}),(0,$e.jsx)("button",{onClick:function(){return e("/payment")},children:"Proceed to Checkout"})]})};var DC=function(e){var t=e.id,n=e.image,r=e.title,i=e.price,o=e.rating,u=e.hideButton,s=et(),c=(0,a.Z)(s,2),l=(c[0].basket,c[1]);return(0,$e.jsxs)("div",{className:"checkoutProduct",children:[(0,$e.jsx)("img",{className:"checkoutProduct__image",src:n}),(0,$e.jsxs)("div",{className:"checkoutProduct__info",children:[(0,$e.jsx)("p",{className:"checkoutProduct__title",children:r}),(0,$e.jsxs)("p",{className:"checkoutProduct__price",children:[(0,$e.jsx)("small",{children:"$"}),(0,$e.jsx)("strong",{children:i})]}),(0,$e.jsx)("div",{className:"checkoutProduct__rating",children:Array(o).fill().map((function(e,t){return(0,$e.jsx)("p",{children:"\ud83c\udf1f"})}))}),!u&&(0,$e.jsx)("button",{onClick:function(){l({type:"REMOVE_FROM_BASKET",id:t})},children:"Remove from Basket"})]})]})};var RC=function(){var e=et(),t=(0,a.Z)(e,2),n=t[0],r=n.basket,i=n.user;return t[1],(0,$e.jsxs)("div",{className:"checkout",children:[(0,$e.jsxs)("div",{className:"checkout__left",children:[(0,$e.jsx)("img",{className:"checkout__ad",src:"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg",alt:""}),(0,$e.jsxs)("div",{children:[(0,$e.jsxs)("h3",{children:["Hello, ",null===i||void 0===i?void 0:i.email]}),(0,$e.jsx)("h2",{className:"checkout__title",children:"Your shopping Basket"}),r.map((function(e){return(0,$e.jsx)(DC,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))]})]}),(0,$e.jsx)("div",{className:"checkout__right",children:(0,$e.jsx)(OC,{})})]})};var PC=function(){var e=xe(),n=(0,t.useState)(""),r=(0,a.Z)(n,2),i=r[0],o=r[1],u=(0,t.useState)(""),s=(0,a.Z)(u,2),c=s[0],l=s[1];return(0,$e.jsxs)("div",{className:"login",children:[(0,$e.jsx)(Ye,{to:"/",children:(0,$e.jsx)("img",{className:"login__logo",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png"})}),(0,$e.jsxs)("div",{className:"login__container",children:[(0,$e.jsx)("h1",{children:"Sign-in"}),(0,$e.jsxs)("form",{children:[(0,$e.jsx)("h5",{children:"E-mail"}),(0,$e.jsx)("input",{type:"text",value:i,onChange:function(e){return o(e.target.value)}}),(0,$e.jsx)("h5",{children:"Password"}),(0,$e.jsx)("input",{type:"password",value:c,onChange:function(e){return l(e.target.value)}}),(0,$e.jsx)("button",{type:"submit",onClick:function(t){t.preventDefault(),xC.signInWithEmailAndPassword(i,c).then((function(t){e("/")})).catch((function(e){return alert(e.message)}))},className:"login__signInButton",children:"Sign In"})]}),(0,$e.jsx)("p",{children:"By signing-in you agree to Amazon's Conditions of Use & Sale. Please see our Privacy Notice, our Cookies Notice and our Interest-Based Ads Notice."}),(0,$e.jsx)("button",{onClick:function(t){t.preventDefault(),xC.createUserWithEmailAndPassword(i,c).then((function(t){console.log(t),t&&e("/")})).catch((function(e){return alert(e.message)}))},className:"login__registerButton",children:"Create your Amazon Account"})]})]})},MC=n(764);function LC(e,t){return function(){return e.apply(t,arguments)}}var FC,jC=Object.prototype.toString,UC=Object.getPrototypeOf,VC=(FC=Object.create(null),function(e){var t=jC.call(e);return FC[t]||(FC[t]=t.slice(8,-1).toLowerCase())}),BC=function(e){return e=e.toLowerCase(),function(t){return VC(t)===e}},zC=function(e){return function(t){return typeof t===e}},qC=Array.isArray,WC=zC("undefined");var GC=BC("ArrayBuffer");var HC=zC("string"),KC=zC("function"),YC=zC("number"),ZC=function(e){return null!==e&&"object"===typeof e},QC=function(e){if("object"!==VC(e))return!1;var t=UC(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},$C=BC("Date"),XC=BC("File"),JC=BC("Blob"),eA=BC("FileList"),tA=BC("URLSearchParams");function nA(e,t){var n,r,i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,a=void 0!==i&&i;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),qC(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{var o,u=a?Object.getOwnPropertyNames(e):Object.keys(e),s=u.length;for(n=0;n<s;n++)o=u[n],t.call(null,e[o],o,e)}}function rA(e,t){t=t.toLowerCase();for(var n,r=Object.keys(e),i=r.length;i-- >0;)if(t===(n=r[i]).toLowerCase())return n;return null}var iA="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,aA=function(e){return!WC(e)&&e!==iA};var oA,uA=(oA="undefined"!==typeof Uint8Array&&UC(Uint8Array),function(e){return oA&&e instanceof oA}),sA=BC("HTMLFormElement"),cA=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),lA=BC("RegExp"),fA=function(e,t){var n=Object.getOwnPropertyDescriptors(e),r={};nA(n,(function(n,i){!1!==t(n,i,e)&&(r[i]=n)})),Object.defineProperties(e,r)},hA="abcdefghijklmnopqrstuvwxyz",dA="0123456789",pA={DIGIT:dA,ALPHA:hA,ALPHA_DIGIT:hA+hA.toUpperCase()+dA};var vA=BC("AsyncFunction"),mA={isArray:qC,isArrayBuffer:GC,isBuffer:function(e){return null!==e&&!WC(e)&&null!==e.constructor&&!WC(e.constructor)&&KC(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||KC(e.append)&&("formdata"===(t=VC(e))||"object"===t&&KC(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&GC(e.buffer)},isString:HC,isNumber:YC,isBoolean:function(e){return!0===e||!1===e},isObject:ZC,isPlainObject:QC,isUndefined:WC,isDate:$C,isFile:XC,isBlob:JC,isRegExp:lA,isFunction:KC,isStream:function(e){return ZC(e)&&KC(e.pipe)},isURLSearchParams:tA,isTypedArray:uA,isFileList:eA,forEach:nA,merge:function e(){for(var t=(aA(this)&&this||{}).caseless,n={},r=function(r,i){var a=t&&rA(n,i)||i;QC(n[a])&&QC(r)?n[a]=e(n[a],r):QC(r)?n[a]=e({},r):qC(r)?n[a]=r.slice():n[a]=r},i=0,a=arguments.length;i<a;i++)arguments[i]&&nA(arguments[i],r);return n},extend:function(e,t,n){return nA(t,(function(t,r){n&&KC(t)?e[r]=LC(t,n):e[r]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,r){var i,a,o,u={};if(t=t||{},null==e)return t;do{for(a=(i=Object.getOwnPropertyNames(e)).length;a-- >0;)o=i[a],r&&!r(o,e,t)||u[o]||(t[o]=e[o],u[o]=!0);e=!1!==n&&UC(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:VC,kindOfTest:BC,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n},toArray:function(e){if(!e)return null;if(qC(e))return e;var t=e.length;if(!YC(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,r=(e&&e[Symbol.iterator]).call(e);(n=r.next())&&!n.done;){var i=n.value;t.call(e,i[0],i[1])}},matchAll:function(e,t){for(var n,r=[];null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:sA,hasOwnProperty:cA,hasOwnProp:cA,reduceDescriptors:fA,freezeMethods:function(e){fA(e,(function(t,n){if(KC(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var r=e[n];KC(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},r=function(e){e.forEach((function(e){n[e]=!0}))};return qC(e)?r(e):r(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return e=+e,Number.isFinite(e)?e:t},findKey:rA,global:iA,isContextDefined:aA,ALPHABET:pA,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pA.ALPHA_DIGIT,n="",r=t.length;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&KC(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,r){if(ZC(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[r]=n;var i=qC(n)?[]:{};return nA(n,(function(t,n){var a=e(t,r+1);!WC(a)&&(i[n]=a)})),t[r]=void 0,i}}return n}(e,0)},isAsyncFn:vA,isThenable:function(e){return e&&(ZC(e)||KC(e))&&KC(e.then)&&KC(e.catch)}};function yA(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}mA.inherits(yA,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:mA.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var gA=yA.prototype,kA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){kA[e]={value:e}})),Object.defineProperties(yA,kA),Object.defineProperty(gA,"isAxiosError",{value:!0}),yA.from=function(e,t,n,r,i,a){var o=Object.create(gA);return mA.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),yA.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,a&&Object.assign(o,a),o};var bA=yA;function wA(e){return mA.isPlainObject(e)||mA.isArray(e)}function _A(e){return mA.endsWith(e,"[]")?e.slice(0,-2):e}function xA(e,t,n){return e?e.concat(t).map((function(e,t){return e=_A(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var SA=mA.toFlatObject(mA,{},null,(function(e){return/^is[A-Z]/.test(e)}));var EA=function(e,t,n){if(!mA.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var r=(n=mA.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!mA.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,a=n.dots,o=n.indexes,u=(n.Blob||"undefined"!==typeof Blob&&Blob)&&mA.isSpecCompliantForm(t);if(!mA.isFunction(i))throw new TypeError("visitor must be a function");function s(e){if(null===e)return"";if(mA.isDate(e))return e.toISOString();if(!u&&mA.isBlob(e))throw new bA("Blob is not supported. Use a Buffer instead.");return mA.isArrayBuffer(e)||mA.isTypedArray(e)?u&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){var u=e;if(e&&!i&&"object"===typeof e)if(mA.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(mA.isArray(e)&&function(e){return mA.isArray(e)&&!e.some(wA)}(e)||(mA.isFileList(e)||mA.endsWith(n,"[]"))&&(u=mA.toArray(e)))return n=_A(n),u.forEach((function(e,r){!mA.isUndefined(e)&&null!==e&&t.append(!0===o?xA([n],r,a):null===o?n:n+"[]",s(e))})),!1;return!!wA(e)||(t.append(xA(i,n,a),s(e)),!1)}var l=[],f=Object.assign(SA,{defaultVisitor:c,convertValue:s,isVisitable:wA});if(!mA.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!mA.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),mA.forEach(n,(function(n,a){!0===(!(mA.isUndefined(n)||null===n)&&i.call(t,n,mA.isString(a)?a.trim():a,r,f))&&e(n,r?r.concat(a):[a])})),l.pop()}}(e),t};function IA(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function TA(e,t){this._pairs=[],e&&EA(e,this,t)}var CA=TA.prototype;CA.append=function(e,t){this._pairs.push([e,t])},CA.toString=function(e){var t=e?function(t){return e.call(this,t,IA)}:IA;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var AA=TA;function NA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function OA(e,t,n){if(!t)return e;var r,i=n&&n.encode||NA,a=n&&n.serialize;if(r=a?a(t,n):mA.isURLSearchParams(t)?t.toString():new AA(t,n).toString(i)){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}var DA=function(){function e(){c(this,e),this.handlers=[]}return h(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){mA.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),RA=DA,PA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},MA={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:AA,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},isStandardBrowserEnv:function(){var e;return("undefined"===typeof navigator||"ReactNative"!==(e=navigator.product)&&"NativeScript"!==e&&"NS"!==e)&&("undefined"!==typeof window&&"undefined"!==typeof document)}(),isStandardBrowserWebWorkerEnv:"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,protocols:["http","https","file","blob","url","data"]};var LA=function(e){function t(e,n,r,i){var a=e[i++],o=Number.isFinite(+a),u=i>=e.length;return a=!a&&mA.isArray(r)?r.length:a,u?(mA.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o):(r[a]&&mA.isObject(r[a])||(r[a]=[]),t(e,n,r[a],i)&&mA.isArray(r[a])&&(r[a]=function(e){var t,n,r={},i=Object.keys(e),a=i.length;for(t=0;t<a;t++)r[n=i[t]]=e[n];return r}(r[a])),!o)}if(mA.isFormData(e)&&mA.isFunction(e.entries)){var n={};return mA.forEachEntry(e,(function(e,r){t(function(e){return mA.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),r,n,0)})),n}return null},FA={"Content-Type":void 0};var jA={transitional:PA,adapter:["xhr","http"],transformRequest:[function(e,t){var n,r=t.getContentType()||"",i=r.indexOf("application/json")>-1,a=mA.isObject(e);if(a&&mA.isHTMLForm(e)&&(e=new FormData(e)),mA.isFormData(e))return i&&i?JSON.stringify(LA(e)):e;if(mA.isArrayBuffer(e)||mA.isBuffer(e)||mA.isStream(e)||mA.isFile(e)||mA.isBlob(e))return e;if(mA.isArrayBufferView(e))return e.buffer;if(mA.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return EA(e,new MA.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return MA.isNode&&mA.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=mA.isFileList(e))||r.indexOf("multipart/form-data")>-1){var o=this.env&&this.env.FormData;return EA(n?{"files[]":e}:e,o&&new o,this.formSerializer)}}return a||i?(t.setContentType("application/json",!1),function(e,t,n){if(mA.isString(e))try{return(t||JSON.parse)(e),mA.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||jA.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&mA.isString(e)&&(n&&!this.responseType||r)){var i=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(a){if(i){if("SyntaxError"===a.name)throw bA.from(a,bA.ERR_BAD_RESPONSE,this,null,this.response);throw a}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:MA.classes.FormData,Blob:MA.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};mA.forEach(["delete","get","head"],(function(e){jA.headers[e]={}})),mA.forEach(["post","put","patch"],(function(e){jA.headers[e]=mA.merge(FA)}));var UA=jA,VA=mA.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),BA=Symbol("internals");function zA(e){return e&&String(e).trim().toLowerCase()}function qA(e){return!1===e||null==e?e:mA.isArray(e)?e.map(qA):String(e)}function WA(e,t,n,r,i){return mA.isFunction(r)?r.call(this,t,n):(i&&(t=n),mA.isString(t)?mA.isString(r)?-1!==t.indexOf(r):mA.isRegExp(r)?r.test(t):void 0:void 0)}var GA=function(e,t){function n(e){c(this,n),e&&this.set(e)}return h(n,[{key:"set",value:function(e,t,n){var r=this;function i(e,t,n){var i=zA(t);if(!i)throw new Error("header name must be a non-empty string");var a=mA.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=qA(e))}var a=function(e,t){return mA.forEach(e,(function(e,n){return i(e,n,t)}))};return mA.isPlainObject(e)||e instanceof this.constructor?a(e,t):mA.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?a(function(e){var t,n,r,i={};return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||i[t]&&VA[t]||("set-cookie"===t?i[t]?i[t].push(n):i[t]=[n]:i[t]=i[t]?i[t]+", "+n:n)})),i}(e),t):null!=e&&i(t,e,n),this}},{key:"get",value:function(e,t){if(e=zA(e)){var n=mA.findKey(this,e);if(n){var r=this[n];if(!t)return r;if(!0===t)return function(e){for(var t,n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=r.exec(e);)n[t[1]]=t[2];return n}(r);if(mA.isFunction(t))return t.call(this,r,n);if(mA.isRegExp(t))return t.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=zA(e)){var n=mA.findKey(this,e);return!(!n||void 0===this[n]||t&&!WA(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,r=!1;function i(e){if(e=zA(e)){var i=mA.findKey(n,e);!i||t&&!WA(0,n[i],i,t)||(delete n[i],r=!0)}}return mA.isArray(e)?e.forEach(i):i(e),r}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,r=!1;n--;){var i=t[n];e&&!WA(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}},{key:"normalize",value:function(e){var t=this,n={};return mA.forEach(this,(function(r,i){var a=mA.findKey(n,i);if(a)return t[a]=qA(r),void delete t[i];var o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(i):String(i).trim();o!==i&&delete t[i],t[o]=qA(r),n[o]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return mA.forEach(this,(function(n,r){null!=n&&!1!==n&&(t[r]=e&&mA.isArray(n)?n.join(", "):n)})),t}},{key:Symbol.iterator,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,a.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:Symbol.toStringTag,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[BA]=this[BA]={accessors:{}}).accessors,n=this.prototype;function r(e){var r=zA(e);t[r]||(!function(e,t){var n=mA.toCamelCase(" "+t);["get","set","has"].forEach((function(r){Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return mA.isArray(e)?e.forEach(r):r(e),this}}]),n}();GA.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),mA.freezeMethods(GA.prototype),mA.freezeMethods(GA);var HA=GA;function KA(e,t){var n=this||UA,r=t||n,i=HA.from(r.headers),a=r.data;return mA.forEach(e,(function(e){a=e.call(n,a,i.normalize(),t?t.status:void 0)})),i.normalize(),a}function YA(e){return!(!e||!e.__CANCEL__)}function ZA(e,t,n){bA.call(this,null==e?"canceled":e,bA.ERR_CANCELED,t,n),this.name="CanceledError"}mA.inherits(ZA,bA,{__CANCEL__:!0});var QA=ZA;var $A=MA.isStandardBrowserEnv?{write:function(e,t,n,r,i,a){var o=[];o.push(e+"="+encodeURIComponent(t)),mA.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),mA.isString(r)&&o.push("path="+r),mA.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function XA(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var JA=MA.isStandardBrowserEnv?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=mA.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};var eN=function(e,t){e=e||10;var n,r=new Array(e),i=new Array(e),a=0,o=0;return t=void 0!==t?t:1e3,function(u){var s=Date.now(),c=i[o];n||(n=s),r[a]=u,i[a]=s;for(var l=o,f=0;l!==a;)f+=r[l++],l%=e;if((a=(a+1)%e)===o&&(o=(o+1)%e),!(s-n<t)){var h=c&&s-c;return h?Math.round(1e3*f/h):void 0}}};function tN(e,t){var n=0,r=eN(50,250);return function(i){var a=i.loaded,o=i.lengthComputable?i.total:void 0,u=a-n,s=r(u);n=a;var c={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:s||void 0,estimated:s&&o&&a<=o?(o-a)/s:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}var nN={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var r,i=e.data,a=HA.from(e.headers).normalize(),o=e.responseType;function u(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}mA.isFormData(i)&&(MA.isStandardBrowserEnv||MA.isStandardBrowserWebWorkerEnv?a.setContentType(!1):a.setContentType("multipart/form-data;",!1));var s=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",l=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(c+":"+l))}var f=XA(e.baseURL,e.url);function h(){if(s){var r=HA.from("getAllResponseHeaders"in s&&s.getAllResponseHeaders());!function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new bA("Request failed with status code "+n.status,[bA.ERR_BAD_REQUEST,bA.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),u()}),(function(e){n(e),u()}),{data:o&&"text"!==o&&"json"!==o?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:r,config:e,request:s}),s=null}}if(s.open(e.method.toUpperCase(),OA(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=h:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(h)},s.onabort=function(){s&&(n(new bA("Request aborted",bA.ECONNABORTED,e,s)),s=null)},s.onerror=function(){n(new bA("Network Error",bA.ERR_NETWORK,e,s)),s=null},s.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||PA;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new bA(t,r.clarifyTimeoutError?bA.ETIMEDOUT:bA.ECONNABORTED,e,s)),s=null},MA.isStandardBrowserEnv){var d=(e.withCredentials||JA(f))&&e.xsrfCookieName&&$A.read(e.xsrfCookieName);d&&a.set(e.xsrfHeaderName,d)}void 0===i&&a.setContentType(null),"setRequestHeader"in s&&mA.forEach(a.toJSON(),(function(e,t){s.setRequestHeader(t,e)})),mA.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),o&&"json"!==o&&(s.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&s.addEventListener("progress",tN(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",tN(e.onUploadProgress)),(e.cancelToken||e.signal)&&(r=function(t){s&&(n(!t||t.type?new QA(null,e,s):t),s.abort(),s=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r)));var p=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);p&&-1===MA.protocols.indexOf(p)?n(new bA("Unsupported protocol "+p+":",bA.ERR_BAD_REQUEST,e)):s.send(i||null)}))}};mA.forEach(nN,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var rN=function(e){for(var t,n,r=(e=mA.isArray(e)?e:[e]).length,i=0;i<r&&(t=e[i],!(n=mA.isString(t)?nN[t.toLowerCase()]:t));i++);if(!n){if(!1===n)throw new bA("Adapter ".concat(t," is not supported by the environment"),"ERR_NOT_SUPPORT");throw new Error(mA.hasOwnProp(nN,t)?"Adapter '".concat(t,"' is not available in the build"):"Unknown adapter '".concat(t,"'"))}if(!mA.isFunction(n))throw new TypeError("adapter is not a function");return n};function iN(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new QA(null,e)}function aN(e){return iN(e),e.headers=HA.from(e.headers),e.data=KA.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rN(e.adapter||UA.adapter)(e).then((function(t){return iN(e),t.data=KA.call(e,e.transformResponse,t),t.headers=HA.from(t.headers),t}),(function(t){return YA(t)||(iN(e),t&&t.response&&(t.response.data=KA.call(e,e.transformResponse,t.response),t.response.headers=HA.from(t.response.headers))),Promise.reject(t)}))}var oN=function(e){return e instanceof HA?e.toJSON():e};function uN(e,t){t=t||{};var n={};function r(e,t,n){return mA.isPlainObject(e)&&mA.isPlainObject(t)?mA.merge.call({caseless:n},e,t):mA.isPlainObject(t)?mA.merge({},t):mA.isArray(t)?t.slice():t}function i(e,t,n){return mA.isUndefined(t)?mA.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function a(e,t){if(!mA.isUndefined(t))return r(void 0,t)}function o(e,t){return mA.isUndefined(t)?mA.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function u(n,i,a){return a in t?r(n,i):a in e?r(void 0,n):void 0}var s={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:u,headers:function(e,t){return i(oN(e),oN(t),!0)}};return mA.forEach(Object.keys(Object.assign({},e,t)),(function(r){var a=s[r]||i,o=a(e[r],t[r],r);mA.isUndefined(o)&&a!==u||(n[r]=o)})),n}var sN="1.4.0",cN={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){cN[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var lN={};cN.transitional=function(e,t,n){function r(e,t){return"[Axios v1.4.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,a){if(!1===e)throw new bA(r(i," has been removed"+(t?" in "+t:"")),bA.ERR_DEPRECATED);return t&&!lN[i]&&(lN[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,a)}};var fN={assertOptions:function(e,t,n){if("object"!==typeof e)throw new bA("options must be an object",bA.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),i=r.length;i-- >0;){var a=r[i],o=t[a];if(o){var u=e[a],s=void 0===u||o(u,a,e);if(!0!==s)throw new bA("option "+a+" must be "+s,bA.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new bA("Unknown option "+a,bA.ERR_BAD_OPTION)}},validators:cN},hN=fN.validators,dN=function(){function e(t){c(this,e),this.defaults=t,this.interceptors={request:new RA,response:new RA}}return h(e,[{key:"request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n,r=t=uN(this.defaults,t),i=r.transitional,a=r.paramsSerializer,o=r.headers;void 0!==i&&fN.assertOptions(i,{silentJSONParsing:hN.transitional(hN.boolean),forcedJSONParsing:hN.transitional(hN.boolean),clarifyTimeoutError:hN.transitional(hN.boolean)},!1),null!=a&&(mA.isFunction(a)?t.paramsSerializer={serialize:a}:fN.assertOptions(a,{encode:hN.function,serialize:hN.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase(),(n=o&&mA.merge(o.common,o[t.method]))&&mA.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=HA.concat(n,o);var u=[],s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,u.unshift(e.fulfilled,e.rejected))}));var c,l=[];this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));var f,h=0;if(!s){var d=[aN.bind(this),void 0];for(d.unshift.apply(d,u),d.push.apply(d,l),f=d.length,c=Promise.resolve(t);h<f;)c=c.then(d[h++],d[h++]);return c}f=u.length;var p=t;for(h=0;h<f;){var v=u[h++],m=u[h++];try{p=v(p)}catch(y){m.call(this,y);break}}try{c=aN.call(this,p)}catch(y){return Promise.reject(y)}for(h=0,f=l.length;h<f;)c=c.then(l[h++],l[h++]);return c}},{key:"getUri",value:function(e){return OA(XA((e=uN(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();mA.forEach(["delete","get","head","options"],(function(e){dN.prototype[e]=function(t,n){return this.request(uN(n||{},{method:e,url:t,data:(n||{}).data}))}})),mA.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(uN(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}dN.prototype[e]=t(),dN.prototype[e+"Form"]=t(!0)}));var pN=dN,vN=function(){function e(t){if(c(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){for(var t=r._listeners.length;t-- >0;)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(e,t,i){r.reason||(r.reason=new QA(e,t,i),n(r.reason))}))}return h(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),mN=vN;var yN={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yN).forEach((function(e){var t=(0,a.Z)(e,2),n=t[0],r=t[1];yN[r]=n}));var gN=yN;var kN=function e(t){var n=new pN(t),r=LC(pN.prototype.request,n);return mA.extend(r,pN.prototype,n,{allOwnKeys:!0}),mA.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(uN(t,n))},r}(UA);kN.Axios=pN,kN.CanceledError=QA,kN.CancelToken=mN,kN.isCancel=YA,kN.VERSION=sN,kN.toFormData=EA,kN.AxiosError=bA,kN.Cancel=kN.CanceledError,kN.all=function(e){return Promise.all(e)},kN.spread=function(e){return function(t){return e.apply(null,t)}},kN.isAxiosError=function(e){return mA.isObject(e)&&!0===e.isAxiosError},kN.mergeConfig=uN,kN.AxiosHeaders=HA,kN.formToJSON=function(e){return LA(mA.isHTMLForm(e)?new FormData(e):e)},kN.HttpStatusCode=gN,kN.default=kN;var bN=kN.create({baseURL:"http://127.0.0.1:5001/clone-24f04/us-central1/api"});var wN=function(){var e=et(),n=(0,a.Z)(e,2),r=n[0],i=r.basket,o=r.user,u=n[1],s=xe(),c=(0,MC.useStripe)(),l=(0,MC.useElements)(),f=(0,t.useState)(!1),h=(0,a.Z)(f,2),d=h[0],p=h[1],v=(0,t.useState)(""),m=(0,a.Z)(v,2),y=m[0],g=m[1],k=(0,t.useState)(null),b=(0,a.Z)(k,2),w=b[0],_=b[1],x=(0,t.useState)(!0),S=(0,a.Z)(x,2),E=S[0],I=S[1],T=(0,t.useState)(!0),C=(0,a.Z)(T,2),A=C[0],N=C[1];(0,t.useEffect)((function(){var e=function(){var e=Pt(Dt().mark((function e(){var t;return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bN({method:"post",url:"/payments/create?total=".concat(100*AC(i))});case 2:t=e.sent,N(t.data.clientSecret);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[i]),console.log("THE SECRET IS >>>",A),console.log("\ud83d\udc71",o);var O=function(){var e=Pt(Dt().mark((function e(t){return Dt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(!0),e.next=4,c.confirmCardPayment(A,{payment_method:{card:l.getElement(MC.CardElement)}}).then((function(e){var t=e.paymentIntent;_C.collection("users").doc(null===o||void 0===o?void 0:o.uid).collection("orders").doc(t.id).set({basket:i,amount:t.amount,created:t.created}),p(!0),_(null),g(!1),u({type:"EMPTY_BASKET"}),s("/orders",{replace:!0})}));case 4:e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,$e.jsx)("div",{className:"payment",children:(0,$e.jsxs)("div",{className:"payment__container",children:[(0,$e.jsxs)("h1",{children:["Checkout (",(0,$e.jsxs)(Ye,{to:"/checkout",children:[null===i||void 0===i?void 0:i.length," items"]}),")"]}),(0,$e.jsxs)("div",{className:"payment__section",children:[(0,$e.jsx)("div",{className:"payment__title",children:(0,$e.jsx)("h3",{children:"Delivery Address"})}),(0,$e.jsxs)("div",{className:"payment__address",children:[(0,$e.jsx)("p",{children:null===o||void 0===o?void 0:o.email}),(0,$e.jsx)("p",{children:"123 React Lane"}),(0,$e.jsx)("p",{children:"Los Angeles, CA"})]})]}),(0,$e.jsxs)("div",{className:"payment__section",children:[(0,$e.jsx)("div",{className:"payment__title",children:(0,$e.jsx)("h3",{children:"Review items and delivery"})}),(0,$e.jsx)("div",{className:"payment__items",children:i.map((function(e){return(0,$e.jsx)(DC,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating})}))})]}),(0,$e.jsxs)("div",{className:"payment__section",children:[(0,$e.jsx)("div",{className:"payment__title",children:(0,$e.jsx)("h3",{children:"Payment Method"})}),(0,$e.jsx)("div",{className:"payment__details",children:(0,$e.jsxs)("form",{onSubmit:O,children:[(0,$e.jsx)(MC.CardElement,{onChange:function(e){I(e.empty),_(e.error?e.error.message:"")}}),(0,$e.jsxs)("div",{className:"payment__priceContainer",children:[(0,$e.jsx)(CC(),{renderText:function(e){return(0,$e.jsxs)("h3",{children:["Order Total: ",e]})},decimalScale:2,value:AC(i),displayType:"text",thousandSeparator:!0,prefix:"$"}),(0,$e.jsx)("button",{disabled:y||E||d,children:(0,$e.jsx)("span",{children:y?(0,$e.jsx)("p",{children:"Processing"}):"Buy Now"})})]}),w&&(0,$e.jsx)("div",{children:w})]})})]})]})})},_N=n(426),xN=n.n(_N);var SN=function(e){var t,n=e.order;return(0,$e.jsxs)("div",{className:"order",children:[(0,$e.jsx)("h2",{children:"Order"}),(0,$e.jsx)("p",{children:xN().unix(n.data.created).format("MMMM Do YYYY, h:mma")}),(0,$e.jsx)("p",{className:"order__id",children:(0,$e.jsx)("small",{children:n.id})}),null===(t=n.data.basket)||void 0===t?void 0:t.map((function(e){return(0,$e.jsx)(DC,{id:e.id,title:e.title,image:e.image,price:e.price,rating:e.rating,hideButton:!0})})),(0,$e.jsx)(CC(),{renderText:function(e){return(0,$e.jsxs)("h3",{className:"order__total",children:["Order Total: ",e]})},decimalScale:2,value:n.data.amount/100,displayType:"text",thousandSeparator:!0,prefix:"$"})]})};var EN=function(){var e=et(),n=(0,a.Z)(e,2),r=n[0],i=(r.basket,r.user),o=(n[1],(0,t.useState)([])),u=(0,a.Z)(o,2),s=u[0],c=u[1];return(0,t.useEffect)((function(){i?_C.collection("users").doc(null===i||void 0===i?void 0:i.uid).collection("orders").orderBy("created","desc").onSnapshot((function(e){return c(e.docs.map((function(e){return{id:e.id,data:e.data()}})))})):c([])}),[i]),(0,$e.jsxs)("div",{className:"orders",children:[(0,$e.jsx)("h1",{children:"Your Orders"}),(0,$e.jsx)("div",{className:"orders__order",children:null===s||void 0===s?void 0:s.map((function(e){return(0,$e.jsx)(SN,{order:e})}))})]})},IN="https://js.stripe.com/v3",TN=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,CN="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",AN=null,NN=function(e){return null!==AN||(AN=new Promise((function(t,n){if("undefined"!==typeof window&&"undefined"!==typeof document)if(window.Stripe&&e&&console.warn(CN),window.Stripe)t(window.Stripe);else try{var r=function(){for(var e=document.querySelectorAll('script[src^="'.concat(IN,'"]')),t=0;t<e.length;t++){var n=e[t];if(TN.test(n.src))return n}return null}();r&&e?console.warn(CN):r||(r=function(e){var t=e&&!e.advancedFraudSignals?"?advancedFraudSignals=false":"",n=document.createElement("script");n.src="".concat(IN).concat(t);var r=document.head||document.body;if(!r)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return r.appendChild(n),n}(e)),r.addEventListener("load",(function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))})),r.addEventListener("error",(function(){n(new Error("Failed to load Stripe.js"))}))}catch(i){return void n(i)}else t(null)}))),AN},ON=Promise.resolve().then((function(){return NN(null)})),DN=!1;ON.catch((function(e){DN||console.warn(e)}));var RN=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];DN=!0;var r=Date.now();return ON.then((function(e){return function(e,t,n){if(null===e)return null;var r=e.apply(void 0,t);return function(e,t){e&&e._registerWrapper&&e._registerWrapper({name:"stripe-js",version:"1.54.1",startTime:t})}(r,n),r}(e,t,r)}))}("pk_test_51NMZIVJrjWPjCoCJMmi6j0P5sIA7o0TGc2nbcId6n4lXtT6pIEj8WvKX6GT707FfsSVTJpMfk5ixkqfzpbpRzyVB00sU9sZI4S");var PN=function(){var e=et(),n=(0,a.Z)(e,2);!function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(n[0]);var r=n[1];return(0,t.useEffect)((function(){xC.onAuthStateChanged((function(e){console.log("THE USER IS >>> ",e),r(e?{type:"SET_USER",user:e}:{type:"SET_USER",user:null})}))}),[]),(0,$e.jsx)(Ge,{children:(0,$e.jsx)("div",{className:"app",children:(0,$e.jsxs)(Ue,{children:[(0,$e.jsx)(Fe,{path:"/orders",element:[(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(SC,{}),(0,$e.jsx)(EN,{})]})]}),(0,$e.jsx)(Fe,{path:"/login",element:[(0,$e.jsx)(PC,{})]}),(0,$e.jsx)(Fe,{path:"/checkout",element:[(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(SC,{}),(0,$e.jsx)(RC,{})]})]}),(0,$e.jsx)(Fe,{path:"/payment",element:(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(SC,{}),(0,$e.jsx)(MC.Elements,{stripe:RN,children:(0,$e.jsx)(wN,{})})]}),children:" "}),(0,$e.jsx)(Fe,{path:"/",element:[(0,$e.jsxs)($e.Fragment,{children:[(0,$e.jsx)(SC,{}),(0,$e.jsx)(IC,{})]})]})]})})})};i.createRoot(document.getElementById("root")).render((0,$e.jsx)(t.StrictMode,{children:(0,$e.jsx)(Je,{initialState:{basket:[],user:null},reducer:NC,children:(0,$e.jsx)(PN,{})})}))}()}();
//# sourceMappingURL=main.f6727e42.js.map